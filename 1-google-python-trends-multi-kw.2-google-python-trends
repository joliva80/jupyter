{
 "cells": [
  {
   "cell_type": "markdown",
   "metadata": {},
   "source": [
    "## Python Google Trends API\n",
    "\n",
    "* https://towardsdatascience.com/google-trends-api-for-python-a84bc25db88f\n",
    "* https://pypi.org/project/pytrends/\n",
    "* https://github.com/GeneralMills/pytrends#installation\n",
    "* https://www.honchosearch.com/blog/seo/how-to-use-python-pytrends-to-automate-google-trends-data/"
   ]
  },
  {
   "cell_type": "code",
   "execution_count": 259,
   "metadata": {},
   "outputs": [],
   "source": [
    "#!python3.8 -m pip install pytrends\n",
    "#!python3.8 -m pip install plotly\n",
    "#!python3.8 -m pip install pycountry"
   ]
  },
  {
   "cell_type": "code",
   "execution_count": 1,
   "metadata": {},
   "outputs": [],
   "source": [
    "'''\n",
    "imports\n",
    "'''\n",
    "# Linear Regression\n",
    "import pandas as pd   \n",
    "from pytrends.request import TrendReq\n",
    "import matplotlib.pyplot as plt\n",
    "import plotly.graph_objects as go\n",
    "import pandas as pd\n",
    "import scipy.signal\n",
    "import numpy as np\n",
    "from sklearn import linear_model\n",
    "\n",
    "# Logistic Regression (Churn classification)\n",
    "from scipy.signal import find_peaks\n",
    "from sklearn.linear_model import LogisticRegression\n",
    "from sklearn.model_selection import train_test_split\n",
    "from sklearn import preprocessing\n",
    "from sklearn.linear_model import LogisticRegression\n",
    "from sklearn.metrics import confusion_matrix\n",
    "from sklearn.metrics import jaccard_score\n",
    "from sklearn.metrics import classification_report, confusion_matrix\n",
    "from sklearn.metrics import log_loss\n"
   ]
  },
  {
   "cell_type": "markdown",
   "metadata": {},
   "source": [
    "## Environment Variables and Authentication"
   ]
  },
  {
   "cell_type": "code",
   "execution_count": 50,
   "metadata": {},
   "outputs": [],
   "source": [
    "'''\n",
    "GLOBAL ENVIRONMENT GOOGLE TREND VARIABLES\n",
    "'''\n",
    "# Get Dataframe with desired keyoword trend search\n",
    "pytrend = TrendReq()\n",
    "kw_list=['ahorro corriente', 'ahorro energia', 'energia solar', 'placas solares', 'energia fotovoltaica', 'energia solar fotovoltaica', 'placa energia solar']\n",
    "directory = \"/Users/joan/Workspace/python/py-trends-api/\"\n",
    "timeframe = 'all' # 'today 5-y'\n",
    "geo_location='ES' # specific country location Espa√±a\n",
    "year_start = 2021\n",
    "year_end = 2021\n",
    "month_start = 6\n",
    "month_end = 6\n",
    "day_start = 1\n",
    "day_end = 7\n",
    "hour_start = 0\n",
    "hour_end = 23"
   ]
  },
  {
   "cell_type": "markdown",
   "metadata": {},
   "source": [
    "## Functions definition"
   ]
  },
  {
   "cell_type": "code",
   "execution_count": 51,
   "metadata": {},
   "outputs": [],
   "source": [
    "'''\n",
    " Get Google trends over time, all history by year, month and day\n",
    "'''\n",
    "def gtrends_overtime(kw_list, save_name=\"\", directory=\"\", category=0, time='all', loc=''):\n",
    "  \n",
    "    #iterate every 4 item in list plus a keyword reference as the relative comparison\n",
    "    i = 0\n",
    "    n_files = 0\n",
    "    print(\"Start getting google trends over time file num: \")\n",
    "    while i < len(kw_list):\n",
    "        l = kw_list[i:(i+4)]\n",
    "        \n",
    "        pytrend.build_payload(l, cat=category, timeframe=time, geo=loc, gprop='')\n",
    "        df_time = pytrend.interest_over_time()\n",
    "        \n",
    "        #df_time.reset_index(inplace=True) # convert date index into date column\n",
    "        df_time_name = str(save_name)+str((i+4)//4)+\".csv\"\n",
    "        df_time.to_csv(directory+df_time_name, index = False)\n",
    "        i += 4\n",
    "        n_files += 1\n",
    "        print(df_time_name)\n",
    "        \n",
    "    return n_files"
   ]
  },
  {
   "cell_type": "code",
   "execution_count": 52,
   "metadata": {},
   "outputs": [],
   "source": [
    "'''\n",
    " Get Google trends historical Interest by year, month, day and hour\n",
    "'''\n",
    "def gtrends_historical(kw_list, year_start=0, month_start=0, day_start=0, hour_start=0, \n",
    "                       year_end=0, month_end=0, day_end=0, hour_end=0, \n",
    "                       save_name=\"\", directory=\"\", category=0, geo_location='ES'):\n",
    "  \n",
    "    #iterate every 3 item in list\n",
    "    i = 0\n",
    "    n_files = 0\n",
    "    print(\"Start getting google trends over time file num: \")\n",
    "    while i < len(kw_list):\n",
    "        l = kw_list[i:(i+3)]\n",
    "        df_time = pytrend.get_historical_interest(l, year_start=year_start, month_start=month_start, \n",
    "                                                  day_start=day_start, hour_start=hour_start, \n",
    "                                                  year_end=year_end, month_end=month_end, day_end=day_end, \n",
    "                                                  hour_end=hour_end, cat=category, geo=geo_location, \n",
    "                                                  gprop='', sleep=0)\n",
    "            \n",
    "        df_time.reset_index(inplace=True) # convert date index into date column\n",
    "        df_time_name = str(save_name)+str((i+3)//3)+\".csv\"\n",
    "        df_time.to_csv(directory+df_time_name, index = False)\n",
    "        i += 3\n",
    "        n_files += 1\n",
    "        print(df_time_name)\n",
    "        \n",
    "    return n_files"
   ]
  },
  {
   "cell_type": "code",
   "execution_count": 64,
   "metadata": {},
   "outputs": [],
   "source": [
    "def combine_wbase(directory, base_name, n_files, out_filename):\n",
    "    \n",
    "    print(\"Merging CSV \" + str(n_files) + \" files: \")\n",
    "    first_file_name = directory+base_name+str(1)+\".csv\"\n",
    "    df1 = pd.read_csv(first_file_name)\n",
    "    print(first_file_name)\n",
    "    \n",
    "    for i in range(n_files-1):\n",
    "        filename = directory+base_name+str(i+2)+\".csv\"\n",
    "        df2 = pd.read_csv(filename)\n",
    "        df1 = pd.concat([df1, df2], axis=1, sort=False)\n",
    "        print(filename)\n",
    "        \n",
    "    # Drop duplicated columns\n",
    "    print(\"Dropping duplicated columns...\")\n",
    "    df1 = df1.loc[:,~df1.columns.duplicated()] # date and isPartial\n",
    "    \n",
    "    # Saving the merged file or you can simply return the dataframe\n",
    "    print(\"Saving file to: \" + directory+out_filename)\n",
    "    df1.to_csv(directory+out_filename, index = False)\n",
    "    \n",
    "    \n",
    "    return df1"
   ]
  },
  {
   "cell_type": "code",
   "execution_count": 54,
   "metadata": {},
   "outputs": [],
   "source": [
    "# Tidy up IsPartial column for data overtime, eliminates the rows with isPartial == true\n",
    "# and then drop the column isPartial, when all values are false\n",
    "def isPartialTidyUp(df, n_file):\n",
    "    for i in range(n_file-1):\n",
    "        df = df.drop(columns=\"isPartial.\"+str(i+1)+\"\")\n",
    "    if df.isPartial.tail(1).bool() == True:\n",
    "        df = df.drop(df.isPartial.tail(1).index, axis=0)\n",
    "    df = df.drop(columns=\"isPartial\")\n",
    "    return df"
   ]
  },
  {
   "cell_type": "code",
   "execution_count": null,
   "metadata": {},
   "outputs": [],
   "source": []
  },
  {
   "cell_type": "markdown",
   "metadata": {},
   "source": [
    "## Searching for Trends"
   ]
  },
  {
   "cell_type": "code",
   "execution_count": 65,
   "metadata": {},
   "outputs": [
    {
     "name": "stdout",
     "output_type": "stream",
     "text": [
      "Start getting google trends over time file num: \n",
      "gtrends_overtime_MULTIKEYWORD-15-6_1.csv\n",
      "gtrends_overtime_MULTIKEYWORD-15-6_2.csv\n",
      "gtrends_overtime_MULTIKEYWORD-15-6_3.csv\n",
      "Merging CSV 3 files: \n",
      "/Users/joan/Workspace/python/py-trends-api/gtrends_overtime_MULTIKEYWORD-15-6_1.csv\n",
      "/Users/joan/Workspace/python/py-trends-api/gtrends_overtime_MULTIKEYWORD-15-6_2.csv\n",
      "/Users/joan/Workspace/python/py-trends-api/gtrends_overtime_MULTIKEYWORD-15-6_3.csv\n",
      "Dropping duplicated columns...\n",
      "Saving file to: /Users/joan/Workspace/python/py-trends-api/gtrends_overtime_MULTIKEYWORD-15-6_COMBINED.csv\n"
     ]
    },
    {
     "data": {
      "text/html": [
       "<div>\n",
       "<style scoped>\n",
       "    .dataframe tbody tr th:only-of-type {\n",
       "        vertical-align: middle;\n",
       "    }\n",
       "\n",
       "    .dataframe tbody tr th {\n",
       "        vertical-align: top;\n",
       "    }\n",
       "\n",
       "    .dataframe thead th {\n",
       "        text-align: right;\n",
       "    }\n",
       "</style>\n",
       "<table border=\"1\" class=\"dataframe\">\n",
       "  <thead>\n",
       "    <tr style=\"text-align: right;\">\n",
       "      <th></th>\n",
       "      <th>date</th>\n",
       "      <th>ahorro corriente</th>\n",
       "      <th>ahorro energia</th>\n",
       "      <th>energia solar</th>\n",
       "      <th>isPartial</th>\n",
       "      <th>placas solares</th>\n",
       "      <th>energia fotovoltaica</th>\n",
       "      <th>energia solar fotovoltaica</th>\n",
       "      <th>placa energia solar</th>\n",
       "    </tr>\n",
       "  </thead>\n",
       "  <tbody>\n",
       "    <tr>\n",
       "      <th>0</th>\n",
       "      <td>2021-06-01 00:00:00</td>\n",
       "      <td>0</td>\n",
       "      <td>13</td>\n",
       "      <td>20</td>\n",
       "      <td>False</td>\n",
       "      <td>37</td>\n",
       "      <td>0</td>\n",
       "      <td>0</td>\n",
       "      <td>0</td>\n",
       "    </tr>\n",
       "    <tr>\n",
       "      <th>1</th>\n",
       "      <td>2021-06-01 01:00:00</td>\n",
       "      <td>0</td>\n",
       "      <td>0</td>\n",
       "      <td>12</td>\n",
       "      <td>False</td>\n",
       "      <td>38</td>\n",
       "      <td>0</td>\n",
       "      <td>0</td>\n",
       "      <td>0</td>\n",
       "    </tr>\n",
       "    <tr>\n",
       "      <th>2</th>\n",
       "      <td>2021-06-01 02:00:00</td>\n",
       "      <td>0</td>\n",
       "      <td>14</td>\n",
       "      <td>70</td>\n",
       "      <td>False</td>\n",
       "      <td>33</td>\n",
       "      <td>4</td>\n",
       "      <td>4</td>\n",
       "      <td>0</td>\n",
       "    </tr>\n",
       "    <tr>\n",
       "      <th>3</th>\n",
       "      <td>2021-06-01 03:00:00</td>\n",
       "      <td>0</td>\n",
       "      <td>0</td>\n",
       "      <td>50</td>\n",
       "      <td>False</td>\n",
       "      <td>47</td>\n",
       "      <td>3</td>\n",
       "      <td>3</td>\n",
       "      <td>0</td>\n",
       "    </tr>\n",
       "    <tr>\n",
       "      <th>4</th>\n",
       "      <td>2021-06-01 04:00:00</td>\n",
       "      <td>0</td>\n",
       "      <td>0</td>\n",
       "      <td>54</td>\n",
       "      <td>False</td>\n",
       "      <td>59</td>\n",
       "      <td>4</td>\n",
       "      <td>4</td>\n",
       "      <td>0</td>\n",
       "    </tr>\n",
       "    <tr>\n",
       "      <th>...</th>\n",
       "      <td>...</td>\n",
       "      <td>...</td>\n",
       "      <td>...</td>\n",
       "      <td>...</td>\n",
       "      <td>...</td>\n",
       "      <td>...</td>\n",
       "      <td>...</td>\n",
       "      <td>...</td>\n",
       "      <td>...</td>\n",
       "    </tr>\n",
       "    <tr>\n",
       "      <th>163</th>\n",
       "      <td>2021-06-07 19:00:00</td>\n",
       "      <td>1</td>\n",
       "      <td>6</td>\n",
       "      <td>36</td>\n",
       "      <td>False</td>\n",
       "      <td>53</td>\n",
       "      <td>3</td>\n",
       "      <td>1</td>\n",
       "      <td>0</td>\n",
       "    </tr>\n",
       "    <tr>\n",
       "      <th>164</th>\n",
       "      <td>2021-06-07 20:00:00</td>\n",
       "      <td>0</td>\n",
       "      <td>5</td>\n",
       "      <td>36</td>\n",
       "      <td>False</td>\n",
       "      <td>57</td>\n",
       "      <td>3</td>\n",
       "      <td>2</td>\n",
       "      <td>22</td>\n",
       "    </tr>\n",
       "    <tr>\n",
       "      <th>165</th>\n",
       "      <td>2021-06-07 21:00:00</td>\n",
       "      <td>2</td>\n",
       "      <td>6</td>\n",
       "      <td>38</td>\n",
       "      <td>False</td>\n",
       "      <td>50</td>\n",
       "      <td>2</td>\n",
       "      <td>1</td>\n",
       "      <td>17</td>\n",
       "    </tr>\n",
       "    <tr>\n",
       "      <th>166</th>\n",
       "      <td>2021-06-07 22:00:00</td>\n",
       "      <td>0</td>\n",
       "      <td>8</td>\n",
       "      <td>43</td>\n",
       "      <td>False</td>\n",
       "      <td>41</td>\n",
       "      <td>2</td>\n",
       "      <td>1</td>\n",
       "      <td>42</td>\n",
       "    </tr>\n",
       "    <tr>\n",
       "      <th>167</th>\n",
       "      <td>2021-06-07 23:00:00</td>\n",
       "      <td>0</td>\n",
       "      <td>3</td>\n",
       "      <td>13</td>\n",
       "      <td>False</td>\n",
       "      <td>37</td>\n",
       "      <td>2</td>\n",
       "      <td>0</td>\n",
       "      <td>0</td>\n",
       "    </tr>\n",
       "  </tbody>\n",
       "</table>\n",
       "<p>168 rows √ó 9 columns</p>\n",
       "</div>"
      ],
      "text/plain": [
       "                    date  ahorro corriente  ahorro energia  energia solar  \\\n",
       "0    2021-06-01 00:00:00                 0              13             20   \n",
       "1    2021-06-01 01:00:00                 0               0             12   \n",
       "2    2021-06-01 02:00:00                 0              14             70   \n",
       "3    2021-06-01 03:00:00                 0               0             50   \n",
       "4    2021-06-01 04:00:00                 0               0             54   \n",
       "..                   ...               ...             ...            ...   \n",
       "163  2021-06-07 19:00:00                 1               6             36   \n",
       "164  2021-06-07 20:00:00                 0               5             36   \n",
       "165  2021-06-07 21:00:00                 2               6             38   \n",
       "166  2021-06-07 22:00:00                 0               8             43   \n",
       "167  2021-06-07 23:00:00                 0               3             13   \n",
       "\n",
       "     isPartial  placas solares  energia fotovoltaica  \\\n",
       "0        False              37                     0   \n",
       "1        False              38                     0   \n",
       "2        False              33                     4   \n",
       "3        False              47                     3   \n",
       "4        False              59                     4   \n",
       "..         ...             ...                   ...   \n",
       "163      False              53                     3   \n",
       "164      False              57                     3   \n",
       "165      False              50                     2   \n",
       "166      False              41                     2   \n",
       "167      False              37                     2   \n",
       "\n",
       "     energia solar fotovoltaica  placa energia solar  \n",
       "0                             0                    0  \n",
       "1                             0                    0  \n",
       "2                             4                    0  \n",
       "3                             3                    0  \n",
       "4                             4                    0  \n",
       "..                          ...                  ...  \n",
       "163                           1                    0  \n",
       "164                           2                   22  \n",
       "165                           1                   17  \n",
       "166                           1                   42  \n",
       "167                           0                    0  \n",
       "\n",
       "[168 rows x 9 columns]"
      ]
     },
     "execution_count": 65,
     "metadata": {},
     "output_type": "execute_result"
    }
   ],
   "source": [
    "'''\n",
    "Test keyword list and store into CSV, month by month to get hourly to avoid timeouts\n",
    "'''\n",
    "# single call\n",
    "#df = pytrend.get_historical_interest(kw_list[0:2], year_start=year_start, month_start=month_start, \n",
    "#                                    day_start=day_start, hour_start=hour_start, year_end=year_end, \n",
    "#                                    month_end=month_end, day_end=day_end, hour_end=hour_end, cat=0, geo=geo_location, gprop='', sleep=0)\n",
    "\n",
    "# multi calls for multikeyword\n",
    "#n_files = gtrends_overtime(kw_list, \"gtrends_overtime_MULTIKEYWORD-14-6_\", directory, category=71, time='all', loc='ES')\n",
    "n_files = gtrends_historical(kw_list, year_start=year_start, month_start=month_start, day_start=day_start, \n",
    "                             hour_start=hour_start, year_end=year_end, month_end=month_end, day_end=day_end, \n",
    "                             hour_end=hour_end, save_name=\"gtrends_overtime_MULTIKEYWORD-15-6_\", \n",
    "                             directory=directory, category=0, geo_location=geo_location)\n",
    "\n",
    "# combine multikeyword files\n",
    "df = combine_wbase(directory, \"gtrends_overtime_MULTIKEYWORD-15-6_\", n_files, \"gtrends_overtime_MULTIKEYWORD-15-6_COMBINED.csv\")\n",
    "\n",
    "df"
   ]
  },
  {
   "cell_type": "markdown",
   "metadata": {},
   "source": [
    "## Processing Data"
   ]
  },
  {
   "cell_type": "code",
   "execution_count": null,
   "metadata": {},
   "outputs": [],
   "source": [
    "\n"
   ]
  },
  {
   "cell_type": "code",
   "execution_count": 66,
   "metadata": {},
   "outputs": [
    {
     "data": {
      "text/html": [
       "<div>\n",
       "<style scoped>\n",
       "    .dataframe tbody tr th:only-of-type {\n",
       "        vertical-align: middle;\n",
       "    }\n",
       "\n",
       "    .dataframe tbody tr th {\n",
       "        vertical-align: top;\n",
       "    }\n",
       "\n",
       "    .dataframe thead th {\n",
       "        text-align: right;\n",
       "    }\n",
       "</style>\n",
       "<table border=\"1\" class=\"dataframe\">\n",
       "  <thead>\n",
       "    <tr style=\"text-align: right;\">\n",
       "      <th></th>\n",
       "      <th>date</th>\n",
       "      <th>ahorro corriente</th>\n",
       "      <th>ahorro energia</th>\n",
       "      <th>energia solar</th>\n",
       "      <th>placas solares</th>\n",
       "      <th>energia fotovoltaica</th>\n",
       "      <th>energia solar fotovoltaica</th>\n",
       "      <th>placa energia solar</th>\n",
       "      <th>year</th>\n",
       "      <th>month</th>\n",
       "      <th>day</th>\n",
       "      <th>hour</th>\n",
       "      <th>geo_location</th>\n",
       "      <th>min_interest</th>\n",
       "      <th>max_interest</th>\n",
       "      <th>avg_interest</th>\n",
       "    </tr>\n",
       "  </thead>\n",
       "  <tbody>\n",
       "    <tr>\n",
       "      <th>0</th>\n",
       "      <td>2021-06-01 00:00:00</td>\n",
       "      <td>0</td>\n",
       "      <td>13</td>\n",
       "      <td>20</td>\n",
       "      <td>37</td>\n",
       "      <td>0</td>\n",
       "      <td>0</td>\n",
       "      <td>0</td>\n",
       "      <td>2021</td>\n",
       "      <td>6</td>\n",
       "      <td>1</td>\n",
       "      <td>0</td>\n",
       "      <td>ES</td>\n",
       "      <td>0</td>\n",
       "      <td>37</td>\n",
       "      <td>10.000000</td>\n",
       "    </tr>\n",
       "    <tr>\n",
       "      <th>1</th>\n",
       "      <td>2021-06-01 01:00:00</td>\n",
       "      <td>0</td>\n",
       "      <td>0</td>\n",
       "      <td>12</td>\n",
       "      <td>38</td>\n",
       "      <td>0</td>\n",
       "      <td>0</td>\n",
       "      <td>0</td>\n",
       "      <td>2021</td>\n",
       "      <td>6</td>\n",
       "      <td>1</td>\n",
       "      <td>1</td>\n",
       "      <td>ES</td>\n",
       "      <td>0</td>\n",
       "      <td>38</td>\n",
       "      <td>7.142857</td>\n",
       "    </tr>\n",
       "    <tr>\n",
       "      <th>2</th>\n",
       "      <td>2021-06-01 02:00:00</td>\n",
       "      <td>0</td>\n",
       "      <td>14</td>\n",
       "      <td>70</td>\n",
       "      <td>33</td>\n",
       "      <td>4</td>\n",
       "      <td>4</td>\n",
       "      <td>0</td>\n",
       "      <td>2021</td>\n",
       "      <td>6</td>\n",
       "      <td>1</td>\n",
       "      <td>2</td>\n",
       "      <td>ES</td>\n",
       "      <td>0</td>\n",
       "      <td>70</td>\n",
       "      <td>17.857143</td>\n",
       "    </tr>\n",
       "    <tr>\n",
       "      <th>3</th>\n",
       "      <td>2021-06-01 03:00:00</td>\n",
       "      <td>0</td>\n",
       "      <td>0</td>\n",
       "      <td>50</td>\n",
       "      <td>47</td>\n",
       "      <td>3</td>\n",
       "      <td>3</td>\n",
       "      <td>0</td>\n",
       "      <td>2021</td>\n",
       "      <td>6</td>\n",
       "      <td>1</td>\n",
       "      <td>3</td>\n",
       "      <td>ES</td>\n",
       "      <td>0</td>\n",
       "      <td>50</td>\n",
       "      <td>14.714286</td>\n",
       "    </tr>\n",
       "    <tr>\n",
       "      <th>4</th>\n",
       "      <td>2021-06-01 04:00:00</td>\n",
       "      <td>0</td>\n",
       "      <td>0</td>\n",
       "      <td>54</td>\n",
       "      <td>59</td>\n",
       "      <td>4</td>\n",
       "      <td>4</td>\n",
       "      <td>0</td>\n",
       "      <td>2021</td>\n",
       "      <td>6</td>\n",
       "      <td>1</td>\n",
       "      <td>4</td>\n",
       "      <td>ES</td>\n",
       "      <td>0</td>\n",
       "      <td>59</td>\n",
       "      <td>17.285714</td>\n",
       "    </tr>\n",
       "  </tbody>\n",
       "</table>\n",
       "</div>"
      ],
      "text/plain": [
       "                 date  ahorro corriente  ahorro energia  energia solar  \\\n",
       "0 2021-06-01 00:00:00                 0              13             20   \n",
       "1 2021-06-01 01:00:00                 0               0             12   \n",
       "2 2021-06-01 02:00:00                 0              14             70   \n",
       "3 2021-06-01 03:00:00                 0               0             50   \n",
       "4 2021-06-01 04:00:00                 0               0             54   \n",
       "\n",
       "   placas solares  energia fotovoltaica  energia solar fotovoltaica  \\\n",
       "0              37                     0                           0   \n",
       "1              38                     0                           0   \n",
       "2              33                     4                           4   \n",
       "3              47                     3                           3   \n",
       "4              59                     4                           4   \n",
       "\n",
       "   placa energia solar  year  month  day  hour geo_location  min_interest  \\\n",
       "0                    0  2021      6    1     0           ES             0   \n",
       "1                    0  2021      6    1     1           ES             0   \n",
       "2                    0  2021      6    1     2           ES             0   \n",
       "3                    0  2021      6    1     3           ES             0   \n",
       "4                    0  2021      6    1     4           ES             0   \n",
       "\n",
       "   max_interest  avg_interest  \n",
       "0            37     10.000000  \n",
       "1            38      7.142857  \n",
       "2            70     17.857143  \n",
       "3            50     14.714286  \n",
       "4            59     17.285714  "
      ]
     },
     "execution_count": 66,
     "metadata": {},
     "output_type": "execute_result"
    }
   ],
   "source": [
    "# Convert date index to new column date\n",
    "#df.reset_index(inplace=True) # already done in multi keyword function\n",
    "\n",
    "# Tidy up isPartial data (estimated)\n",
    "df = isPartialTidyUp(df,1)\n",
    "\n",
    "# Drop duplicated columns\n",
    "#print(\"Dropping duplicated columns...\")\n",
    "#df = df.loc[:,~df.columns.duplicated()] # date and isPartial\n",
    "\n",
    "# Cast date object column into datetime column\n",
    "df['date'] = pd.to_datetime(df['date'], format='%Y-%m-%dT%H:%M:%S')\n",
    "\n",
    "# Split date into year, month, day and hour\n",
    "df['year'], df['month'], df['day'], df['hour'] = df['date'].apply(lambda x: x.year), df['date'].apply(lambda x: x.month), df['date'].apply(lambda x: x.day), df['date'].apply(lambda x: x.hour)\n",
    "\n",
    "# Drop date column\n",
    "#df = df.drop(columns=\"date\") # will be needed for predictions, it is better to filter in a new dataframe\n",
    "\n",
    "# Interest statistics\n",
    "#df['googleInterest'] = df[kw_list[0]]\n",
    "\n",
    "# Transpose column name with keywords kw_list[i] into a column value within a new column named 'keyword'\n",
    "#df['keyword'] = kw_list[0]\n",
    "#df = df.drop(columns=kw_list[0])\n",
    "\n",
    "# Add location column\n",
    "df['geo_location'] = geo_location # geo_location translated to spanish description from ISO2 ES code\n",
    "\n",
    "# Calculate the min interest\n",
    "df['min_interest'] = df[df.columns[1:(len(kw_list)+1)]].min(axis=1) # Horitzontal min for the keyword columns\n",
    "\n",
    "# Calculate the max interest\n",
    "df['max_interest'] = df[df.columns[1:(len(kw_list)+1)]].max(axis=1) # Horitzontal max for the keyword columns\n",
    "\n",
    "# Calculate the average interest\n",
    "df['avg_interest'] = df[df.columns[1:(len(kw_list)+1)]].mean(axis=1) # Horitzontal mean for the keyword columns\n",
    "\n",
    "df.head()"
   ]
  },
  {
   "cell_type": "code",
   "execution_count": 69,
   "metadata": {},
   "outputs": [
    {
     "data": {
      "text/plain": [
       "Index(['date', 'ahorro corriente', 'ahorro energia', 'energia solar',\n",
       "       'placas solares', 'energia fotovoltaica', 'energia solar fotovoltaica',\n",
       "       'placa energia solar', 'year', 'month', 'day', 'hour', 'geo_location',\n",
       "       'min_interest', 'max_interest', 'avg_interest'],\n",
       "      dtype='object')"
      ]
     },
     "execution_count": 69,
     "metadata": {},
     "output_type": "execute_result"
    }
   ],
   "source": [
    "df.columns"
   ]
  },
  {
   "cell_type": "code",
   "execution_count": 70,
   "metadata": {},
   "outputs": [
    {
     "data": {
      "image/png": "iVBORw0KGgoAAAANSUhEUgAAAYUAAAEICAYAAACwDehOAAAABHNCSVQICAgIfAhkiAAAAAlwSFlzAAALEgAACxIB0t1+/AAAADh0RVh0U29mdHdhcmUAbWF0cGxvdGxpYiB2ZXJzaW9uMy4xLjAsIGh0dHA6Ly9tYXRwbG90bGliLm9yZy+17YcXAAAgAElEQVR4nO2deZhcVbW3318SICEJhBCImUijIJcEEEgUuDgERRkcwKuoXEYBAS8KfDcqAbyKCoJccUIBUZBRIIogish0CQgISDAQIEQCNCQkJCRkZkxY3x9rV/VJpaq6qruqq7p7vc9TT52zzx7WXmefvfZ09pGZEQRBEAQAfRotQBAEQdA8hFEIgiAI8oRRCIIgCPKEUQiCIAjyhFEIgiAI8oRRCIIgCPJ0qVGQdKSke7syzUYi6SJJ/9NgGXqVzqtB0iGSbmu0HLVA0hOSJnVhemdIuqqr0ktpTpI0ryvTrDWN0Fu19Gu0AD0ZMzu+FvGkh/0qMxtdi/gCx8yuBq5utBy1wMzGN1qGoGfQbYePJK1n0Iq5dZEsfStx6+40k87bo1nl6gg9KS/QM5+NrqCr9FZzoyBpiqRnJK2U9KSkTxfx80NJSyU9J2m/jPtISTdJekXSHElfylw7Q9LvJV0laQVwZAm3jST9RNL89PuJpI3KyPslSbMy8u6a3LeXNE3SstQ1/1QmzGWSLpT0F0mrgb3KuJ2ZCfcJSTNSnPdL2ilzrVXS1yQ9Jmm5pOsk9Zc0ELgFGClpVfqNlNQno+vVyb276PyopPOlkm6VNDZzzSQdL+npdP0XklRF2BMkPQ08ndw+Jml20ukFku6WdEy6ts7QmqSfSporaYWk6ZI+UCoPGd1dL+nlpNcTC3Q3VdIV6b48IWliFWELdTxA0uUp37MkfUOZoZRUfvZOx++T9PdUzhZI+rmkDUvkoX9KZ0ny/w9JwzMyFi0bReL5naSXkp7vkTQ+c229Z6NMPK2STk3leKmk30jqX8Jv2bpGpZ/tkuEkbZPKyHJJiyVd10x6kz9rP5T0gqSF8iHqAcn/MEl/TvK8Iulvkqqv482spj/gIGAkbnA+D6wGRqRrRwJvAV8C+gJfBuYDStfvBi4A+gM7Ay8DH0nXzkhhD0xxDyjh9l3gAWBLYAvgfuB7ZWR9EXgvIGAbYCywATAHOA3YEPgwsBLYLoW7DFgO7JnS7V/G7cwUZldgEbBbyvsRQCuwUbreCjyUdDcUmAUcn65NAuYVyH5yyudo4GDgSuCabqDzA5Nut8eHL78J3J+5bsCfgSHAVkmefasIe3vS3wBgGLAC+I/k/6Qk+zEZ3dybCX8osHnyOxl4CehfIh99gOnAt/Ay8k7gWWCfjO5eB/ZPej8beKCKsIU6Pifdq83SPX8sWybw8rN3Op4A7J7y0YKXpZNL5OM44E/AxknOCcAmFZaNqzLxHAUMBjYCfgLMyFy7jIJno0z90Qo8DoxJ9/E+2p6hSQV5LlfXFH22Kwh3DXA6bc/w+5tJb8nPTUk3g5MMZyf/ZwMX4fXXBsAHSM95VXV4rY1CEeXNAA7IPIRzMtc2xh/kd6RCsBYYnLl+NnBZRpn3FMRdzO0ZYP/M+T5AawnZbgVOKuL+AbxC6JNxuwY4I3OzrigIU8otV6AvpKCiBGYDH8o8DIdmrp0LXFTsYUhus3IFLZ2PwCuSfk2u81uAozPnfYBXaXtgjcyDCEwFplQR9sOZ64cDf8+cC5hLCaNQRNalwHtKXNsNeKHA7VTgNxk93ZG5Ng54rYqwhTrOG410fgwljEIRWU8Gbihx7SjciO9U4F5J2biqRJxD0r3YtNSzUUbnraTGUDrfH3im1HNQEDZb7os+2xWEuwK4GBjdTpgu11sqv6uBd2Xc9gCeS8ffBf4IbFNJvkv96jF8dLjahkiWATvgLbYcL+UOzOzVdDgIt9yvmNnKjN/ngVGZ87lFkix0G5nCZeMYWULcMXiFVshIYK6Zvd1JWbKMBSbn9JJ0M6ZAtpcyx6/ieikX3w0prtXAPNwgLKG5dT4W+GlGB6/ghT2bZik9VBI2K9vI7Ln5k1Ny9YqkyWm4YXmKf1PW1WNhPkYW3M/TgOFl8tFfPj9QSdhiOp5b5no2H+9OwwgvpeGn75fJx5V4BXqtfOjvXEkbUFnZyKXXV9I5aUhmBV6xU5BmuWejkKzfkmWpnbqm1LPdXrhv4GXqIfmQ31ElZGyE3rbAG3XTM7L/NbkD/C/ek75N0rOSppSQvSw1NQry8d1fAV8BNjezIXhXUGUDOvOBoZIGZ9y2wruAOaxIuEK3+fhDl41jfok05wLvKiHLmILxuI7IUpjWWWY2JPPb2MyuKROmXLxzgf2A9+DG4ENAPzPblObX+XEFehhgZvdXIG8lYbOyLcCHWgCQpOx5Fvn8wSnA54DNUtldTmk9zsVbaFlZBpvZ/hXmo72whTpeJy94pVeKC4GngG3NbBPc4BTNh5m9ZWbfMbNxwL8Dn8B7WJWUjRz/CRwA7I0b0pbknk2z3LNRSDZvRctSBXVN0We7vXBm9pKZfcnMRuJDRBdI2qYwngbpbTHwGjA+U242NbNBSaaVZjbZzN4JfBL4b0kfKZJuWWrdUxiIZ+JlAElfxK1wu5jZXLw7dnaaxNkJOJrqlwxeA3xT0haShuHjtqXWBf8a+JqkCXK2SYXmQbyb9g1JG8iXhH4SuLZKWbL8Cjhe0m4prYGSPl5QeEqxENhc0qYZt4uAs/CxUgPWAJ/qBjq/CDg1N6EmaVNJB1WYTrVhbwZ2lHRgaqGfgA+bFWMwrsOXgX6SvgVsUibuh4AVkk6RTwL3lbSDpPdWkI+OhJ2K530zSaPwSq0Ug/G5lFWS/g2fRyqKpL0k7Shf2bICH4JcW2XZGAy8gfdSN8Z7Jp3hBEmjJQ3FDVqxyd726ppSz3bZcJIOkpQzvkuT37WFiTdCb2nk4lfAjyVtmeQYJWmfdPyJlE8lmdYWk709amoUzOxJ4Dzg73hFtiM+UVQpB+PWcj5wA/BtM7u9SjHOBB7GJ+JmAo8kt2Ly/g6vWH+LTyTfCAw1szeBT+Et8cX4pNHhZvZUlbJk03oYn+z9OV7Y5uBj2pWEfQqveJ9N3caRwE/xCacL8JbFfXjBa3ad3wD8AO92r8BbafsV89vZsGa2GJ9UPBd/8MYlOd8o4v1WfM7iX3h3/3XKDHmY2Vq8obAz8BxeTn6Nt/jay0dHwn4XH/p6DrgD+H2JfAB8DW+FrsQrkaIraBLvSHGtwOep7qbNoFdaNq7AdfYi8CS+6KAz/Ba4DZ9HeZYiZam9uqbMs91eHfVe4EFJq/Dn6yQze66IjI3S2yl43fFAegbuALZL17ZN56tS/i4ws2kVxLkOuRUoQdDjScOB84BDzOyuRsvTGSR9GfiCmX2o0bLUEkmt+EKAOxotS2+l2768FgSVIGkfSUPk703kxtY725LtciSNkLSn/P2U7fAlszc0Wq6g59Gj3pQMgiLsgQ8hbIh30Q80s9caK1KH2BD4JbA1sAyf37qgoRIFPZIYPgqCIAjyxPBREARBkKcpho+GDRtmLS0tAKxevZqBAwc2VqAGkc379OnTF5vZFu0EqZjepuNK8hg6rj31LMOwro5rRXe7V/XWcYdfha7lb8KECZbjrrvust5KNu/AwxY67jCV5DF0XHvqWYatQMf1kLk7UG8dN0VPIcvMF5dz5JSbi15rPefjXSxN0FFa4h7WndBx/emNOo45hSAIgiBP0/UUgiBYl1Kt1SCoB9FTCIIgCPJETyHoFNW2Ysv578njtEFzU6ty3BPKcPQUgiAIgjxhFIIgCII8YRSCIAiCPGEUgiAIgjxhFIIgCII8YRSCIAiCPLEkNQh6GD15uWRQf6KnEPRqJI2RdJekWZKekHRScj9D0ouSZqTf/o2WtbsSOu5eRE8h6O2sASab2SOSBgPTJeU+sv5jM/thA2XrKYSOuxGdMgrpI9srgbXAGjObKGkocB3QArQCnzOzpZ0TM6glpXai7Y3DC2a2AFiQjldKmgWMaqxUPYvQcfeiFsNHe5nZzmY2MZ1PAe40s22BO9N50AHKdLuHSrpd0tPpf7NGy9oTkNQC7AI8mJy+IukxSZeGjmtD6Lj5qcfw0QHApHR8OTANOKUO6fQGSnW7j8QN7zmSpuCGN3TcCSQNAq4HTjazFZIuBL4HWPo/DziqSLhjgWMBhg8fzrRp0wBYtWpV/rhSZr64vKj75B2riqYk1crTEcrlu9Y6rqXMk3dcW5O4Gq3jWtBZo2DAbZIM+KWZXQwMT91FzGyBpC2LBSx1o4cPgMk7rimaWFcovJEU3uwy3e4wvDVE0gZ4ZXW1mf0BwMwWZq7/CvhzsbCpzF8MMHHiRJs0aRLgZTV3XCmlPi5VK1oPmVTX+KF0vuuh41rKfN69q2sSVyN1XCs6axT2NLP5qeK/XdJTlQYsdaPPv/qPnDezuFhdofBGUu5mF3S7KzK8QftIEnAJMMvMfpRxH5HTMfBp4PFGyNcTCB13LzplFMxsfvpfJOkG4H3AwtzNljQCWFQDOXs1RbrdlYarqjdWridW76GN9tKvliq62HsChwEzJc1IbqcBB0vaGe8NtwLH1Uy43kdT6LjU+xv+LMRCzBwd1oSkgUCfNKwxEPgY8F3gJuAI4Jz0/8daCAq986WcYt1uKjS81fbGyvXE6j200V761VJpF9vM7gWKWdm/1EyYXk7ouHvRmdVHw4F7JT0KPATcbGZ/xY3BRyU9DXw0nQcdoFS3mzbDCzU2vEEQ9G463FMws2eB9xRxXwJ8pDNCBXlKdbvPAaZKOhp4ATioQfIFQdDDiIG0JqZMtxvC8AZVEp9CDSoh9j4KgiAI8oRRCIIgCPKEUQiCIAjyhFEIgiAI8oRRCIIgCPLE6qMgCHoU5VZZNSrt7rS6K3oKQRAEQZ4e0VPoCdY5iPsYBM1A9BSCIAiCPGEUgiAIgjw9YvgoqA2NnKALgqA5CKMQND09aa6hWQ1vT9Jx0Dli+CgIgiDIEz2FIAi6Jc3a6+ruRE8hCIIgyNOjewoxThoEQVAddespSNpX0mxJcyRNqVc6vZXQb2laptzMzBeX0zLl5nV+1RI6rj+h4+ajLj0FSX2BX+DfaJ4H/EPSTWb2ZGfinf/r/2Lox46n/1Y7VR321X/dzyt3XMzbr69i5MIfsOHwdxX115W9iGnTpnHooYcyb968qsJl9PsA8DRwsKSbgN8BJ5jZtFrLWoxl917NmqULGPbJr9UkvrWrl/Lyjefw5qJnGfSefRj64WNqEm+lSJoEXGVmowvK8P8BX6qmDM98cTlHTrmZ1+c+zpK/ns+oL/2yfoLXiOV/n8qaZS+x+X4n5t3q2duW9E7gFuDdwPPUqJ5oRrrTV+/qNXz0PmBO+o4zkq4FDgA6dbNHHnNBh8MuvetShn70eDbedvey/lqm3Mzim39M38HD2OyDh7Ubb7U3NFs4Xn/hMRYvfz3v9vplR3PVVVex9957txdNTr+HAEh6AzjAzMZXJUyTsXLGX+mz8SaMOXkqUqmvkDqvv/AYo0cfV7VBrYJ8GU6y3AUcIOlzwDZmdmglkfQfs0O3MAgAm+7xuYr9lqrkLtt3YDVJ5r7x/pyZralVPdHdqLYXW6WOq0ZmVvtIpc8C+5rZMen8MGA3M/tKxs+xwLHpdDtgdjoeBiyuuVAwAXgceKMCvy3Am8D8OsiRZTCwNfBYOt8ZeAZYCYw1sy1yHiX1M7M16bhd/Sb3eut4JLAR8FwN4gIYC7xFZXov1F0hleSxUMeTaOsp5HUsqRW4FhiU4swbhQaU42Ynm+919FuIpC8DFwAbJKNQbTmuh8zdgYp13CHMrOwPf/CvB17GH/4TM9fOAKYCV+AV2RPAROAg4NeZsCuA5UXC/h64Kl0/BhiQMrsUmAV8A5iXCdMK7J2O3wf8HVgGLAB+DmxYRP6NgFWAAauBZ5L79sC0FP4J4FPJ/Vi8YnozhftTO/4/Abye1Q/wabyyyuXxSeDtFO9vgY1S2M8Ar6awORlfS8e3p7DPp7CvAvcCN6brS4GHk+4OA84HFgJzktu8pMNl6fdKukfPAq0FOuqf7sOS5PcfwPDM/b8phZ8DfKngHl6VOf8d8FK61/cA4zPXLgMuBP6S7sPeBTJcVqD3vdO9+wluJOan442AgUlPbye/q2gzUDn/b+b8p/hnpXvVCpyauSd/TPn/VLp/b6f7fDLwEG6k38bL5YMp3rdSmnNTvK/hjY3VSb9/wMvEypTe4kw+x6TrLyd9/xyYku7zWymeJcDVwE54mTgCeCHJcHomrj4p7DMpzFRgaLrWksIencLek9wPT2ktAf6HdZ+piu9nkefsyJT3tUmPh2Rk/GZKcxFeV2yarv1XkrFfOr+YdcvpcZn4J+Fl+pQk05Xt1V2V/tJ9vL7A7fxUfjYFLsHrmBeBM4G+yc+78KHFJeneXA0MKaivTsHrgjdy+ayBvA/XKu9F428n8T7AdOBbwIbAO9PN2idTiF4H9gf6Amfj49x7ALdmwn4TOLdI2LeAA1M6A4BzUoHYDBidlFnKKEwAdseHwFrwh/PkMnkxvIUHsAFewZ2W8vXhlO52mQrqzEzYUv7/LeXxFWC/jH7uwR/WM4A1wFPAO1IhWwl8L+V5Nv7A5XRrwJQC/ZwPbJIK5z/wyuhjeMX1Cm4ATsXHv9/GDWkfYF/g80k/X0zynwx8CH9wd83k7zjgT8DG6T5OADZJ1+7GW3P98Z7My8BHSlQiR+Et+FzlPKOg0l8O7Jnk61/kHhXq/bt4edoS2AK4H/hetpIoCJ/1P6PA/7fwh7YV7zEeAfwLuC/lbzUwGa94vpH+H8WNTStwJ24Qfogb0IPwSuK9wMfxMjE26feNFHcf4DvpvoxIun0U+DFu2PoDP00yvx9/jn6FG417gEvxMvEr/Pl4T4p7+5Snk1PY0UnnvwSuKTAKV6S0BgDj8PLzfrzM/RAvY6WMQsn7WaD3gXg53A5vqIwgGZAUxxy8fA9KebsyXfs06xqFy4D/BZT0+CqpnKb7vQb4QZJnQA2NwqPp/g9J5/1wAzYBb4T9MuVxS7yhcFzytw0+57QRXj7vAX5SUF/NwBsCtZS3oUZhN+CFArdTgd9kCtEdmWvj8FZTP/yBeTEVvkeB8UXC3lMQ97PAvzLnx1DCKBSR9WTghjJ5yRqFD+CtjT6Z69cAZ5SonEr5/xXeCjsTuDS5fxt/0MamPL4K7J/RzxspH7vhLfts/tYAfy2jn9aUj6FJV7mewqN4K3F5JfrBexknZa4dhVegOxWEGYMbkMEZt7OByzIyXlUivSFJ1k0zOr2infJWqPdncrpL5/uQejkUNwp5/0k3Wf/b4Ab5eeB43EB8C6+IX0n6m4Qbgz542Z2PD1G1prifSvf9KrzRc1KJfNxIem5SnG/iY+V74Ea1X8bvLJKRTecjUvn5D7xHasDozPWHgC+0EzbXUDLgnZnr3yIZjXS+cZKtqFEodz8Lrg3Ee5ifAaYXXLsT+K/M+XYZGd+V4tyGTD1RoMeTCvS4XmOis79UVm4h9YLxHuWTwHD8eR2Q8XswcFeJeA4E/lnwvB5VD3lrHWf2195E81hgpKRlGbe+wN8y5y9ljl/FWz/gLZQpuJF4E2+RFYadW5DeSLzSKXU9j6R3Az/Ch6s2xgvZ9PLZWSeduWb2dsbteWBUlf4npmsnAoMl/QfealhpZs+nCcoNk19w/WyYwozFxwaV0W8fvJeUY56kc/BW6RZ4q43k5yt4934AXqHtiRsVYD39DMbvy9sprUEp7RxX4gbgWklD8Erv9CTnK2a2ski+1yGt1jkrI2tOV8NwYwVl7mcJRtKmu1zaIyv0f3HWv5nNkTQLrywX4cNFu+D3a5NsOmb2tqS5+LDArOTnTbz8zsaNyxjcUCBpP7wx8G78Hg4CVidd98N7msNSPM9bmhtKjAVukGT4veyHt5SvpE1vhc/YoIKw2XK5Fq/McmR1PjJ7bmavSlpCESq8n7l4Vkv6PPA1YHtJNwOTzewpit/DfknGtcntL7TVDZekstsHf65nZsK+bGavF5O3k1yMN66+jDf0DsX1Pxa/dwsyCx/6kHQoaUvgZ3ijcXC6trQg7mrLfKXy1o323lOYi68MGJL5DTaz/SuI+yZ89UZfMxtQIqwVhFmAzxPkGFMm/gvxltu2ZrYJPrRTfslKG/OBMZKy+d8Kbx0Wk6uU/1ZcP5vgQ11H4l3I0zP+XsMLV2F8c/H8zs/pFn9gsmHH4i3MvfHhoxeSu8zsL3jXdJWZnZXiyxr5nH7G43q5AngopfNnMroys7fM7DtmNg74d7yldHiSc6ikwZl4s3rK8p8FsrbkZM34KdRre8xnXd1tRdskdLG48v7N7OIC/+Ct/EF47+BJM5uT/KzIpiOvAVrwoYG98fvycXzYKcdc4F2SNsLnzX6IV3TvwfN8I7A5rsu3kttcYCtJ/Qri2Q+fP7oe2MLMBBxC++V5LrBfwfPZ38yy9yerpwX4UFMunwOSjMWo5H62JWJ2q5l9NMX3FF65QvF7uAbvJecYl36fI+kxldO/0LnyUxGprNwI7CRpB/yeXY3r9w1gWEa/m1jbKr+zk0w7pTrgUNbXT81lTvLWjfaMwkPACkmnSBogqa+kHSS9t4K4OxJ2KnCqpM0kjcJbw6UYjD/MqyT9G27lK+VBfAzxG5I2SKtOPomvMAEvsO+swP+PcnlMsp+Ij4U+nQnbCnxT0ha09QKuxvWzGu9hDEgtsxXAXpmwG9A28bhx+gfYJOln+4zfS5JOdknGayjeK3kTb6F+BLDUqv1YVhmS9pK0Y0aGt4C1ZjYXH1Y6W1J/STvhE5dXF9Hp4AJZv1/ET7VcQ9KdpGH48MdV6dpCYHNJm1boH/z+9seHAG6WNBRvTEzFK/1dk7/JuA7exod7wIeidsD104Lr+2v4goeNaOsB7os/V6tTuH3x+wh+zxcA50gaKKk/8Fe8RT4cH+/vJ+mLwNcr0M9FwFmSxgKkfB9Qxv/vgU9K+ndJG+LzHaUMT8X3U9JwSZ+SNDCFWUVbL+Aa4P9J2lrSoBTPdQW9JXD9bYTre02xclpPUg/k9/hCkIfM7AUzWwDcBpwnaRNJfSS9S9KHUrDBeF6XpeexknvW9JQ1Cma2Fq/8dsZXFCzGVxVtWi5cJ8J+Fx/TfQ64A79JpZaQfg1vzazEWyXXtSdTRrY38eGD/ZJcFwCHp+4u+AM/TtIySTeW8f9kJo8n4RX6awXJzcTHLB/Dx6EBvp/0cxpeYeT00x84Jg07/Ds+b/A83jJ/MqULPsl8B25w1qY8PZTi+DLevd8Cn8hbkOIfik/M/yfei8vyDlzXK/Dhkrtpq0wPxivB+cANwLfN7PYiar2iQNYHivipljNp091M4JHkRrpX1wDPpvs0spz/FGYBXp764y3xZ9Pvv/FW3ol4xf5JvDI/D++5jsHnFu5L8YNPPhpeptek/D+OT+I+iU/u5xoXb6b0c8/ENnivbx5eKd+E9+iOIhkNfEK2PX6awt4maSWu891KeTazJ4Cv4sZxAf7sLKL4M1bN/eyDG9L5+PzMh/CVReCT5VfiPejn8IUpXy0i20pc/1PxIZhi5bTeXA7siMub43DcYD2Z5Po9PncDblR3xZ+3m6nsnjU/9ZywqPaHP4iz8dUKU/AK7u5Gy1WHfF6KP4yPZ9yG4stQn07/m1UQT9X6KdRxo3VRA12OwV8sm4VPzOYmJovqkzKLFWooU7fQMT6UtgbYuoowVZVdfHHJnKSPfZogz614g2EGacI2I/9zeCNrqwbL2FAdN7xgZjLWN92wg/Bu5FN4S6XkMtPu+gM+iLcwsjf9XNqWo04BflAk3AjalnRulwpCxfpJOn4Gb73mVnuMa7Q+OqnLEbQtWxyMLwUdV0qf9TYKza5jvKeyMb5i6CLgn6SXWCsMX3HZTffh0fQ8b5300rfB+W/F5wiybuemivUn+LLv9Z69LpaxoTpueCHNZHoPfNjicXw8djm+GmG9F9J6wg8fksne9NnAiHQ8AphdJMzYjH5exIc3KtZP0vGtmfNTgVMbrYsa6/WP+ARxUX12gVFoah3jw13L0vN1J+ndnCrjqKjsFuYdHz7do8H5L2YU/pWeqSfwdxPWe/YaIGfDdNxMW2ePAp42sw/BOls3vNlYsbqM4eZj3pjZgrTcbR3M7Hl8srOjjGLdJXLzKDMG3d2Q1IIvM32QEvo0s5Y6i9HUOjbfGqXWOw2WKrujWHcuYh6ll313FYbPwRjwS/OVPFuaWX5DoWLPXhPQZTpuJqNQbBVEXZag9WJ6rI7Typbr8eG0Fe1tqFdPUYq49Qgdd4Bm1MWeZjY/Vaq3S3qq3RDNTc11XJcN8apl2LBh1tLSAsDq1asZOLC+uwB2JR3Nz/Tp09eaWc2MdnfRcVfKNn369MVWw83EuouO60k239OnT38Vf0P9bABJt+K7Bvy9TBRlaRYdN0va9dBxQ8fNcr8JEyZYjrvuust6Eh3ND/CS9UIdd6Vs1Hi7gO6i43qSzTc+/5WdBH2WTk6CNouOmyXteui4mYaPgLaPkxSj2T5GUWcWdHWC3elDIM1OqXLcy/T4Ov5uy5P40tcTzN/V6PY00f2tuY6bziiUo9qPUXTzB7BHPDxB78Z8C5azGi1HT6bWOu5WRqE3kj7wshI3EmvMbGLanuE6fNlaK/A5MyvciCsIgqBq2tv7KGgO9jKznc0stzvpFOBOM9sWX2seHzwPgqAmhFHonhyA79NC+j+wgbIEQdCDiOGj5qfYyzbtvugG637bdvjw4UybNg2AVatW5Y+zTN6xcOPKNs6/+o9F3Xcc1e7eiFVRSrYgCLqGMArNT4dftkkG5GKAiRMn2qRJkwCYNm0aueMspVZ9laP1kPXj6QylZAuCoGuI4aMmx8zmp/9F+NKz9wELJY0ASP+LGidhEAQ9iR7dUyi1hLW7LFVNHy3pY2Yr0/HH8G9O3IR/eP6c9F98bCcIgqBKerRR6AEMx7/BC36vfmtmf5X0D2CqpKPxj7Uc1EAZgyDoQYRRaGLM7Fn8m7+F7kvwz2sGQRDUlJhTCIIgCPJ02ChIGiPpLkmzJD0h6aTkfoakFyXNSL/9a1AyTugAACAASURBVCduEARBUE86M3y0BphsZo9IGgxMl5T7oPuPzeyHnRcvCIIg6Eo63FMwswVm9kg6Xol/OL3RX1UKgqBBHHXUUXz6059mhx3aPg4oaaik2yU9nf43y1w7VdIcSbMl7dMQoYP1qMlEc8FnEPcEviLpcOBhvDex3mZtpd62HT6g/Ju1taAr35iNN3SD3sKRRx7J7rvvzs9+9rOsc26frnMkTUnnp0gaB3wBGA+MBO6Q9O6esrV2d6bTRqHIZxAvBL6Hb8/wPfzj8kcVhiv1tu35V/+R82bWd1FUrd/CLUe8odv8xE60teGDH/wg8+fPL3Q+AJiUji8HpgGnJPdrzewN4DlJc/AXMzv+xbCgJnSq9pW0AW4QrjazPwCY2cLM9V8Bf+6UhEHQNexlZosz50VbuI0RrVvT6Q/OV7uHV1dQakSjK+Spd747bBTkb1RdAswysx9l3EfkCgHwafxzcUETUe7rdkGeUi3coDZU/MH5avfw6gpKjWh0xShEvfPdmZ7CnsBhwExJM5LbacDBknbGb3ArcFynJAyC+lPznWgb2ZJsJKtXr2b16tXZfC7MNRQL9umaB4zJBB0NrDf2FHQ9HTYKZnYvxa39XzouThA0hJrvRNvIlmQjeemllxg4cGC2JVtqn66bgN9K+hE+0bwt8FDXShsUI7a5CHo92Z1oJa2zE22RFm5QgoMPPpjbbruNFStWMHr0aIBhuDFYb58uM3tC0lRq+MH5oDbENhdBr0bSwPTyZW5X2o/h82C5Fi7ETrQVcc0113D99dfz1ltvMW/ePIDFZrbEzD5iZtum/1dy/s3sLDN7l5ltZ2a3NE7yIEv0FILeTuxEGwQZwigEvZrYiTYI1iWMQhB0IaU+/ATd5+NPQc8m5hSCIAiCPGEUgiAIgjxhFIIgCII8YRSCIAiCPGEUgiAIgjyx+ijoFKVW08RKmuoJXQbNQK80CrEsMAiCoDgxfBQEQRDkCaMQBEEQ5OmVw0fliHHdIAh6M2EUgi4l5nOCoLmJ4aMgCIIgT/QUgqDJiSHNoCupW09B0r6SZkuaI2lKvdLprYR+60/ouP6EjpuPuvQUJPUFfgF8FP9A9z8k3WRmT9Yjva6gmVprPVG/zUbouP6EjpuTeg0fvQ+Ykz5ggqRrgQPw77H2GJbdezWHHnoNV1111XrXckZk8o5rOLLM5GqWKgxMt9DvkUceyejRoznzzDMbLUpHaBodz7vwKDbf70QGtOy8jntXNFTqnEbT6DhoQ2ZW+0ilzwL7mtkx6fwwYDcz+0rGz7HAsel0O2B2Oh4GLK65UJ1nMLA18FjGbSSwEfBcmXAdzc9YM9ui2IVK9JvcG63jFuBNYH4VYbry/ncXHe8ItAIraxRfPcnmu6R+oS463hAYD/yzE/JXGkcj66mKddwR6tVTUBG3dayPmV0MXLxeQOlhM5tYJ7k6jKRJwFVZ2SSdAWxjZoeWCVeP/LSrX2i8jiVdBswzs29WEaZZ7n/T6FhSK3CCmd1Ri/hKpNHPzNbUIJ5q8t00Oq4WSQ8Dn8UbhBvUQndVpv01vD6qqUGA+k00zwPGZM5HU11rsSoktUr6uqTHJK2WdImk4ZJukbRS0h2SNkt+PyXpCUnLJE2TtH1BPF9L8SyXdJ2k/pIGArcAIyWtSr+RKdiGkq5I6TwhqSsKaZfqt1Ik7SLpkaSL64D+yX0zSX+W9LKkpel4dLp2kKTpBfFMlnRjA7KQpdl0vHNhuQSQ9KU0SfuKpJty5VJSiySTlG/4pfKea5UfKek+ST+W9ApwRgPy1Gw67lKy96apMLOa//AeyLP4cMuGwKPA+ArDPtyB9FqBB4DhwChgEfAIsAs+vPN/wLeBdwOr8YmtDYBvAHOADTPxPIQPCw0FZgHHp2uT8FZvNt0zgNeB/YG+wNnAA53NTz31W0eZNgSeB/5f0u1ngbeAM4HNgc8AG+PDcL8DbkzhNgJeAbbPyYZ33T9Tj7LZHXVcqlwCH8aHEXZNejwfuCeFacFb3f0y8UwDjknHRwJrgK+mvA6okawV57tSHaf8fx0ful0NXJKe9eX4kNodwGaFeU75/R5wX/J3GzCsHZkqiiOV0xeS31Xpt0cKc1S6R0uBW/Ehnlz8BpwAPA08l9z+Dbg9PQezgc9l/O+Pz7GsBF7EewiPAK8Bb2fSHlmz8lbHh2p/4F/AM8DpVYQ7toMPzSGZ8+uBCzPnXwVuBP4HmJpx75MUPSkTz6GZ6+cCF6XjSRQ3CndkzscBr3U2P/XUb71kAj6It/KUcbsfOLOI352BpZnzC4Gz0vG308O0Ub3KZnfTcalyiVeO52bcB+GGuIXKjMILddBZVfmuRMeUbvR9j3UbfevkOeX3GbwxOCCdn9OOPBXFgc9xFNPxgXhDc3vc6H0TuD9z3XADMDTFNxCYC3wx+d8VN/Tjk/8FwAfS8Wbp+rEUqY9q9atb98XM/gL8pQPh1hs7rJCFmePXipwPwltaz2fSelvSXLyg5Xgpc/xqClOOQv/9s+OznchPWTqq3xS2HjKNBF60VHoTzwNI2hj4MbAvXrABBkvqa2ZrgcuBayR9E39QpprZG3WQsSqaTMfFyuXmeOWYS3OVpCV4eX6xgjjn1lRCqs93FTo+38wWAkj6G7DIzP4nnd8AfAQvR4X8xsz+lfxNBT5VjXyl4jCzKZJaivg9DjjbzGYl/98HTpM01sxydc/ZZvZKuv55oNXMfpOuPSLperyn/QRu5MdJetTMluINpkfSHGdd6G3bXMwHxuZOJAkf06zkAar9Mq2exQJgVNJpjq3S/2R81chuZrYJ3quANNFoZg/gq5Q+APwncGWXSNz9KSzPA3FD8SI+zAI+ZJfjHQXhu1OZrqTRV4xCY1rKXzmqiWMs8NM0Z7kMHxIS6zY85xb43y3nP4U5hLZ79Rm8N/W8pLsl7dEB+auitxmFqcDHJX1E0gZ4ZfUGPszRHguBzSVtWk8BuzF/x8eoT5TUT9J/4OvQwecRXgOWSRqKd/ULuQL4ObDGzO7tCoF7AL8FvihpZ0kbAd8HHjSzVjN7GTcOh0rqK+ko4F2NFLYHUsyozgWOM7Mhmd8AM7u/RLi5wN0F/geZ2ZcBzOwfZnYAsCU+BD61TNo1oamMgur8yruZzQYOxSfkFgOfBD5pZm9WEPYp4Brg2WTRiw0rnZv+Z+QcJA2VdLukp9P/ZkXCdRn10nHS4X/gY9VLgc8Df0iXf4IPCy3Gx4b/WiSKK/H1+AMlzUjL7rol9S7HOczsTnye7Hq8p/Yu4AsZL1/CJ2iX4GvvK2n8lEXSpZIWSXo841ayjEs6NelhtqR9Mu5jJN0laVZatXdSO3HtKmm6pJnAfvjkdI6xwO74eH8puVvwZa07p/ReLJY2bb3Uv2bSHpdJ+wwg1zB8Ga+c50paldwuAk6VND7FuWlaYXeqpDnJz59yaeMjFe+WdLx8leTTkh6UtJukDSWdLemf+DDhSfgiDvBG6nBJ8zJpF823pNfSMzVD0kWl/Oapx0RFR3746p1ngHfSthJhXKPlqjIPH8Qngh7PuJ0LTEnHU4AfhI6LyjYAX03xvkbL0lN1XKP8VVzG8YUXj+KTwVsnvfRN10YAu6bjwfhk87hiceETzceRVtgAfwJWZNJ/DvgHbRO/H0/u02ibWG/Bl8De207aP0hxnJaOpwHfyaR9OvBGJu1LcKNrwO7J7TBgJrAC7wn8IaMHww1430za+yfdrEpxzQF+k8rPfcCyFNfjwMuZtP+ED08ZJVYfpXw/3t59XSdMowtZRvg9gFsz56cCpzZarg7kY52bgC8xG5F5EGaHjovK9t/4EFPZJYPN/mtmHdcwjxWV8cK848sz9ygR5x/xpeLtPi/4GP2SVMmOAJ7KXDsY+GV7Mtci7QL3VWX0VVIPXZB21UahmYaPRrHuBMw81p2c6a4MN7MFAOl/ywbK0pQ6lr+xexLe6rktddWPLR+qaWlKHdeZUmW8Il2koZ1dgAfLxJXlM8A/zVeojUrxlk0jsbWkf6YJ2w/UIO1KKaqHLkobiuS7HM30Rl1Fr7wHnaIpdWxmLQCSRprZfElbArdLesrM7mmsdFXTlDpuEO3qQtIgfE7kZDNbse7itSIR+lj9D4CPVZpGYgGwlZktkXQ6cLek1/C37nP7cw2oMu1KKSbjRnQu35WSzfcE4EZJ481sRakAzdRT6KmvvC+UNAIg/S9qoCxNrWMzm5/+FwE30LZ6qTvR1DquE6XKeFldpBWA1wNXm9kf2okL+dYoNwCHm9kzmTRGl0ojh5m9YWZL0vFZwN/wN6S/br46aBAwp8q0K6VQD2PwF2o7k++KKMj3dNpexCtJXXZJrZZhw4ZZS0sLAKtXr2bgwIENk6WR6WfTnj59+mKr4WZXWR13lq7SUb3TqaeOG12O60W5fLW2trJ8+XL69evH+PHjmT59+jJ8WexL+Mqo4cCY1GoVMB2fkF8InGhmt0r6X2CJmZ2TVm4NNbNvSBoC3L355pvv1B103FWyTZ8+fTG+RUnRdyckbQG8YmZrJb0TN4Y7Wnp5rigdmWiq9W/ChAmW46677rJG0sj0s2lT4/2JsjqupZz1pN7p4PvXjAHuwveqeQI4yS8xFN+O4On0v5l1o3JcL8rl6+6777bp06fb+PHjzSyv33vwydHZwKW0rUw6FB/mmYnv7fMG8An85bs7k97vxI0C+HYRq7uLjrtKNnzo6228N3KGO/Ep4Lvp+DOpXD+KL2v9pLVTjptpTqEpmPni8qIfxelJ38Mt9eGUcpTKf7UfYakm7dwHimoRVxmZ1gCTzewRSYOB6ZJux9+3uNPaWqxTgFMqTauW5ahWH7opp69axTXt+K0KnYYDO5jZgjQsMg3X4xjgNDM7G0DSrXgPYQm+ZcU6mNmZwJkTJ07MD230hme1Ah6zgu3Dzewm4KZ0fD0+RFcxYRSCXo35So/cqo+Vkmbhq0UOwDcdA99TZxpVGIUgzzqratIiAnAdP5DxV3LVkDIf2Rk+fDjTpk3ziAd4w6GQ3PVGsmrVqqaQoyOEUQiCRLklgpnKrDBM3SusYvF0JK5S8VQTV66yKxXXAw88wOrVqyuJr+JVWpb5yM7EiRNt0qRJAJx/9R85b+b6VVjrIZPaS7vuTJs2jZyc3Y0wCkFA9Usjc3RFhVXqG9/VxlXuW+GVxpWr7ErFNe343Rk4cGC2QlwoaURm+KiilUlB42imJalBAR3YHyboANUujQyq4ibgiHR8BP4Gb879C5I2krQ1sC3+IaGgwYRRaG5yk6Db4xt+nSBpHD7peaeZbYuv0Kjbpms9nbQ08hJglpn9KHOpVGUWlODlm85ljz32YPbs2YwePRr8C2XnAB+V9DS+ncM5AGb2BL7j55P4BoknmH9bI2gwMXzUxMQkaJewJ2kDM0m53W1PwyuvqZKOxj+7eFCD5Os2bPGpb6yz8kfS4lKriSD/EtlZXSReUCFhFLoJtZwELTfhWIrsxGF2ZUW1k6DVpJ2brK1FXKVkMv92Q6kJhKKVWRD0ZMIodANqPQlabsKxFNmJyOzKimonQatJe/KOazhvZr+axFVOpiAI2og5hSYnJkGDIOhKwig0MTEJGgRBVxPDR81NTIIGQdClhFFoYmISNAiCriaGj4IgCII87fYUJF2Kb2m7yMx2SG5Dgevw73+2Ap8zs6Xp2qnA0cBa0h7pdZE8CLohHdmhtpniyu1cG/RcKukpXAbsW+BW9I3a9LbtF4DxKcwFkvrWTNogCIKgrrRrFMy/kVv4lZ4D8DdpSf8HZtyvNf8E3HPAHLrnJxWDIAh6JR2daK7bHumN3oe8kXu0NzrvQRAEtV591Ok90hu9D3kj92hvdN6DIAg6uvqo1Bu1sUd6EARBN6ajRiH2SA+CIOiBVLIk9Rp8m+ZhkuYB36bEG7Vm9oSk3B7pa4g90oMgCLoV7RoFMzu4xKXYIz0IgqCHEdtcBEHQKyj3gl7240C9ndjmIgiCIMgTRiEIgiDIE0YhCIIgyBNGIQiCIMgTRiEIgiDIE0YhCIIgyBNGIQiCIMgTRiEIgiDIE0YhCIIgyBNGIQiCIMgTRiEIgiDIE3sfBUEQVEmpfZR6wh5K0VMIgiAI8oRRCIIgCPKEUQiCIAjy1M0oSNpX0mxJcyRNqVc6vZXQb/0JHdef0HHzURejIKkv8AtgP2AccLCkcfVIqzfSzPpdcuvPWXbfNY0Wo9M0s457CqHj5qRePYX3AXPM7FkzexO4FjigTmlVxfe//32OOeaYRovRWZpWv5vv8xWG7FnqC67rsvjmH7P0nivrLFFxJk2aBDCsjJem1XEPInTchMjMah+p9FlgXzM7Jp0fBuxmZl/J+DkWODadbgfMTsfDgMU1F6pysumPBDYCnmtA2jsAPzSzbxZ6qkS/yb2UjmspZ2doAd4E5tc5nWJsB2Bmg4tdrIGOG12O60U1+RprZluUutjDddxVspXVcYcws5r/gIOAX2fODwPOrzDsw/WQqQrZH84cnwFc1Ym4+nUi7cuAM2uhX2AK8AywEngS+DRu7JYBO2T8bQG8BmyZzr8BLMAr7WMAA7Ypd4+ycgOTgHnAZGBRiuuL6dqxwFu4UVgF/Cm5jwSuB14G3gBOLLgfvweuAlYkmfpk8rcEmAoMTf77J79LUl7/AQwHzgLWAq+ntH9eyzLcDOW4K56PGsTVY3XczLK196vX8NE8YEzmfDSZ1qCkVklfl/SYpNWSLpE0XNItwC6S7pC0WfL7O0kvSVou6R5J45P7hpJmSPpqOu8r6T5J3yonmKQzJF2VjlskmaQjJL0gaTHwjnRtX+A04POSVkl6NLlvmuRdIOlFSWemsVEkHZlk+LGkV/BKDElHSZolaamkWyWNTe5KfhdJWg6Mk7RDahkdAnwjpf2navRbhGeADwCbAt/BK8qhwB+A7FjP54C7zWxRyv9/A3vjhuBD5fRahnekdEcBRwO/kLSZmV0MXA2ca2aDzOyTkvoAfwIeTf5nAydL2icT3wG4YRiSwp8IHJjkGwksxcepAY5IaY8BNgeOB14zs9OBvwFfSWmv0zJNVKvjoHpCx81InaxkP+BZYGtgQ/whH5+53go8gLfaRuGtyEeAXYDpwP8B305+jwIG4y3bnwAzMvHsgFcC2wOnpzj7tiPbGaTWPz58YcCvgAHAe4C3ge0L/WbC3wj8EhgIbAk8BByXrh0JrAG+mnQwAK+w5iQZ+wHfBO5P/vdJ+R0CCHgcGJGuXUbpnkJZ/VZwf2bglevewLMZ9/uAw9PxpcDZmWvb0LGewmtkekzpXu9eLI/AbsALmfOHgVOB32Tuxz0F6c0CPpI5H4H3QPqlsnM/sFMROacBx3S0DFeg427bUuyqfPVkHTezbO396rLNhZmtkfQV4FagL3CpmT1R4O18M1sIIOlvwCIz+6ekX+IG4CMprktzASSdASyVtKmZLTezxyWdCdyAG5j3mdnaDoj8HTN7DXhU0vO4cZhV6EnScHylxJDkf7WkH+NDIb9M3uab2fnpeI2k4/DKdVaK4/vAaam38BZu8P4NNy4/M7MF7QlboX6zch+Ot/pbktMgfMzzT8AASbsBLwE747oEb3U/nIlmbub44vZkzLDEzNZkzl9N6RdjLDBS0rJ0viE+hvy3EnLkwtwg6e2M21q8PFyJt0SvlTQE7yGdbmZvtSd0tTouQjU66k7ULF89XMfNLFtZ6rb3kZn9BfhLGS8LM8ev5c7N7GJJxwCD0rDMWfjY4xZ4Kx68Qlueji9Pfq43s6c7KO5LmePnKV9pbQAskJRz68O6FVWxSuunks7LuAkYZWb/J+nn+HDHVnjldq2ZrWhP4Ar06wm58fkVbmT/bmZrJc3AFxm8LWkqPoS0EPizma1MQRfg3fkc+W6++dBPLShc5TAXeM7Mtq0yzFFmdl8J/98BviOpBdfXbOCSIvGsn1CFOi4RtttWCuWodb56qo6bWbb2aPY3mv+TtmGOTWlr6Srj5wLgz8A+kt5f4/SLVUBvAMPMbEj6bWJm49sJc1zG/xAzG2Bm9wOY2c/MbAIwHng38PUS8XSUgSmulwEkfREfdsvxW+Dz+BzGbzPuU4EvStpe0sZA2bmaDrIQeGfm/CFghaRTJA1I80Q7SHpvmTguAs7KzNNsIemAdLyXpB1T42IF3jPL9SQL0w6CgOY3CoPxSngJsDHw/ezFtIRtAj6WfyJwuaRSrfyOsBBoSROgpKGd24DzJG0iqY+kd0kqNwl7EXBqZoJ8U0kHpeP3StpN0gbAanw1TE0rLTN7EjgP+HuKc0d87iB3/cGU9kjgloz7LcDPgLvwOZG/p0tvdFamDJfgk+vLJN2Yhv4+iQ9jPYcv6fs13iAoxU+Bm4DbJK3E55V2S9fegU9Kr8CHA+/Gh5By4T6bJv9/VsM8BUH3phETGfhE80vATHzScwlwRub6MfgE7PL0W4svKTyctsnOrVK4PTPhrgN+1U7aZyR/v8dX5Rjw/sz1aSn9n+GTYKvxSuWRdH1T4EJ85cRy4J/AF9K1I4F7i6R5WMrrihTuOeApfKhqDr4scjG+mma/FO+T+LDaa8CNDbhHY3CDMAt4AjfIa1l30nhSknVG+n2rE+UhVxbWm6DDe4Y/S7p6DNi1EeW2ivzsiw9TzQGmNFqeGt3/k5L7UOB24On0v1mj9dmo8lFKRwV+avKMdOm9b2Cha8WHYUpdn4SPcdcj7ctJK0/wycwhBdf3x1vNAnYHHuzCtOuW7yrlHIG/X7BhKvyrgDvrIWsFZaFu96MOeuuLNzbeSduKmnGNlquD93/XdDwY+Be+FcW5uYoZfz/kB43WZ6PKRykdFfhpiue5ml+zDx/VHEmbAB/Ehy4wszfNbFmBtwOAK8x5ABgiaUQXpd0UmA+VfRSfi3gUf/HtYgBJT0hahT+I+6Z3KVZJOqRO4tTlftSJHrF1g5ktMLNH0vFKvDU8Cs/L5cnb5fiS63pSiT4bUj7K6Khb00ijYPg48PT0slYx9pD0qKRbcmPylZD8ryryOw1vcbwM/EbSPyX9WtLAgihGse4qonnU5mZXkjZ0MN+1xsz2NbNNgV3xSdpbkvt4MxtE21DXM/iy0RkdTYryZaFe96MedCdZKyKt3NoFeBAYnhoMuYbDlnVOvhJ9NlznBToqpCme50pppFHY08x2xSuWEyR9sOD6I/i+Hu8BzsdfGqsIM9vP/E3Vwt/38WW4uwIXmtku+JxB4Za9KoyT2qwGqiTtDue7HqSJ++uBk239pbK1krW9slCv+1EPupOs7dLO/e8SEYq4FeqzoTrvomeky6jLhnjVMmzYMGtpaalpnKtXr2bgwGKN8OYlK/P06dMXm9kWklqBiWbWqc21OqPjeuuyUfHndFzLtCTtgS+a2CednwpgZmfXMp2uIK2K+zNwq5n9KLnNBiaZ2YI0RDPNzLarowzt6jO98DrNzK4plLFecmXSXk9H7fhvpQbPc11pxEQGvnZ+cO54woQJVmvuuuuumsdZb7Iy428Tvw94gWS8O/PrjI7rrctGxU8dtiKgk1s3NMsPb31fAfykwP1/WXei+dw6y9GuPoGPs+5E80ON1FGBn3fQ1viu2fNcz1/d3mhuh+H427tQx7equznj8GV2X7BUooLmxzq/dUOzsCdpKXV6Ax58g8hzgKmSjsYruIPqKUQpfUo6Pl2/CH8jen98SeqrwBfrKVOGUjraKiPbZ4EvS1qDLy9v+ue5IRWymT2L7y8EwMSJE+uipJYpNxd1bz3n4/VIrtY8aWa7N1qIjtLNdd8prBNbNzQLZnYvxcfqIe1L1oWyrKfPVOHmjg04oStlSumW01HOz8+Bn3eNRLWh1y1JDYIgCEoTRiEIgiDI0yvH80sNbUDvGN4IgiAoRfQUgiAIgjy9sqdQjt48QdpoQvdB0HjCKARdSrGKf/KOaziyzJBeEARdRwwfBUEQBHnCKARBEAR5wigEQRAEecIoBEEQBHnCKARBEAR5wigEQRAEecIoBEEQBHnCKARBEAR5wigEQRAEeTr8RrOkMfhXh94BvA1cbGY/lTQUuA5oAVqBz5nZ0s6L2vvoDjout7lgEATdj870FNYAk81se/wTeCdIGod/ou9OM9sWuJP1P0wfVE7oOAiCLqXDRsHMFpjZI+l4JTALGAUcAFyevF0OHNhZIXsroeMgCLoa1eJzoZJagHuAHYAXzGxI5tpSM9usSJhjgWMBhg8fPuHaa6/ttBxZVq1axXPL19Ysvh1HbVqzuEqxatUqBg0aBMBee+013cwm5q41UsdZuQqZ+eLyDsWZZfgAWPha6eud1X0p+Qt1HARBDXZJlTQIuB442cxWSGU/WZrHzC4GLgb/RvOkSZM6LEPxnTfXct7M2m0C23rIpJrFVYpp06ZRTA+N1nEpuYCa7G46ecc1Ze9VZ3VfTv4gCNalU7WmpA3wyupqM/tDcl4oaYSZLZA0AljUWSGbgUbt9d+bdBwEQePp8JyCvLl6CTDLzH6UuXQTcEQ6PgL4Y8fF692EjoMg6Go601PYEzgMmClpRnI7DTgHmCrpaOAF4KDOidirCR0HQdCldNgomNm9QKnB7Y90NN6gjdBxEARdTbzRHARBEOQJoxAEQRDkqd2azS4gtlTonTRq5VcQ9EaipxAEQRDkCaMQBEEQ5OlWw0dB44ihuyDoHURPIQiCIMgTPYWg2xIT0EFQe8IoBHlKVbKTd1xDFJUg6B3E8FEQBEGQp+mafzGhGQRB0DiipxAEQRDkCaMQBEEQ5Gm64aPuRi2Huy7bd2DN4urNFN6TyTuu4cgpN8eqpCCogLr1FCTtK2m2pDmSptQrnd5K6DcIgnpQl56CpL7AL4CPAvOAf0i6ycyerEd6vY3O6jcm84MgKEW9egrvA+aY2bNm9iZwLXBAndLqjYR+gyCoC/WaUxgFzM2czwN2y3qQdCxwbDpdJWl2LQU4EYYBi2sZtNjlUwAAA0NJREFUZ73Z6wfryDy2jNd29Qu103G9ddlV8esH610qp+Mg6JXUyygU+4SkrXNidjFwcZ3SR9LDZjaxXvHXgypkble/UDsd11uX3T3+IOhJ1Gv4aB4wJnM+Gphfp7R6I6HfIAjqQr2Mwj+AbSVtLWlD4AvATXVKqzcS+g2CoC7UZfjIzNZI+gpwK9AXuNTMnqhHWmWo29BUHalI5gbot9667O7xB0GPQWbrDUUHQRAEvZTY5iIIgiDIE0YhCIIgyNMjjIKkVkkzJc2Q9HByGyrpdklPp//NGizjpZIWSXo841ZSRkmnpi0sZkvap1nl7ED8YyTdJWmWpCcknVSrNCT1l/SQpEdT3N+ptfxB0NPpEUYhsZeZ7ZxZjz4FuNPMtgXuTOeN5DJg3wK3ojJKGoevKBqfwlyQtrZoKjk7yBpgspltD+wOnJDyW4s03gA+bGbvAXYG9pW0e43lD4IeTU8yCoUcAFyeji8HDmygLJjZPcArBc6lZDwAuNbM3jCz54A5+NYWzSZnR+JfYGaPpOOVwCz8De1Op2HOqnS6QfpZLeUPgp5OTzEKBtwmaXra2gFguJktAK+IgC0bJl1pSslYbBuLUV0sW5a66FJSC7AL8GCt0pDUV9IMYBFwu5nVLO4g6A30lO8p7Glm8yVtCdwu6alGC9RJKtrGojsjaRBwPXCyma2QimW5esxsLbCzpCHADZJ2qEnEQdBL6BE9BTObn/4XATfgQy0LJY0ASP+LGidhSUrJ2GzbWNRUl5I2wA3C1Wb2h3qkYWbLgGn4/Eh3KAtB0BR0e6MgaaCkwblj4GPA4/i2D0ckb0cAf2yMhGUpJeNNwBckbSRpa2Bb4KEGyJejZrqUdwkuAWaZ2Y9qmYakLVIPAUkDgL2Bp2oRdxD0Frr9G82S3on3DsCHw35rZmdJ2hyYCmwFvAAcZGaFE6hdhqRrgEn4Ns4LgW8DN5aSUdLpwFH4ap2TzeyWZpSzA/G/H/gbMBN4Ozmfhs8rdCoNSTvhE8l98QbPVDP7brOVhSBoZrq9UQiCIAhqR7cfPgqCIAhqRxiFIAiCIE8YhSAIgiBPGIUgCIIgTxiFIAiCIE8YhSAIgiBPGIUgCIIgz/8H3k6c5cGocmcAAAAASUVORK5CYII=\n",
      "text/plain": [
       "<Figure size 432x288 with 16 Axes>"
      ]
     },
     "metadata": {
      "needs_background": "light"
     },
     "output_type": "display_data"
    },
    {
     "data": {
      "text/plain": [
       "'\\nwe can drop -ahorro energia- and -ahorro corriente- from de model as they are not relevant\\n'"
      ]
     },
     "execution_count": 70,
     "metadata": {},
     "output_type": "execute_result"
    }
   ],
   "source": [
    "# data visualization \n",
    "\n",
    "viz = df[['date', 'ahorro corriente', 'ahorro energia', 'energia solar',\n",
    "       'placas solares', 'energia fotovoltaica', 'energia solar fotovoltaica',\n",
    "       'placa energia solar', 'year', 'month', 'day', 'hour', 'geo_location',\n",
    "       'min_interest', 'max_interest', 'avg_interest']] #['ahorro consumo energetico','ahorro corriente','ahorro energia','energia solar', 'placas solares','max_interest','year','month','day','hour', 'avg_interest']]\n",
    "viz.hist()\n",
    "plt.show()\n",
    "\n",
    "'''\n",
    "we can drop, without relation:\n",
    "- ahorro energia\n",
    "- ahorro corriente\n",
    "- placa energia solar\n",
    "- min_interest\n",
    "- year\n",
    "- month\n",
    "- day (non lineal correlation)\n",
    "- hour (non lineal correlation)\n",
    "\n",
    "we will keep, lineal relation:\n",
    "- energia solar\n",
    "- placas solares\n",
    "- energia fotovoltaica\n",
    "- energia solar fotovoltaica\n",
    "- max_interest\n",
    "\n",
    "non lineal relations\n",
    "- day (non lineal correlation)\n",
    "- hour (non lineal correlation)\n",
    "'''"
   ]
  },
  {
   "cell_type": "code",
   "execution_count": 82,
   "metadata": {},
   "outputs": [
    {
     "data": {
      "image/png": "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\n",
      "text/plain": [
       "<Figure size 432x288 with 1 Axes>"
      ]
     },
     "metadata": {
      "needs_background": "light"
     },
     "output_type": "display_data"
    }
   ],
   "source": [
    "# relationship vars \n",
    "\n",
    "plt.scatter(df['hour'], df.avg_interest,  color='blue')\n",
    "plt.xlabel(\"Avg \")\n",
    "plt.ylabel(\"max\")\n",
    "plt.show()"
   ]
  },
  {
   "cell_type": "code",
   "execution_count": 84,
   "metadata": {},
   "outputs": [],
   "source": [
    "# Test and Train dataset\n",
    "\n",
    "msk = np.random.rand(len(df)) < 0.3\n",
    "train = df[msk]\n",
    "test = df[~msk]"
   ]
  },
  {
   "cell_type": "code",
   "execution_count": 87,
   "metadata": {},
   "outputs": [
    {
     "name": "stdout",
     "output_type": "stream",
     "text": [
      "Coefficients:  [[0.12952817 0.01178586 0.33412488 0.14888505 0.16734116]]\n"
     ]
    },
    {
     "ename": "ValueError",
     "evalue": "x and y must be the same size",
     "output_type": "error",
     "traceback": [
      "\u001b[0;31m---------------------------------------------------------------------------\u001b[0m",
      "\u001b[0;31mValueError\u001b[0m                                Traceback (most recent call last)",
      "\u001b[0;32m<ipython-input-87-1795bf00f1fc>\u001b[0m in \u001b[0;36m<module>\u001b[0;34m\u001b[0m\n\u001b[1;32m     11\u001b[0m \u001b[0mprint\u001b[0m \u001b[0;34m(\u001b[0m\u001b[0;34m'Coefficients: '\u001b[0m\u001b[0;34m,\u001b[0m \u001b[0mregr\u001b[0m\u001b[0;34m.\u001b[0m\u001b[0mcoef_\u001b[0m\u001b[0;34m)\u001b[0m\u001b[0;34m\u001b[0m\u001b[0;34m\u001b[0m\u001b[0m\n\u001b[1;32m     12\u001b[0m \u001b[0;34m\u001b[0m\u001b[0m\n\u001b[0;32m---> 13\u001b[0;31m \u001b[0mplt\u001b[0m\u001b[0;34m.\u001b[0m\u001b[0mscatter\u001b[0m\u001b[0;34m(\u001b[0m\u001b[0mtrain\u001b[0m\u001b[0;34m[\u001b[0m\u001b[0;34m[\u001b[0m\u001b[0;34m'energia solar'\u001b[0m\u001b[0;34m,\u001b[0m\u001b[0;34m'placas solares'\u001b[0m\u001b[0;34m,\u001b[0m\u001b[0;34m'energia fotovoltaica'\u001b[0m\u001b[0;34m,\u001b[0m\u001b[0;34m'energia solar fotovoltaica'\u001b[0m\u001b[0;34m,\u001b[0m\u001b[0;34m'max_interest'\u001b[0m\u001b[0;34m]\u001b[0m\u001b[0;34m]\u001b[0m\u001b[0;34m,\u001b[0m \u001b[0mtrain\u001b[0m\u001b[0;34m.\u001b[0m\u001b[0mavg_interest\u001b[0m\u001b[0;34m,\u001b[0m  \u001b[0mcolor\u001b[0m\u001b[0;34m=\u001b[0m\u001b[0;34m'blue'\u001b[0m\u001b[0;34m)\u001b[0m\u001b[0;34m\u001b[0m\u001b[0;34m\u001b[0m\u001b[0m\n\u001b[0m\u001b[1;32m     14\u001b[0m \u001b[0mplt\u001b[0m\u001b[0;34m.\u001b[0m\u001b[0mplot\u001b[0m\u001b[0;34m(\u001b[0m\u001b[0mx\u001b[0m\u001b[0;34m,\u001b[0m \u001b[0mregr\u001b[0m\u001b[0;34m.\u001b[0m\u001b[0mcoef_\u001b[0m\u001b[0;34m[\u001b[0m\u001b[0;36m0\u001b[0m\u001b[0;34m]\u001b[0m\u001b[0;34m[\u001b[0m\u001b[0;36m0\u001b[0m\u001b[0;34m]\u001b[0m\u001b[0;34m*\u001b[0m\u001b[0mx\u001b[0m \u001b[0;34m+\u001b[0m \u001b[0mregr\u001b[0m\u001b[0;34m.\u001b[0m\u001b[0mintercept_\u001b[0m\u001b[0;34m[\u001b[0m\u001b[0;36m0\u001b[0m\u001b[0;34m]\u001b[0m\u001b[0;34m,\u001b[0m \u001b[0;34m'-r'\u001b[0m\u001b[0;34m)\u001b[0m\u001b[0;34m\u001b[0m\u001b[0;34m\u001b[0m\u001b[0m\n\u001b[1;32m     15\u001b[0m \u001b[0mplt\u001b[0m\u001b[0;34m.\u001b[0m\u001b[0mxlabel\u001b[0m\u001b[0;34m(\u001b[0m\u001b[0;34m\"Keywords\"\u001b[0m\u001b[0;34m)\u001b[0m\u001b[0;34m\u001b[0m\u001b[0;34m\u001b[0m\u001b[0m\n",
      "\u001b[0;32m/opt/anaconda3/lib/python3.8/site-packages/matplotlib/pyplot.py\u001b[0m in \u001b[0;36mscatter\u001b[0;34m(x, y, s, c, marker, cmap, norm, vmin, vmax, alpha, linewidths, verts, edgecolors, plotnonfinite, data, **kwargs)\u001b[0m\n\u001b[1;32m   2834\u001b[0m         \u001b[0mvmin\u001b[0m\u001b[0;34m=\u001b[0m\u001b[0;32mNone\u001b[0m\u001b[0;34m,\u001b[0m \u001b[0mvmax\u001b[0m\u001b[0;34m=\u001b[0m\u001b[0;32mNone\u001b[0m\u001b[0;34m,\u001b[0m \u001b[0malpha\u001b[0m\u001b[0;34m=\u001b[0m\u001b[0;32mNone\u001b[0m\u001b[0;34m,\u001b[0m \u001b[0mlinewidths\u001b[0m\u001b[0;34m=\u001b[0m\u001b[0;32mNone\u001b[0m\u001b[0;34m,\u001b[0m \u001b[0mverts\u001b[0m\u001b[0;34m=\u001b[0m\u001b[0;32mNone\u001b[0m\u001b[0;34m,\u001b[0m\u001b[0;34m\u001b[0m\u001b[0;34m\u001b[0m\u001b[0m\n\u001b[1;32m   2835\u001b[0m         edgecolors=None, *, plotnonfinite=False, data=None, **kwargs):\n\u001b[0;32m-> 2836\u001b[0;31m     __ret = gca().scatter(\n\u001b[0m\u001b[1;32m   2837\u001b[0m         \u001b[0mx\u001b[0m\u001b[0;34m,\u001b[0m \u001b[0my\u001b[0m\u001b[0;34m,\u001b[0m \u001b[0ms\u001b[0m\u001b[0;34m=\u001b[0m\u001b[0ms\u001b[0m\u001b[0;34m,\u001b[0m \u001b[0mc\u001b[0m\u001b[0;34m=\u001b[0m\u001b[0mc\u001b[0m\u001b[0;34m,\u001b[0m \u001b[0mmarker\u001b[0m\u001b[0;34m=\u001b[0m\u001b[0mmarker\u001b[0m\u001b[0;34m,\u001b[0m \u001b[0mcmap\u001b[0m\u001b[0;34m=\u001b[0m\u001b[0mcmap\u001b[0m\u001b[0;34m,\u001b[0m \u001b[0mnorm\u001b[0m\u001b[0;34m=\u001b[0m\u001b[0mnorm\u001b[0m\u001b[0;34m,\u001b[0m\u001b[0;34m\u001b[0m\u001b[0;34m\u001b[0m\u001b[0m\n\u001b[1;32m   2838\u001b[0m         \u001b[0mvmin\u001b[0m\u001b[0;34m=\u001b[0m\u001b[0mvmin\u001b[0m\u001b[0;34m,\u001b[0m \u001b[0mvmax\u001b[0m\u001b[0;34m=\u001b[0m\u001b[0mvmax\u001b[0m\u001b[0;34m,\u001b[0m \u001b[0malpha\u001b[0m\u001b[0;34m=\u001b[0m\u001b[0malpha\u001b[0m\u001b[0;34m,\u001b[0m \u001b[0mlinewidths\u001b[0m\u001b[0;34m=\u001b[0m\u001b[0mlinewidths\u001b[0m\u001b[0;34m,\u001b[0m\u001b[0;34m\u001b[0m\u001b[0;34m\u001b[0m\u001b[0m\n",
      "\u001b[0;32m/opt/anaconda3/lib/python3.8/site-packages/matplotlib/__init__.py\u001b[0m in \u001b[0;36minner\u001b[0;34m(ax, data, *args, **kwargs)\u001b[0m\n\u001b[1;32m   1587\u001b[0m     \u001b[0;32mdef\u001b[0m \u001b[0minner\u001b[0m\u001b[0;34m(\u001b[0m\u001b[0max\u001b[0m\u001b[0;34m,\u001b[0m \u001b[0;34m*\u001b[0m\u001b[0margs\u001b[0m\u001b[0;34m,\u001b[0m \u001b[0mdata\u001b[0m\u001b[0;34m=\u001b[0m\u001b[0;32mNone\u001b[0m\u001b[0;34m,\u001b[0m \u001b[0;34m**\u001b[0m\u001b[0mkwargs\u001b[0m\u001b[0;34m)\u001b[0m\u001b[0;34m:\u001b[0m\u001b[0;34m\u001b[0m\u001b[0;34m\u001b[0m\u001b[0m\n\u001b[1;32m   1588\u001b[0m         \u001b[0;32mif\u001b[0m \u001b[0mdata\u001b[0m \u001b[0;32mis\u001b[0m \u001b[0;32mNone\u001b[0m\u001b[0;34m:\u001b[0m\u001b[0;34m\u001b[0m\u001b[0;34m\u001b[0m\u001b[0m\n\u001b[0;32m-> 1589\u001b[0;31m             \u001b[0;32mreturn\u001b[0m \u001b[0mfunc\u001b[0m\u001b[0;34m(\u001b[0m\u001b[0max\u001b[0m\u001b[0;34m,\u001b[0m \u001b[0;34m*\u001b[0m\u001b[0mmap\u001b[0m\u001b[0;34m(\u001b[0m\u001b[0msanitize_sequence\u001b[0m\u001b[0;34m,\u001b[0m \u001b[0margs\u001b[0m\u001b[0;34m)\u001b[0m\u001b[0;34m,\u001b[0m \u001b[0;34m**\u001b[0m\u001b[0mkwargs\u001b[0m\u001b[0;34m)\u001b[0m\u001b[0;34m\u001b[0m\u001b[0;34m\u001b[0m\u001b[0m\n\u001b[0m\u001b[1;32m   1590\u001b[0m \u001b[0;34m\u001b[0m\u001b[0m\n\u001b[1;32m   1591\u001b[0m         \u001b[0mbound\u001b[0m \u001b[0;34m=\u001b[0m \u001b[0mnew_sig\u001b[0m\u001b[0;34m.\u001b[0m\u001b[0mbind\u001b[0m\u001b[0;34m(\u001b[0m\u001b[0max\u001b[0m\u001b[0;34m,\u001b[0m \u001b[0;34m*\u001b[0m\u001b[0margs\u001b[0m\u001b[0;34m,\u001b[0m \u001b[0;34m**\u001b[0m\u001b[0mkwargs\u001b[0m\u001b[0;34m)\u001b[0m\u001b[0;34m\u001b[0m\u001b[0;34m\u001b[0m\u001b[0m\n",
      "\u001b[0;32m/opt/anaconda3/lib/python3.8/site-packages/matplotlib/axes/_axes.py\u001b[0m in \u001b[0;36mscatter\u001b[0;34m(self, x, y, s, c, marker, cmap, norm, vmin, vmax, alpha, linewidths, verts, edgecolors, plotnonfinite, **kwargs)\u001b[0m\n\u001b[1;32m   4434\u001b[0m         \u001b[0my\u001b[0m \u001b[0;34m=\u001b[0m \u001b[0mnp\u001b[0m\u001b[0;34m.\u001b[0m\u001b[0mma\u001b[0m\u001b[0;34m.\u001b[0m\u001b[0mravel\u001b[0m\u001b[0;34m(\u001b[0m\u001b[0my\u001b[0m\u001b[0;34m)\u001b[0m\u001b[0;34m\u001b[0m\u001b[0;34m\u001b[0m\u001b[0m\n\u001b[1;32m   4435\u001b[0m         \u001b[0;32mif\u001b[0m \u001b[0mx\u001b[0m\u001b[0;34m.\u001b[0m\u001b[0msize\u001b[0m \u001b[0;34m!=\u001b[0m \u001b[0my\u001b[0m\u001b[0;34m.\u001b[0m\u001b[0msize\u001b[0m\u001b[0;34m:\u001b[0m\u001b[0;34m\u001b[0m\u001b[0;34m\u001b[0m\u001b[0m\n\u001b[0;32m-> 4436\u001b[0;31m             \u001b[0;32mraise\u001b[0m \u001b[0mValueError\u001b[0m\u001b[0;34m(\u001b[0m\u001b[0;34m\"x and y must be the same size\"\u001b[0m\u001b[0;34m)\u001b[0m\u001b[0;34m\u001b[0m\u001b[0;34m\u001b[0m\u001b[0m\n\u001b[0m\u001b[1;32m   4437\u001b[0m \u001b[0;34m\u001b[0m\u001b[0m\n\u001b[1;32m   4438\u001b[0m         \u001b[0;32mif\u001b[0m \u001b[0ms\u001b[0m \u001b[0;32mis\u001b[0m \u001b[0;32mNone\u001b[0m\u001b[0;34m:\u001b[0m\u001b[0;34m\u001b[0m\u001b[0;34m\u001b[0m\u001b[0m\n",
      "\u001b[0;31mValueError\u001b[0m: x and y must be the same size"
     ]
    },
    {
     "data": {
      "image/png": "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\n",
      "text/plain": [
       "<Figure size 432x288 with 1 Axes>"
      ]
     },
     "metadata": {
      "needs_background": "light"
     },
     "output_type": "display_data"
    }
   ],
   "source": [
    "# LINEAR REGRESSION\n",
    "#from sklearn import linear_model\n",
    "\n",
    "# model train and fit parameters\n",
    "regr = linear_model.LinearRegression()\n",
    "x = np.asanyarray(train[['energia solar','placas solares','energia fotovoltaica','energia solar fotovoltaica','max_interest']]) \n",
    "y = np.asanyarray(train[['avg_interest']])\n",
    "regr.fit (x, y)\n",
    "\n",
    "# The coefficients\n",
    "print ('Coefficients: ', regr.coef_)\n",
    "\n",
    "plt.scatter(train[['energia solar','placas solares','energia fotovoltaica','energia solar fotovoltaica','max_interest']], train.avg_interest,  color='blue')\n",
    "plt.plot(x, regr.coef_[0][0]*x + regr.intercept_[0], '-r')\n",
    "plt.xlabel(\"Keywords\")\n",
    "plt.ylabel(\"avg_interest\")"
   ]
  },
  {
   "cell_type": "code",
   "execution_count": 88,
   "metadata": {},
   "outputs": [
    {
     "name": "stdout",
     "output_type": "stream",
     "text": [
      "Mean absolute error: 1.62\n",
      "Residual sum of squares (MSE): 4.89\n",
      "R2-score: 0.77\n"
     ]
    }
   ],
   "source": [
    "# Accuracy error\n",
    "from sklearn.metrics import r2_score\n",
    "\n",
    "test_x = np.asanyarray(test[['energia solar','placas solares','energia fotovoltaica','energia solar fotovoltaica','max_interest']])\n",
    "test_y = np.asanyarray(test[['avg_interest']])\n",
    "test_y_ = regr.predict(test_x)\n",
    "\n",
    "print(\"Mean absolute error: %.2f\" % np.mean(np.absolute(test_y_ - test_y)))\n",
    "print(\"Residual sum of squares (MSE): %.2f\" % np.mean((test_y_ - test_y) ** 2))\n",
    "print(\"R2-score: %.2f\" % r2_score(test_y , test_y_) )"
   ]
  },
  {
   "cell_type": "code",
   "execution_count": 89,
   "metadata": {},
   "outputs": [
    {
     "name": "stdout",
     "output_type": "stream",
     "text": [
      "Coefficients:  [[0.12952817 0.01178586 0.33412488 0.14888505 0.16734116]]\n"
     ]
    }
   ],
   "source": [
    "# Regression MULTI\n",
    "#from sklearn import linear_model\n",
    "\n",
    "regr = linear_model.LinearRegression()\n",
    "x = np.asanyarray(train[['energia solar','placas solares','energia fotovoltaica','energia solar fotovoltaica','max_interest']])\n",
    "y = np.asanyarray(train[['avg_interest']])\n",
    "regr.fit (x, y)\n",
    "\n",
    "# The coefficients\n",
    "print ('Coefficients: ', regr.coef_)"
   ]
  },
  {
   "cell_type": "code",
   "execution_count": 90,
   "metadata": {},
   "outputs": [
    {
     "name": "stdout",
     "output_type": "stream",
     "text": [
      "Residual sum of squares: 4.89\n",
      "Variance score: 0.77\n",
      "Mean absolute error: 1.62\n",
      "Residual sum of squares (MSE): 4.89\n",
      "R2-score: 0.77\n"
     ]
    }
   ],
   "source": [
    "# Regression MULTI\n",
    "\n",
    "y_hat= regr.predict(test[['energia solar','placas solares','energia fotovoltaica','energia solar fotovoltaica','max_interest']])\n",
    "x = np.asanyarray(test[['energia solar','placas solares','energia fotovoltaica','energia solar fotovoltaica','max_interest']])\n",
    "y = np.asanyarray(test[['avg_interest']])\n",
    "print(\"Residual sum of squares: %.2f\"  % np.mean((y_hat - y) ** 2))\n",
    "\n",
    "# Explained variance score: 1 is perfect prediction\n",
    "print('Variance score: %.2f' % regr.score(x, y))\n",
    "\n",
    "print(\"Mean absolute error: %.2f\" % np.mean(np.absolute(y_hat - test_y)))\n",
    "print(\"Residual sum of squares (MSE): %.2f\" % np.mean((y_hat - test_y) ** 2))\n",
    "print(\"R2-score: %.2f\" % r2_score(test_y , y_hat) )"
   ]
  },
  {
   "cell_type": "code",
   "execution_count": null,
   "metadata": {},
   "outputs": [],
   "source": []
  },
  {
   "cell_type": "code",
   "execution_count": 13,
   "metadata": {},
   "outputs": [
    {
     "name": "stdout",
     "output_type": "stream",
     "text": [
      "['ES']\n"
     ]
    }
   ],
   "source": [
    "'''\n",
    "Country code map test\n",
    "'''\n",
    "\n",
    "import pycountry\n",
    "\n",
    "input_countries = ['Spain']\n",
    "\n",
    "# Load countries dict\n",
    "countries = {}\n",
    "for country in pycountry.countries:\n",
    "    countries[country.name] = country.alpha_2\n",
    "\n",
    "#print(countries)\n",
    "codes = [countries.get(country, 'Unknown code') for country in input_countries]\n",
    "\n",
    "print(codes)  # prints ['AS', 'CA', 'FR']\n"
   ]
  },
  {
   "cell_type": "code",
   "execution_count": null,
   "metadata": {},
   "outputs": [],
   "source": []
  },
  {
   "cell_type": "code",
   "execution_count": 41,
   "metadata": {},
   "outputs": [],
   "source": [
    "# Save Dataset into CSV file\n",
    "df.to_csv(directory + 'df_google_historical_interest_'+geo_location+'.csv', index = False)"
   ]
  },
  {
   "cell_type": "code",
   "execution_count": 40,
   "metadata": {},
   "outputs": [
    {
     "ename": "FileNotFoundError",
     "evalue": "[Errno 2] No such file or directory: '/Users/joan/Workspace/python/py-trends-api/df_google_historical_interest_ES.csv'",
     "output_type": "error",
     "traceback": [
      "\u001b[0;31m---------------------------------------------------------------------------\u001b[0m",
      "\u001b[0;31mFileNotFoundError\u001b[0m                         Traceback (most recent call last)",
      "\u001b[0;32m<ipython-input-40-51e88f45f9d7>\u001b[0m in \u001b[0;36m<module>\u001b[0;34m\u001b[0m\n\u001b[1;32m      1\u001b[0m \u001b[0;31m# Load Dataset from CSV file\u001b[0m\u001b[0;34m\u001b[0m\u001b[0;34m\u001b[0m\u001b[0;34m\u001b[0m\u001b[0m\n\u001b[0;32m----> 2\u001b[0;31m \u001b[0mdf\u001b[0m \u001b[0;34m=\u001b[0m \u001b[0mpd\u001b[0m\u001b[0;34m.\u001b[0m\u001b[0mread_csv\u001b[0m\u001b[0;34m(\u001b[0m\u001b[0mdirectory\u001b[0m \u001b[0;34m+\u001b[0m \u001b[0;34m'df_google_historical_interest_'\u001b[0m\u001b[0;34m+\u001b[0m\u001b[0mgeo_location\u001b[0m\u001b[0;34m+\u001b[0m\u001b[0;34m'.csv'\u001b[0m\u001b[0;34m)\u001b[0m\u001b[0;34m\u001b[0m\u001b[0;34m\u001b[0m\u001b[0m\n\u001b[0m",
      "\u001b[0;32m/opt/anaconda3/lib/python3.8/site-packages/pandas/io/parsers.py\u001b[0m in \u001b[0;36mread_csv\u001b[0;34m(filepath_or_buffer, sep, delimiter, header, names, index_col, usecols, squeeze, prefix, mangle_dupe_cols, dtype, engine, converters, true_values, false_values, skipinitialspace, skiprows, skipfooter, nrows, na_values, keep_default_na, na_filter, verbose, skip_blank_lines, parse_dates, infer_datetime_format, keep_date_col, date_parser, dayfirst, cache_dates, iterator, chunksize, compression, thousands, decimal, lineterminator, quotechar, quoting, doublequote, escapechar, comment, encoding, dialect, error_bad_lines, warn_bad_lines, delim_whitespace, low_memory, memory_map, float_precision)\u001b[0m\n\u001b[1;32m    684\u001b[0m     )\n\u001b[1;32m    685\u001b[0m \u001b[0;34m\u001b[0m\u001b[0m\n\u001b[0;32m--> 686\u001b[0;31m     \u001b[0;32mreturn\u001b[0m \u001b[0m_read\u001b[0m\u001b[0;34m(\u001b[0m\u001b[0mfilepath_or_buffer\u001b[0m\u001b[0;34m,\u001b[0m \u001b[0mkwds\u001b[0m\u001b[0;34m)\u001b[0m\u001b[0;34m\u001b[0m\u001b[0;34m\u001b[0m\u001b[0m\n\u001b[0m\u001b[1;32m    687\u001b[0m \u001b[0;34m\u001b[0m\u001b[0m\n\u001b[1;32m    688\u001b[0m \u001b[0;34m\u001b[0m\u001b[0m\n",
      "\u001b[0;32m/opt/anaconda3/lib/python3.8/site-packages/pandas/io/parsers.py\u001b[0m in \u001b[0;36m_read\u001b[0;34m(filepath_or_buffer, kwds)\u001b[0m\n\u001b[1;32m    450\u001b[0m \u001b[0;34m\u001b[0m\u001b[0m\n\u001b[1;32m    451\u001b[0m     \u001b[0;31m# Create the parser.\u001b[0m\u001b[0;34m\u001b[0m\u001b[0;34m\u001b[0m\u001b[0;34m\u001b[0m\u001b[0m\n\u001b[0;32m--> 452\u001b[0;31m     \u001b[0mparser\u001b[0m \u001b[0;34m=\u001b[0m \u001b[0mTextFileReader\u001b[0m\u001b[0;34m(\u001b[0m\u001b[0mfp_or_buf\u001b[0m\u001b[0;34m,\u001b[0m \u001b[0;34m**\u001b[0m\u001b[0mkwds\u001b[0m\u001b[0;34m)\u001b[0m\u001b[0;34m\u001b[0m\u001b[0;34m\u001b[0m\u001b[0m\n\u001b[0m\u001b[1;32m    453\u001b[0m \u001b[0;34m\u001b[0m\u001b[0m\n\u001b[1;32m    454\u001b[0m     \u001b[0;32mif\u001b[0m \u001b[0mchunksize\u001b[0m \u001b[0;32mor\u001b[0m \u001b[0miterator\u001b[0m\u001b[0;34m:\u001b[0m\u001b[0;34m\u001b[0m\u001b[0;34m\u001b[0m\u001b[0m\n",
      "\u001b[0;32m/opt/anaconda3/lib/python3.8/site-packages/pandas/io/parsers.py\u001b[0m in \u001b[0;36m__init__\u001b[0;34m(self, f, engine, **kwds)\u001b[0m\n\u001b[1;32m    944\u001b[0m             \u001b[0mself\u001b[0m\u001b[0;34m.\u001b[0m\u001b[0moptions\u001b[0m\u001b[0;34m[\u001b[0m\u001b[0;34m\"has_index_names\"\u001b[0m\u001b[0;34m]\u001b[0m \u001b[0;34m=\u001b[0m \u001b[0mkwds\u001b[0m\u001b[0;34m[\u001b[0m\u001b[0;34m\"has_index_names\"\u001b[0m\u001b[0;34m]\u001b[0m\u001b[0;34m\u001b[0m\u001b[0;34m\u001b[0m\u001b[0m\n\u001b[1;32m    945\u001b[0m \u001b[0;34m\u001b[0m\u001b[0m\n\u001b[0;32m--> 946\u001b[0;31m         \u001b[0mself\u001b[0m\u001b[0;34m.\u001b[0m\u001b[0m_make_engine\u001b[0m\u001b[0;34m(\u001b[0m\u001b[0mself\u001b[0m\u001b[0;34m.\u001b[0m\u001b[0mengine\u001b[0m\u001b[0;34m)\u001b[0m\u001b[0;34m\u001b[0m\u001b[0;34m\u001b[0m\u001b[0m\n\u001b[0m\u001b[1;32m    947\u001b[0m \u001b[0;34m\u001b[0m\u001b[0m\n\u001b[1;32m    948\u001b[0m     \u001b[0;32mdef\u001b[0m \u001b[0mclose\u001b[0m\u001b[0;34m(\u001b[0m\u001b[0mself\u001b[0m\u001b[0;34m)\u001b[0m\u001b[0;34m:\u001b[0m\u001b[0;34m\u001b[0m\u001b[0;34m\u001b[0m\u001b[0m\n",
      "\u001b[0;32m/opt/anaconda3/lib/python3.8/site-packages/pandas/io/parsers.py\u001b[0m in \u001b[0;36m_make_engine\u001b[0;34m(self, engine)\u001b[0m\n\u001b[1;32m   1176\u001b[0m     \u001b[0;32mdef\u001b[0m \u001b[0m_make_engine\u001b[0m\u001b[0;34m(\u001b[0m\u001b[0mself\u001b[0m\u001b[0;34m,\u001b[0m \u001b[0mengine\u001b[0m\u001b[0;34m=\u001b[0m\u001b[0;34m\"c\"\u001b[0m\u001b[0;34m)\u001b[0m\u001b[0;34m:\u001b[0m\u001b[0;34m\u001b[0m\u001b[0;34m\u001b[0m\u001b[0m\n\u001b[1;32m   1177\u001b[0m         \u001b[0;32mif\u001b[0m \u001b[0mengine\u001b[0m \u001b[0;34m==\u001b[0m \u001b[0;34m\"c\"\u001b[0m\u001b[0;34m:\u001b[0m\u001b[0;34m\u001b[0m\u001b[0;34m\u001b[0m\u001b[0m\n\u001b[0;32m-> 1178\u001b[0;31m             \u001b[0mself\u001b[0m\u001b[0;34m.\u001b[0m\u001b[0m_engine\u001b[0m \u001b[0;34m=\u001b[0m \u001b[0mCParserWrapper\u001b[0m\u001b[0;34m(\u001b[0m\u001b[0mself\u001b[0m\u001b[0;34m.\u001b[0m\u001b[0mf\u001b[0m\u001b[0;34m,\u001b[0m \u001b[0;34m**\u001b[0m\u001b[0mself\u001b[0m\u001b[0;34m.\u001b[0m\u001b[0moptions\u001b[0m\u001b[0;34m)\u001b[0m\u001b[0;34m\u001b[0m\u001b[0;34m\u001b[0m\u001b[0m\n\u001b[0m\u001b[1;32m   1179\u001b[0m         \u001b[0;32melse\u001b[0m\u001b[0;34m:\u001b[0m\u001b[0;34m\u001b[0m\u001b[0;34m\u001b[0m\u001b[0m\n\u001b[1;32m   1180\u001b[0m             \u001b[0;32mif\u001b[0m \u001b[0mengine\u001b[0m \u001b[0;34m==\u001b[0m \u001b[0;34m\"python\"\u001b[0m\u001b[0;34m:\u001b[0m\u001b[0;34m\u001b[0m\u001b[0;34m\u001b[0m\u001b[0m\n",
      "\u001b[0;32m/opt/anaconda3/lib/python3.8/site-packages/pandas/io/parsers.py\u001b[0m in \u001b[0;36m__init__\u001b[0;34m(self, src, **kwds)\u001b[0m\n\u001b[1;32m   2006\u001b[0m         \u001b[0mkwds\u001b[0m\u001b[0;34m[\u001b[0m\u001b[0;34m\"usecols\"\u001b[0m\u001b[0;34m]\u001b[0m \u001b[0;34m=\u001b[0m \u001b[0mself\u001b[0m\u001b[0;34m.\u001b[0m\u001b[0musecols\u001b[0m\u001b[0;34m\u001b[0m\u001b[0;34m\u001b[0m\u001b[0m\n\u001b[1;32m   2007\u001b[0m \u001b[0;34m\u001b[0m\u001b[0m\n\u001b[0;32m-> 2008\u001b[0;31m         \u001b[0mself\u001b[0m\u001b[0;34m.\u001b[0m\u001b[0m_reader\u001b[0m \u001b[0;34m=\u001b[0m \u001b[0mparsers\u001b[0m\u001b[0;34m.\u001b[0m\u001b[0mTextReader\u001b[0m\u001b[0;34m(\u001b[0m\u001b[0msrc\u001b[0m\u001b[0;34m,\u001b[0m \u001b[0;34m**\u001b[0m\u001b[0mkwds\u001b[0m\u001b[0;34m)\u001b[0m\u001b[0;34m\u001b[0m\u001b[0;34m\u001b[0m\u001b[0m\n\u001b[0m\u001b[1;32m   2009\u001b[0m         \u001b[0mself\u001b[0m\u001b[0;34m.\u001b[0m\u001b[0munnamed_cols\u001b[0m \u001b[0;34m=\u001b[0m \u001b[0mself\u001b[0m\u001b[0;34m.\u001b[0m\u001b[0m_reader\u001b[0m\u001b[0;34m.\u001b[0m\u001b[0munnamed_cols\u001b[0m\u001b[0;34m\u001b[0m\u001b[0;34m\u001b[0m\u001b[0m\n\u001b[1;32m   2010\u001b[0m \u001b[0;34m\u001b[0m\u001b[0m\n",
      "\u001b[0;32mpandas/_libs/parsers.pyx\u001b[0m in \u001b[0;36mpandas._libs.parsers.TextReader.__cinit__\u001b[0;34m()\u001b[0m\n",
      "\u001b[0;32mpandas/_libs/parsers.pyx\u001b[0m in \u001b[0;36mpandas._libs.parsers.TextReader._setup_parser_source\u001b[0;34m()\u001b[0m\n",
      "\u001b[0;31mFileNotFoundError\u001b[0m: [Errno 2] No such file or directory: '/Users/joan/Workspace/python/py-trends-api/df_google_historical_interest_ES.csv'"
     ]
    }
   ],
   "source": [
    "# Load Dataset from CSV file\n",
    "df = pd.read_csv(directory + 'df_google_historical_interest_'+geo_location+'.csv')"
   ]
  },
  {
   "cell_type": "code",
   "execution_count": 91,
   "metadata": {},
   "outputs": [
    {
     "data": {
      "text/html": [
       "<div>\n",
       "<style scoped>\n",
       "    .dataframe tbody tr th:only-of-type {\n",
       "        vertical-align: middle;\n",
       "    }\n",
       "\n",
       "    .dataframe tbody tr th {\n",
       "        vertical-align: top;\n",
       "    }\n",
       "\n",
       "    .dataframe thead th {\n",
       "        text-align: right;\n",
       "    }\n",
       "</style>\n",
       "<table border=\"1\" class=\"dataframe\">\n",
       "  <thead>\n",
       "    <tr style=\"text-align: right;\">\n",
       "      <th></th>\n",
       "      <th>date</th>\n",
       "      <th>ahorro corriente</th>\n",
       "      <th>ahorro energia</th>\n",
       "      <th>energia solar</th>\n",
       "      <th>placas solares</th>\n",
       "      <th>energia fotovoltaica</th>\n",
       "      <th>energia solar fotovoltaica</th>\n",
       "      <th>placa energia solar</th>\n",
       "      <th>year</th>\n",
       "      <th>month</th>\n",
       "      <th>day</th>\n",
       "      <th>hour</th>\n",
       "      <th>geo_location</th>\n",
       "      <th>min_interest</th>\n",
       "      <th>max_interest</th>\n",
       "      <th>avg_interest</th>\n",
       "    </tr>\n",
       "  </thead>\n",
       "  <tbody>\n",
       "    <tr>\n",
       "      <th>0</th>\n",
       "      <td>2021-06-01 00:00:00</td>\n",
       "      <td>0</td>\n",
       "      <td>13</td>\n",
       "      <td>20</td>\n",
       "      <td>37</td>\n",
       "      <td>0</td>\n",
       "      <td>0</td>\n",
       "      <td>0</td>\n",
       "      <td>2021</td>\n",
       "      <td>6</td>\n",
       "      <td>1</td>\n",
       "      <td>0</td>\n",
       "      <td>ES</td>\n",
       "      <td>0</td>\n",
       "      <td>37</td>\n",
       "      <td>10.000000</td>\n",
       "    </tr>\n",
       "    <tr>\n",
       "      <th>1</th>\n",
       "      <td>2021-06-01 01:00:00</td>\n",
       "      <td>0</td>\n",
       "      <td>0</td>\n",
       "      <td>12</td>\n",
       "      <td>38</td>\n",
       "      <td>0</td>\n",
       "      <td>0</td>\n",
       "      <td>0</td>\n",
       "      <td>2021</td>\n",
       "      <td>6</td>\n",
       "      <td>1</td>\n",
       "      <td>1</td>\n",
       "      <td>ES</td>\n",
       "      <td>0</td>\n",
       "      <td>38</td>\n",
       "      <td>7.142857</td>\n",
       "    </tr>\n",
       "    <tr>\n",
       "      <th>2</th>\n",
       "      <td>2021-06-01 02:00:00</td>\n",
       "      <td>0</td>\n",
       "      <td>14</td>\n",
       "      <td>70</td>\n",
       "      <td>33</td>\n",
       "      <td>4</td>\n",
       "      <td>4</td>\n",
       "      <td>0</td>\n",
       "      <td>2021</td>\n",
       "      <td>6</td>\n",
       "      <td>1</td>\n",
       "      <td>2</td>\n",
       "      <td>ES</td>\n",
       "      <td>0</td>\n",
       "      <td>70</td>\n",
       "      <td>17.857143</td>\n",
       "    </tr>\n",
       "    <tr>\n",
       "      <th>3</th>\n",
       "      <td>2021-06-01 03:00:00</td>\n",
       "      <td>0</td>\n",
       "      <td>0</td>\n",
       "      <td>50</td>\n",
       "      <td>47</td>\n",
       "      <td>3</td>\n",
       "      <td>3</td>\n",
       "      <td>0</td>\n",
       "      <td>2021</td>\n",
       "      <td>6</td>\n",
       "      <td>1</td>\n",
       "      <td>3</td>\n",
       "      <td>ES</td>\n",
       "      <td>0</td>\n",
       "      <td>50</td>\n",
       "      <td>14.714286</td>\n",
       "    </tr>\n",
       "    <tr>\n",
       "      <th>4</th>\n",
       "      <td>2021-06-01 04:00:00</td>\n",
       "      <td>0</td>\n",
       "      <td>0</td>\n",
       "      <td>54</td>\n",
       "      <td>59</td>\n",
       "      <td>4</td>\n",
       "      <td>4</td>\n",
       "      <td>0</td>\n",
       "      <td>2021</td>\n",
       "      <td>6</td>\n",
       "      <td>1</td>\n",
       "      <td>4</td>\n",
       "      <td>ES</td>\n",
       "      <td>0</td>\n",
       "      <td>59</td>\n",
       "      <td>17.285714</td>\n",
       "    </tr>\n",
       "  </tbody>\n",
       "</table>\n",
       "</div>"
      ],
      "text/plain": [
       "                 date  ahorro corriente  ahorro energia  energia solar  \\\n",
       "0 2021-06-01 00:00:00                 0              13             20   \n",
       "1 2021-06-01 01:00:00                 0               0             12   \n",
       "2 2021-06-01 02:00:00                 0              14             70   \n",
       "3 2021-06-01 03:00:00                 0               0             50   \n",
       "4 2021-06-01 04:00:00                 0               0             54   \n",
       "\n",
       "   placas solares  energia fotovoltaica  energia solar fotovoltaica  \\\n",
       "0              37                     0                           0   \n",
       "1              38                     0                           0   \n",
       "2              33                     4                           4   \n",
       "3              47                     3                           3   \n",
       "4              59                     4                           4   \n",
       "\n",
       "   placa energia solar  year  month  day  hour geo_location  min_interest  \\\n",
       "0                    0  2021      6    1     0           ES             0   \n",
       "1                    0  2021      6    1     1           ES             0   \n",
       "2                    0  2021      6    1     2           ES             0   \n",
       "3                    0  2021      6    1     3           ES             0   \n",
       "4                    0  2021      6    1     4           ES             0   \n",
       "\n",
       "   max_interest  avg_interest  \n",
       "0            37     10.000000  \n",
       "1            38      7.142857  \n",
       "2            70     17.857143  \n",
       "3            50     14.714286  \n",
       "4            59     17.285714  "
      ]
     },
     "execution_count": 91,
     "metadata": {},
     "output_type": "execute_result"
    }
   ],
   "source": [
    "df.head()"
   ]
  },
  {
   "cell_type": "code",
   "execution_count": 72,
   "metadata": {},
   "outputs": [],
   "source": [
    "# TODO --> add isTrendPeak column with the top peaks market over threashold of 25%"
   ]
  },
  {
   "cell_type": "code",
   "execution_count": 92,
   "metadata": {},
   "outputs": [
    {
     "name": "stdout",
     "output_type": "stream",
     "text": [
      "Peaks are: [  9  12  15  23  25  27  31  40  50  52  56  59  63  67  76  79  82  89\n",
      "  93  97 102 107 112 127 132 136 144 147 151 161 166]\n"
     ]
    },
    {
     "data": {
      "image/png": "iVBORw0KGgoAAAANSUhEUgAAAXkAAAD4CAYAAAAJmJb0AAAABHNCSVQICAgIfAhkiAAAAAlwSFlzAAALEgAACxIB0t1+/AAAADh0RVh0U29mdHdhcmUAbWF0cGxvdGxpYiB2ZXJzaW9uMy4xLjAsIGh0dHA6Ly9tYXRwbG90bGliLm9yZy+17YcXAAAgAElEQVR4nOydd3hc5Zm373d60Yx6s2VJLnLvNmAMBtNDDwYCQRAvSZaQTTY9C7sOabveTTZskk2yCUu+FDaQSsgmIWETIBAwEIIBG1wwtrEtyZLV6/Tyfn+cMkUzapY0I3Hu69Kl0dFo5pmjc57znN9TXiGlxMDAwMBgdmLKtQEGBgYGBlOH4eQNDAwMZjGGkzcwMDCYxRhO3sDAwGAWYzh5AwMDg1mMZTrfrKysTNbX10/nWxoYGBjMeF5++eUuKWX5RP52Wp18fX09u3fvns63NDAwMJjxCCFOTPRvDblmqnjoIaivB5NJ+f7QQ7m2yMDA4G3ItEbybxseegjuuAP8fuXnEyeUnwEaG3Nnl4GBwdsOI5KfCnbsIO4P8P5t97Crbo2yze+HHTtya5eBgcHbjlEjeSGEA3gGsKvPf1hK+TkhRAnwM6AeOA68S0rZO3WmziCamghY7TzRcBbLO97i3BN79e2zhoceUi5aTU1QWws7dxp3KbOESCRCS0sLwWAw16a87XA4HNTU1GC1WiftNcci14SAC6WUQ0IIK7BLCPEYsA14Ukr5JSHE3cDdwF2TZtlMpraWQGcfAAGrPWX7rMCQo2Y1LS0teDwe6uvrEULk2py3DVJKuru7aWlpYf78+ZP2uqPKNVJhSP3Rqn5J4FrgAXX7A8A7J82qmc7OnQQ8RQAELKqTd7mUaHc2sGMH+P08uvRcbr3pn5Vthhw1awgGg5SWlhoOfpoRQlBaWjrpd1Bj0uSFEGYhxB6gA3hcSvkiUCmlbANQv1dk+ds7hBC7hRC7Ozs7J8vu/KaxkeDOfwPAb3NAaSk4nXDbbbOj0kaVnf5as5Jd9evwa3crs0mOeptjOPjcMBX7fUxOXkoZk1KuBWqAM4UQK8f6BlLK+6WUG6WUG8vLJ1TLPyMJXHY5AMHNWyAQgO5ukDIhbcxkR6/KTr1ODwBdrqKU7QYGBvnDuKprpJR9wNPAO4B2IUQ1gPq9Y9Ktm8EEwjHl+xtvgt/PkM3JL1dcqPxypksbO3eCy0Wf5uTdRbNLjjJ427B58+ZcmzDljOrkhRDlQogi9bETuBh4A/gNsF192nbg11Nl5GmTg8akQERx8v6osijLY4s388mrPkFzYaXyhJksbTQ2wv3301tYBkBX/WK4/34j6fp2JUeNf7FY7LRf4/nnn58ES/KbsUTy1cBTQojXgJdQNPlHgS8BlwghDgOXqD/nH1olyIkT0yqXBFUnH3Qr0e6g3a18t7mUJ8x0aaOxkd4FSwDo+uq3DAf/dmWKzq/jx4+zdOlStm/fzurVq7nhhhvw+/3U19fzxS9+kXPPPZdf/OIX7Nmzh02bNrF69Wquu+46enuVKu6tW7fy8Y9/nPPOO49ly5bx0ksvsW3bNhoaGvjMZz6jv09BQQEATz/9NFu3buWGG25g6dKlNDY2oq2a9/LLL3P++eezYcMGLrvsMtra2vT3uOuuuzjzzDNZvHgxzz77LKBcfD71qU+xatUqVq9ezTe/+c0RX2fKkVJO29eGDRvktFNXJ6PCJL+78Vo5ZHVIqRyKUtbVTenbPvJKs6y761F5yWd/LaXLJb959rtk3V2PypfmLpPS5ZLywQen9P2ng+X3PCbr7npUfuOJN3NtisEkcuDAgbE/ua4ucU4lf53m+XXs2DEJyF27dkkppbz99tvlV77yFVlXVye//OUv689btWqVfPrpp6WUUt5zzz3yox/9qJRSyvPPP1/+wz/8g5RSyq9//euyurpatra2ymAwKOfOnSu7urqklFK63W4ppZRPPfWU9Hq9srm5WcZiMblp0yb57LPPynA4LM8++2zZ0dEhpZTypz/9qbz99tv19/jEJz4hpZTyd7/7nbzooouklFJ++9vfltu2bZORSERKKWV3d/eIr5NOpv0P7JYT9Luzf6xBUxN7qxfzLxf9LeW+Xq49+Iy+fSoJhOPKd3cB3H8/vp+9CIC/pha+vGPGR77haByfmnfoGgolfmE0Sb29yHYeTcL5NW/ePM455xwAbr31Vr7xjW8AcNNNNwHQ399PX18f559/PgDbt2/nxhtv1P/+mmuuAWDVqlWsWLGC6upqABYsWEBzczOlpaUp73fmmWdSU1MDwNq1azl+/DhFRUXs27ePSy65BFCidO11ALZt2wbAhg0bOH78OABPPPEEd955JxaL4l5LSkrYt2/fiK8zlcx+J19bS4tL0cG7tSoQdftUomnygXAMGhvxF6yBF07g/38/gJVp/9wZ6Bj7/GH9cZdPfWw0Sb39qK1V/s+Ztp8m6eWE2s9ut3tMf2+3K6W9JpNJf6z9HI1Gsz4fwGw2E41GkVKyYsUKXnjhhRHfQ3s+KOpIuu2jvc5UMvtn1+zcycnSuQB0uwqVbdNQCRJMdvKgR72+UFqyKEc5g9Ol1x/RH3cNqpH8jh1Iv5/vnnEdzV61bWKmVxIZjIxaaZXCJJ1fTU1NulP8yU9+wrnnnpvy+8LCQoqLi3Ut/Ec/+pEe1U8WS5YsobOzU7cjEomwf//+Ef/m0ksv5b777tOdfk9Pz4ReZ7KYtU7+t3tbee5IFzQ2cvLqGwDodhdBXZ1SCQJTWhGgl1BGYkgp8YWUf7g/nBZB7NhBLBDkPzffzN6qBmXbDHCMvWokX+i0JuSapiY63UXsvPB9/GZ50smWy0oiY+Tz1KJWWlFXB0Ikzq9JuHNbtmwZDzzwAKtXr6anp4cPfvCDw57zwAMP8OlPf5rVq1ezZ88ePvvZz572+yZjs9l4+OGHueuuu1izZg1r164dtSLn/e9/P7W1taxevZo1a9bw4x//eEKvM2lMVMyfyNd0Jl4v+MpT8l33PS+llPL2H/xV1t31qHzfD19Sfvngg1K6XDJotki/xa4kirRk6IMPKkkjIZTvE0yQfvG3+2XdXY/KurselYFwVN72vRdl3V2PyvuePpL6RCHkHxadJevuelQ2fPIR+fOVFyn2CDHxDz8NPPZ6q6y761G57dvPyTVf+IOysa5Ovl65UNbd9aj81623T1uSOyvq/zklIThLkt5TybgSr1PEsWPH5IoVK3JtRk6Y7MTrrI3kfeEoRzuVkTsnewNAUoJQnb3yj+/4CHdsUyNmvx8++lG44w56OnpPWzrRNHlQpBu/Gslrso1ObS0/Wn8lVYNdnNFygE9f+XEOltfnfYmlJtc0VBTQ548QicVh507aS5V8w4BaMprTJin1//zS3OX8aN0VyrYZcJdkYDCZzF4nH4rRNRSm1xfmZJ/i5Lt9CVkB4EhpDS/PXUYcNUnS3c1BdwUb/v5B9lUsULaN1SmkyQLBQ0f0XwUiMd25a85e4/hn/41n56/n3Xv+j88++V3FrjkL8757VJNrFlUodcbdQ2FobKTjzo8A0O8omNRb9wmh/p9/suYy/m3r7ci07Qb5S319Pfv27cu1GbOCWenkpZT4VO37laZehkJRrGahOCLQo+RuVxF+m5OThYnZakdLa5DCxJvldYkXHM0pZEieBna/ov/aH47pWnx6JP/jqrVYkNzcfYCqoW4A2v/mzryvRunzR7BZTNQUK0k37S6pfZmySEr/VdfC8eO5/Rzq/9lnc+K3ORN3F9N9lzQD8wJSytGfZDDpTMV+n5VOPhiJo+2rP7+pTL5cVu1NONudO5EuF51upaTyUFmdIiuUlurDtto8ZYkXHM0pqLLAHxedxf+suxKAgEhUpwbCMb2qJpCWeH10bysXLq+i8o29eP0DOK1mTi1aPuHPPl30+sIUu6yUe2xAkpMfUL4PBIaXqE07auXHkF25ELV5yqZfPlIDgP5TXQxaHTOiesrhcNDd3W04+mlGqvPkHQ7HpL7urKyTH0qSRJ5RnfyquYW81tJP91AYV2MjQzEIH1Ac1KHFa7n4C4rM0PX9JwFo9aoTM8fiFNRI/6drLuNwWS3vefV3KYuFBCPZI/kef5j6MiXCFEJQVejg1ED+r8jT649Q7LJRVqB8Tu0uqXNQsb0/EMn6t9OGehcx9LSygEvbohUs/fAt03t3oQYAf3fTv1Ax1MPXfvfVhASYp3drNTU1tLS08LYZDZ5HaCtDTSaz0sknlyke71Yac9bUFPHQi010+8LMK3HRfcU74cDTABy67U549zoAOluc0Att3nJFUx5LY5LaENLr9CpaNBC02PGEAwzanPjCMfyaJp9kWzQWJxiJ47Yl/g2VXjun+vPfyff5wxS7bJSqTj49ks8LJw/Q2MjQqaeh00fr178NZ9WN+ieTihoAdBQUZ9yej1it1kldmcggt8xKuUaTRlw2MwA2i4nFVcqgsG7VGWlJWIfVxJvtg/rfdlXOA6Dt3IvGriknjd4dtLuIIwjYHRQXKHcKPb5E239yM5T2uMCRcPJV3pkSyYcpdltx28w4rKYkJ6/YPhiMEI/nx+2+tp9zcvFUpb6gxU7QYhu23cBgqpmdTl6NllfOVTpc5xY5KVMdriYrdKnfz6gv4WjnkFICSCIibesPjP0NtdG77kKkMDG0aDGBqrmUVJamvCckmqQAhlQ7C+xmfVtloYOOgVDe66F9/ghFLpuyZJnbTvdQmFhc0jUUwmUzE5eJzzdtZElwao1orX05cPJqABAyWwlpTt6YvW8wjcxOJ6+e1GvnKUnUuUVOSt2KrNCpRfKq4928sIxITHKsywcknH+fP5LikEcj9u5bdKmm/8VXCNhdlLhtKe9pNgn9AgQwFNScfGJl9iqvg3AsTo8vcWHIN6SU9AUiFLsUu8s8djqHQnQPhYjLRFllv38aJZss4yHkgw/pF5txXbgnCzUACNqdSiSf67LSyWYmVQ7NJFsnkVnp5DX9e01Nwsk7bWbcNrPu3DXZ5uyFSrR96NQgUko6h0JUepULQus4nMJAIKJX9AwEIwQjMYpdqXcPpW6bbhskEsTupEi+ulDJrOdEskk/Cf7u7zKeFAPBKLG41D9ftddBU49f1+MbKjzq86bRyasJzn2VCwma1Yum34//81/U/y9tucp1NDYSchUQWrwk92Wlk8lMmrs0k2ydZGalk9ec5/I5XkrdNpbP8QJQWmDXtfhuXxivw8LSKg9mk+DN9kEGQ1HC0TirVJmnrS9I52CIA60Do75nb9JUxv5AhEAkRqkuESnvWe6x63cZyXYW2JMTr4qTbx+Pk5+MCCXTSfCd72Q8KbQJlEWqkz9jfgknuv3saVYWbFhcWaDvh2mjqYkBm4tr3/NVfrnyIn2zr70LALfNTGtfICcymJSSUDROKBKf9veeUnbsIBCO0XjTv/Dy3KXKtnztKFaDgJDZwu65y5Rt+WrrJDMrnbzWVVrotPLsXRdw2yaloqK0wJYo9RsKUVZgx2E1U1/q4tCpQX2a4qq5aq18f4Av/HY/13/neXpHkU+SpzJq+rTXYcEkEhJQucdOKBonpiYkNYefknjVIvn+pBntKq+19A23Y7IiFPUkeL52Fe+9/rNEhXJofPm87fxw/VXKc9STQvusmlxzziLlbuiRV08C0KA6+YHpdPK1tQza3cRMZmXNWZXB+oWAIiGFonH6plNCUglFFecejJz+cnV5RVMTb5bV8lz9Wj5/0Qfyu6NYtel3S7dww61fYX/F/JTtoFyM//xmZ0ogNhuYlU5eq0V32824bBZMJmVsQanbridWu4dCeqS9pMrDm+2DujNeOVeJ/Jt7A/z5zU4CkRgPvHB8xPdMnq+uReFOmwWn1axH8lpNuVZGqcs1SSWU5QV2TAJOpUlFg8EIN3znBb6361jqG6vO+Uvnb+eeS+5UtqnOWErJU4c69IvKiKgH+6NLz+NPi85USkiBX668kMcbNqU8rzctkl9S6aGswMarTX0IAQvLNSefdrJMpSa6cycBr3IHNpg0N8f3kU8AsEiVkHQJbhr1WS2C15z9rKG2luYiZa2G16sbeGzJOfr2vEO16VSBEpD8seHslO3+cJQP//hVtn//r/zvnpM5MXGqmJ1OPhTFYhLYzKkfr6zARrdP0+TDejJ2caWHEz1+mnqUmvq5xUo1zu9fb2MwGKXEbeOB54+PmIhNTpR2qHcETqsZp82SEslDImeQSLwmnLzFbKKswD5Mk//rsR7CsXhi/o5GUxO/XnYe9226kZ+tvjShRzc18cLRbm7/wUs8fahjlD2GfrDvr1Qi3+bCSoIWGx2eUnqdnpTn9aifR0ssCyE4Z5HSIVzqtuvbU+SaqdZEGxsJfv6fARh0uPUE59CFFwMJCamtLzjt+mwoGlO/x/O+ampc7NxJS5nSuFPf08q9W24j6i7Iz8qhpDJngMcbzkqpcnrfD3fz+33KmqvJ1XCzgVnp5P3hGC6bedjqLKUFNnp8YeJxSbcvnIjkKz1ICS8cVWbHlBXYqS50cqRjCLNJcO+Nq+n1R/j57uas75ksA2j12E6bCafNRFgtzyxXI3ntdtCnJ15Te9KUrtdUZ77riKItp+vcx5dv4J8u+zClvj7CFht75iiLa1Nby8snFI1cqxwakZ07iRR4OFhRD0BzUSUt6sIf2omhnRTaBajKm2i/1px8hcdOgV2RqVJsVe84/nXr7Xzu4g8o25I10UmIrAMXXwrAUON2PcGpXUg1CamtPwA7djAUlVzznq+yT72oTaU+G0zS4mdVNN/YSPPVN1IUGuLTz/4Pb5XW8OJ//L/8TCxrZc7lcwA4ULmQlm99Fxob6fOHeeGtbv7+wgZcNnP+NPJNErPSyftC0ZToWKPUbSemOvhef1jv1lyiNko9f7QLk4Bil03XxjfUFnPh0kpWzvXy272tKa93pGOQy772DJ2DIXr9YSwmgcdhScg1VjNOa6Jypiw9kg9HsVlM2Cyp/4ZKr4NT/QG++NsDvPeHLxGPS2UBFIZLID/5m7uJWKw8+LPPIGScv9Su0p3xq81KO792hzIijY0c+dp/E1ZruZtrF9Pc+F4A+hyelNK/U/1BilxWnLbEZ9OcfKXXjhACr9OaerKoctAfG87mgQ1X81rVosT2SYqstTut5KoerWS1rtSNxSSUChtVS36tejHP1a0ZZuNko0XyyuNZ5OSB5rIa5i2Yy5ZX/4QQsHvhekAJLF5p6s2xdWk0NtJ75bUUqbmkJxYrks1rLf0AnDW/hML04zYbM6gcc3Y6+XAUVwYnP69EGVT1/NEupIRyNZKvK3Vjs5ho6w9S4rZjNgnmqE7+/CWKNr2mpohD7YMpt9svHe/lUPugkhD1RyhyWSlyWXW5xqHKNaDUyGuJymS5xpPBziqvgzfbh/j+c8f40xsdfG/XMd5sV2bjp5clHi2vZYHbxDKXZHnHMV5s2Aj334+85RZeVU+yMTl5YN9aZXk1m9lES+P7aLlFcfJ+m5PQkaN6hNbWH0yJ4kEpUz2zvoS185T2/UKnNdXW2lriCH0m0FfOe4++XYvyH190Jtfdei8xYZpQZK3N8B8MDu9F8DgsVHodipOvrdUH0DUXVqbYOBUkO/bQLEu+tvT4mVfixOuwsqTSw+4TPQDc/cvX+NTP9+bYuuH0+iOsmONlUUUBfzzQDigFDaA0T47Jyc+wcszZ6eRDMdxJUabGuYvKcFrN/OgFZeFhLZI3mwQNagOP1hk7t9gJwFbVyS+u9DAYjOq14ABt6pz6Y10++vxhilw2vA5rQq6xmnFalV3sspl1WUaLLn2h6DCpBqC6SHGgt22qY1m1l3977CAAC8vdww7Ao50+FjTMhePHOWvbxbwydxmhm26mqcdPrz+C2STG7OT3tw7gsplZW1tEc2+AlqS/S5GjBgJ6PX8yP7/zbD56sbKE4bCTZedOOsvnELZYWdx5gmfnr+f5xWcomqgaQb9Qu5pX5y6l26UkvscbWWvVK0MpZarKNo/dytwip7KAzM6dtJUqt+1a4nAqu1CTq2qyRvIzKDLUiMclLb0B5qnjpjfWF/PKiV46B0O8dLxHz3/lE70+5Ty9dHklLx7roccXZm9LPwvK3BQ6rcPvQDOxYwdxf4CHV16Iz6qeB3lcjjkrnbw/nNl5Om1mLlpWwW5Vqy51J2aJLKlUJBstOXr9+hq++q41LK9WHI6m6SbPuWlVnfmJbr8yy8Vlxeuw6hGl05aQa9w2i15Fo8kKQ1mc/A3ra/jStlV84ZoV/MNlS4hLpVxx04LSlLLEcDROU49fr2bZtKCEUDTO3uZ+Xm1SopNzFpXR0hMY0xyZfSf7WV7tpa7ERXOPn+beLE6+P0hVoXPE1/I60k6WxkZa/uVeAD6x60Eq/X3cd9s/KXcHWuWDGl13utVhXuOMrLX9Opgs14SimIQyo2heiUv5TI2NtL3zJgBaCiunvAs12bFnLKOczMhwGi8WnUMhwrE4NWpAdEZ9Cb5wjG8/fYS4zNH8olE+f68/TInLxpWrq4nFJX/Yf4rXWvpYVaNUZhU6raOX/jY18dTCjXzqyk/wqxUXpGzPR2alkx8KxXDZMg/YvGp1tf5Yi+QhoctrydHSAjvb1tfoyVvtIpDs5LU2+ePdPn2WS6EzMaLAaTXrdrjsZn1gmpZwHQpllmsqvA5uPrMWk0mwdUk5lyyv5J3r5lLksjIQjOqSUVOPj1hcsqBcKRk8c34JQsCuw5282tSLy2bm4mUVhGNxXULKRiwuOdA2wMq5hcwrcdExGOJIxxB2NV+glU2GosqKW+lyTTqZTpaWM7cAsPCZP3DLNWfyzJCV410+vfKhLdnJTyCy1i6uQ8HUhrMCuwUhBLUlLk4NBAlGYrTNqVdsqqxDHjs2uoM/Dec5aiSvylWvVy5kl5YjmEhkmHSxkNMgIzSrd3o1qgy6oU65OD/4F+VOedrnF41ysYzFJf3qOI7l1V7ml7n54XPHaR8IsVrtjh+TXFNbqzfcadVo2vZ8ZFQnL4SYJ4R4SghxUAixXwjxUXV7iRDicSHEYfV78WivNV0okfxwuQZg65IKXcrRpBlAn1KpJUfTKS2wU+q2cVjVxkEtx0Nx8nok70w4bYfVjCMpktecvKbJ+0KxrHZqCCH47ns28rmrV1DotBKLS70P4EiHUjWjRfJFLhubF5byraeO8L97WllTU0R9qXIBGE2yOdblwx+OsWKOl3klSmT2ZvuQ3i2sRfIdqlyVSa5JRrntTT3BW9S1ducWO7n5zHlYTIKHXjyhVz60FynVPJ11DROKrDUn7wvH9N6AoaQkfG2pEynhZF9AH1YWisbpHOUCmOw84pJxO89RI3k1AvyPLbfx4Wvv0hvRxh0ZqheLe7fcyuYP/oCIyTylMoJ2p6fJNXOLnFR5HURiSiMgjGF+0WTeeSSNtsh0sRwIRJS7YrcyWO+q1dUcUoO2NUmRfCYnn5yL6/vCv/JEw1kAieqsPB46N5ZIPgp8Ukq5DNgEfEgIsRy4G3hSStkAPKn+nBcozjNzJO+wmrl4eSU2iwmvIxF1L1WdfOUIEWpDZQFvdigHhZSStv4gQigLhff6lEU0kl/TaUtE75k0+aFQlIKk54+G9tpahPxWl3LBWaA6eYD7b9vIpcur6A9EWF9XRK0aZY3FySuf0aOftIA+4kFr9tLmv1SN6uQt6jyfxMnR0hugxG3DZVOSoJeuqOTnu1sIRmLE3n0L7R6lUaXrc2OY4Z+BYPJcoODwvEfyvjjVH9Sb05JlqYyozuO3S7ew7iM/pt/uHpfzHDWS1+WqUvqcXl6qWZGyfcw0NfGds67nW5tvps1bnuhvmCIZoblHuWhrco0Qgg31Sqx39Rol5zHi/CL14hk/0TQ5dx7q5/yvs9/F57TGwKTt2t2oNnPpSvWu3mwSrJiTcPL+cEyfSgvw9Sfe5Opv7dIDh98uOYew2cq5pw5yqLye8PwFeT10blQnL6Vsk1K+oj4eBA4Cc4FrgQfUpz0AvHOqjBwvvlA0Y+JVY8eVy/jh35yhd8ICVBc6+cHtZ3Djxuyrsiyu9HC4fQgppT6fZnm1l7iEcCw+TK5RqmvUSN5uwW4xYRKpmnzBKJF8Ml71tbVI42iHj0qvPaVc1G238O3G9Xz3PRv5wPkLmVPkxCRGd/LauIRSt01ftxUSTl4bZaBJVKNF8oVOK+FYPMWpnewL6A4B4Naz6ugPRHjiYDtdQyH9JNIi68cPtOu1/mMhkORMB0OKvcqFVNk/WnXVsU4fHYNBzppfAigXnxPdPuWuIhNNTYTMFr609Xb6nR6Oltbo28dCSnVNNEMkr8pVWi4ivVFnrLy25ly+vPV25vYrVSP9DtXJT5GM0NLrp9xj1+9WAa5dM4cNdcVcuqJKsWEk6UO9eH78qk9yzXu+Rp+j4PTuPLTuVaudfnvBsO2JTm3lPFpS6WFRRQFLKj36eVqYdo4BvN7Sz76TA/xh/ymklDz8cgtLqzzc+LF3E7ZYObzrlcwOPk+S6ePS5IUQ9cA64EWgUkrZBsqFAKjI/pfTRywuCUSya/IAFR4HmxeVDdt+wZKKlEg8ncWVHoZCUVr7g/rt/mZ1iiWgyjVJTt5i0k8ArTnLZbPoi1goF6OxL86lHYBaJH+0c0iXapIxmQSXLK/E67Bis5ioLnTq+mk2kk+ACo9dr91vqPRgs5joCyi/PzXGSD7TydLS609x8mfML8FqFuw7OZAyIVIbzfy5X+/j3j8cGvF9kklx8sGkuyX1IlheYMdhNbH7RA9xqVSDgKIt/+cTh9nxq30pSVud2loeWnuFvuC7vjTkGJ1nciQfzDSkrLGRyH/fT7c6c+fxZeci/3v8keHB9/49AB964ecAyujrKZQRmnsCzCtOTcBfuqKKX35wsy6FjpjEbGqiqbCS3yw/j9erG7j9hs/zfw1n8+X6raMerxlRL5ZBi51BdV3f5M/f61NsSe7U/k7jer5201r9JTIdt9rxeN+fj/Lgi03sbe7j1k11egC0/2SGAYZ5VGY5ZicvhCgAfgl8TEo5+ljGxN/dIYTYLYTYPR1rRmoneqZmqNNlcVLyVYtoz05y8smRvM1swmI26XKN5sxdNjP+sDKq1x+OpQwnGw/OIbYAACAASURBVA1drlGTr291DulJ15GoLXGNHsn7I1hMQulWNQlqipSTd16xk2KXlT6fFskHKbBb8IwiM2m2aieLlJKTvQHmFiWcgtVsYkFZAYfbB/VZPQV2C52DQULRGG0DQQ53DA5/8SwEwgkHqjv5YMLJa8nXvx5Tarnnl7kpK7BzrMvPn9TRD5mmf/q+uJNvnXMza1vfAFQnPw7nOWokD3RdvQ1Q5iY1F5Rx6OKrx/TayZxcshoTkiVmdQnG2qmVEZp7/frdUTqJgGSExGttLQ+tvRyTlHzh8fvYW93Andt28J1NN/JgtruqkVBzOyFXASGrfZiMki7XgBLEaEUXyXanOPnBEB67hdda+vn8b/azdUk5t5xZS32pG7fNzL7W/uG27NiB9Pv53sZrEr0YOSqzHJOTF0JYURz8Q1LKR9TN7UKIavX31UDGASlSyvullBullBvLy8snw+YR0SpXXOOQQcaKNv/kcPugXj65vLpQTzIlJ14dan28VkKp2eO2W/CFY7ouP56LUfIB2DUUZiAYzRjJpzMWJ6/V+WvVRDUlLlw2MyVuG0VOW0okP1oUn2zrb/e2crIvQNdQmFA0niIFQSLPoUXyK+Z46RwM0dwTQEplgudYF1BJjpiHVLkmvRehtsSlzxKaU+RkXomTPx44pSeWM82c33vOZfQ4vXz08J/whHy0zhmf8xw1kieR0H73mcrdwR/2tY/ptZM52aeUtpb+4VEA+r9135Q5+EA4RmtfgLrSzEFGurSYieA/7+QXay7l4sMvsv2VR/n5j+/mp7/8HOucUf7yVk/GvwlFU/XyYTQ2Ely5GoCh1w+mfP50uWYsdsfV1c5u3DiPsgI7ZQU2/uPGNZhMApOq5e87mcHJNzXR6innny+6g98sOy9l+3QzluoaAXwPOCil/GrSr34DbFcfbwd+PfnmjR9fhsmOk0WRy8a8EicvvtXDqf4AFpOg3GNnfplyoBe7E4lXTeNLrpPXfg6Eo4kxw+Nw8toFZCAQ4a3O4UnXbNSWuugcDKUsIp6OVh2kcdXqam46Yx5CCIpc1oQmPxAcVY8HpSR1XomTb/7pCBfc+zRPHFScVk3a7f3iSg/NPQGOdg5hM5tYUuWhayjMie7EvJ3kstWRCERi+v7OJNcAKZFnVaGDecWulA7ZTE6+RU0wLnz0F1TXVtJ63c3jcp5j6XjVSlxXzClkS0MZ33/umD4xdayc7PMzp8ipX2CncqzyofZB4hK9jySdAluG+UVp/N/KrfQ4vdzWuhuEYKPFz6bPf5xzNi1l38n+lKY2jQ8++Ap3/fK1EW0Lq/s7XXrr9UewmsWI51xh0jkGiv2RmKSm2MnDd57N/37onJTS6xVzvRxoGxg+6bW2ljfUOVB+qyNl+3Qzlkj+HOA24EIhxB716wrgS8AlQojDwCXqzznHr48ZnnwnD3DR0kp2HelSk54OzCahRzNFLqt+gmnORnP2iUjejC8U06s/xmOnJ0kCOa46wQVlo8s1WuXQSEnMXn8k5Tb2XRvn8bmrlSqPYpdNr65pzzDSIBOVXgfPfPoC/vjx8yiwW/jibw8AiU5iDe3uaNfhLqoKHVR47PQHIhzuSJSqHh6rkw/HqFBX9RpUJa10J69V2BTYLXgdVr1c9Fw1R5Npse/mXj8moXQizylyjmvFMFAiebOa5M/W8doxqLxvhcfO565ejj8c5V9/f3Bc73OyL8DcYueYoujTRVtIJ5uTN5mU+UUDwUjWBORzR7ooddvY/ML/QTyuD5U7a0EJsbhk9/Hh0fze5j6lt2IEghnGW0Ci2zV9cGEy6fuuK2nBn/oyN9VpTYAr5hQSjMSHDwHcuZM35ijd3z6b+jc5KrMcS3XNLimlkFKullKuVb9+L6XsllJeJKVsUL9nvr+aZhIz2idfrgG4dEUloWicJ99o1yPaJVUeHFYTRU6bfpBoCdf0SN5ls+APRzOuCjUaZpPAY7cwEIzQ1OPHYhJjiqrPUcc5PH4guwSgyDWZb2OLXFb6/BGisTgdg2OL5EHRwBdXevinK5bpuZJkTR4SeY7j3X6qCh16WePLJ3px28x4HBa9lnk0ApEYFZ6Ekw9G4sRl6oVUKw/VPoP28xWrqikrsGWO5HsDVBc6sZpNzCly6v0RYyUUjeuS3mhyTVmBnUUVHu44bwGPvHJSzx+MRiwuOdUfZE6RUzlOHJYpdfIH2wbw2C3D7syS8Tqs9B84nDUBebhjiMWVnpQqN1CaqiwmwYvHetjf2s8/P3qAeFy5YHf7wsOcdzrahTS9fFPrdh0JXRJV74K0Sq+ygsz9M3WlyvFzsi/twt/YyKHLbwAgYHPkdG3fWdfxqkkSmQaUTQZn1iuT6iIxqWvT7z1nPr/98Lkptfe6XJNUJw9qJB+OJZz8OBKvoEQaA4EoTT1K1GYxj/4vdFjNbGko44kD7VnnmadH8skUuWz0+SN0DCoLdY820iCd69fPZdOCEio89mEJW204HCiOVxsr8cqJXupK3Syu9OjD2UYjGIlR5LJhNgkGg5GM+7hWPSmr1YvNuQ1lXLyskitWVSkjnjNE6c3qEC5QLlLdvvDwpqYRyuWCarWXxSSyJl47BkOUum36vvjwBQ2YBDx7OKlYYYT36BwMEYlJ/SI65mmKE+RA2wDLqr3DHHQyhU4r/QcPI/1+/mPLrSljneWOHRztGNIXfU/GZbOwuqaQp97o4I7/eZnv7TrGW10+XcIbzclnj+QjI+rxAHaLGYfVpO+7zqRIPhNz1P3dmu7kgTccSomu79btOV3bd0Y6+W8+eVif/Z6OVp44nvrz8WAxm7hwqVJKp/2DnTYzDWpE6rCasJlNw+QaLZp0Wi0EwrEJ5w60AUpNPX5dehgLlyyvpLU/yP4M69VKKZVI3p09kg/H4rx4TNnnmU7MkdC6dn/2gbOH/c5sEnryuCrJyXf7wtSVulhcqVTfjGWxDaV0Von+h0LJd0uJY0GL3LUpozXFLv7f9o0UuWxUeZ0ZI/nmXr+eMNbuAFJO6lHK5ULROA6rUk6bLZLvHAymOBKnzUy5x56Qj0Z5j5N9iQVvQPmfTZWTj8clb7QNsKzaM+LzCp1WBqSJPoeHb26+mUeS5rx09AwxGIpmPZbOWlDKG6cG9Qj5zfZBTnQrnzFjmWsSIV2TT3Py/nDWQCbdbt3JD47s5Cs9ykpu2vHwu9fa+P6uY4Sjcd7qVC5KIy02NB3MSCf/raeOZG1c0atrpiDxqnHpcqUkKpNsocxSt+hOfmmVh2vXztFrst12s+qAJlbq6XUoco0SXY7dyV+0rBKTgD/uPzXsd75wjEhMZj0BtITso3vblCmV84oyPm8kPA6rnqBOR9Plq72OlJOpttRFQ4WHXn+EzqHQqLXTgbCSeC2wWxgMRjNeSJ02M3ect4Br1I7MZKoLHcNW5ApGYrQPhBIXBz1yS3rejh3EAkH+8bIPcbh0nrItqVwuFIlht5ixW0wjRvIVabmOqkJnwh61ceiZ+nV87Zxbhr2HPjJiGiL5ph4/vnBMH3mRDa/TQn9BsT7ps6moSv/d4WUbAPTpr+lsUXMkn7p0MUKkOnlfOEY0S4VNNBYnqiZBMyVei93jdPJDIfUOPfN5ajGbqPQ69OPhB88d419/f5C/vNWt2+Gbzvk9GZhxTj6qdlFqM2TaB4J85Cev6vqbvr7rFDr5C5ZWcMOGGi5Ykrn/a26xSz9hXTYL/3nzOio8ys+1JS76AxEOnVIi6vHKNYVOK619AXp84XFF8iVuGxvrSvjd623DHI3W7VqcVZNXToxnDndy1vySYYucnC6aLl9V6NSXZASoK3Hrv/u7B19hy78/xa7DXVlfJxCJ4bCa8TisDAYjeiSXvo//6YplGZvhqgod9PkjKZGXFkkmyzVAavK1qYmmoip+svZyfrLmspTtkIjk7RbTiJp8RVq0WOVNiuTV1/r2phu576zrhy2arTmZ6XDyB9uUY3dZlqSrRqHTSn9pBc0VSkVJs+bkXS6O3PJ+IPtd4dkLS/njx8/jQxcsorbExeH2IZp6EsnNTJU3AMGkxHbyoDrtbjXbMZ5ut+ZPOgdDlBfYR0zWzily6pH8sS4f0bhk5++UpPncIqdeDJIrZpyT1+SYt7qGiMTi/GH/KX6zt5Xn1ZWT/FNYJ6/hsJq598Y11GeJTH/wN2ew48plGX+nzaf//etKRD3agLJ0vE6rHrWNx8kD3H5OPUc7fXzsp3tSSr60UruibJq8moyKxKS+AtRksk69M1hYrujzmm6qyTWAPh76WFd2fT4YieFU5ZrkSH6sd0ta1VByNK/ta+2uqdLrQIg0uaa2lvYCRX99cd7KlO2gLOStaL3mjJG8Vos93Mkn3VnU1jJoc7K7Zjkhq52A1Z7yHif7/BS5rLosWOi0TlkJ5YG2AcwmoV+As+F1WhnAQsvtHwSgqbAKqSYgj9QtxeOwZJVBtKS9EIKGCk9KJA/ZdflQymiLaMrjaDz73WoyhUnD9ToHQ1mHFmpoFVf9/gjdvjBCKCWmVrNgxRyv4eTHi3brE4lJTnT79KW79qmtxdqSetYxJCSnihK3LatjWVheQE2xk5N9AWxmE3bLOJ18UuJyvE7+8lXVfObKZTy27xRfeixRnpepEzCZ5Fvccxsm38lvXlTGc3dfqOc1tHHPdaUuyj12/v7CRXy7cT1CkHViZCQWJxKTOK1mPJpcEx5fmaomv7UlRen6OF1V67ZZTJQX2FOd/M6dtJcqw64OVC5QBpgllcsFozElV2MxZSyh7PGHicblMCdfWehgMBhVigl27uS5xWcSNSufpdfhBZeLz3/oq0rDWW+AOUkJ8UKnbdiAuMlCW2QjeWZNJrwOK+FonCNzlVLCgM1B1+uHoLGRw+1DNFQUjBghayyuLOBYl48jHUN6AUO2wWfJkXyyXKPfrY5BrvEmjcnWIvmRmFOorDh2VA1Arl+vzDZaVOHB67TqgWeumHlOPmmHHTo1pC/dpbUW+7OsCpUvCCH0aH68UTyQMgBtPJq8xvu3LOCda+fw4xeb9CqEPvWAzi7XKNvLCmz6XP3JJrm0stxjx2oWVBc6EULwyUuXcMWqakrdNr3aIR3tsziticTrQHCckbzq5JNHGzT3+rGZTVR6Enr5nKK0BG1jI+3b7wBAChMvrd+aUi6XHMlnGjWslU8O0+S1O4v+IDQ28udbP6L/rnfBYuR/389DfQ7+8ZHXOdg2mNKDoA2IyyYPDbchSMto0ziBv7zVzTNvdnLZiqpRn6sdq/uSkv1a5/XRzsyVNZlYXOkhGpd0DIZYoeYBBoPRjNVGyZH8QFK0ryVB0y+k2exOrpMv94x8YZhT5CQcjfPyceVu82+3LKC2xMX62iLcNjP+HC/5OOOcfLIWt6e5lyMdQwihrGqkNb9MZdJ1Mti6WNHyJ9KwpXW9FjqtKQ5/PFy/oQZfOMbTh5TyvD693TubXKNs37ywbEyR1+nSUFHA8jmFegORRlmBnc7BzCMOtDp8hy2hyb/W3IfXYcla45xOlR7JJ8k1aqlqcqng3CLnsLro9kXL9Wj9xR3/nlIuF4zGsKuafKZIPrkRKsWeJPlISslTsUL9s/T94n8ZuP5dRGLKMX9qIJhyocw0g2Uk/ulX+3jP9/46YuQfjsb5zP/uo6bYyYcuWDTqa2o2HG4f1BOszT1+en1huobCY3by2qpsgD4SePAPT2SsNgr++rf6c5MlnV+9epJCp5WzFpSMye6hUJRQNEaPLzx6JK/u911HujAJZSbSb//+XO65ajlOmwV/yHDy4yJZ3/rN3lbiErY0lNM1FObUQJAX3+oetbQr12xeVIrNbJrQEDXtxBmvVJPM2QtKKXHbePS1ViAxnS9bDbHNYuLuy5dyx3kLJvye42HHlcv5yd+eNWx7uceePZJXh5M5rWYKVE3+6Tc72bK4fNjFIhsum4VCpzWl67U5bXImKLmD412+lA7iUwNBqgudrJ1XNGzuSigSx6Fp8pkieVWCqvCkRvKVhYlI/lD7IKcGgnpVUK8/MdNH62hOdvLa/7IvEOZLj73Bbd97kfv+fDTraIsjHYO81eVL6TRO50d/OcGRjiH++dqVemnwSGiNgdG41Af5NfX4OaKO5GioGNt5urC8AO1fqE1+HPzZL8HvZ/fcZcriKAB+P6Fv/7f+d5pcMxCM8If9p7hmzZwxyaPaOXa8y09cZi+f1NBkvr8e62FeiQubxUSh04rDasZtMxOOxUeetzPFzDgnr0Xyc4uc+qLat6hDnX70wgla+4P6YgD5istm4cKlFXq33HjQNPnTcfIWs4l3rKziyYMdBMIxev1hPHbLiHmMO89fyEr1BJtqbBZTxrux8gI7XVk0+UCaXBONSzoHQ2xdPL6heNWqvqrR0hsYJou9b8sC5hQ5+chPXtU7IzsGglR67WyaX8L+1v4UzXi0SP7QKaWjN92ZJEfyWlXRO9cpTr7PH6ZbveB98tIlfOiChVy+KiGhJM+veejFE7xyopcvPfYGX/3jm8PePxqL6wnmkbqiX2vpo6bYyQVLxzZVPPlOc1FFAZVeO009fvao6w8nT38cCYfVrK9wph2Dg4MBmgsrueHWr/C7pVv05wa7lQtsscuqR/K/f62NUDTO9RuyrxWRye4j6gVvNCevXVwDkdiwMmHtYpjL5OuMc/KaJr+2VqnImFvkZEtDGULA9587hs1i4uJllbk0cUx8493r+NYt68f9d1p0VFMyvq7TdK5aVU0gEuOpQx0jNkLlE+UeO52DoYySQmLxdFPKurnnLxmfk68qdHCgdYDuoRD/88JxenxhPVLWKHRa+dYt6+kYDPLFR5WZPKcGglR6HayvKyYu4WCSDh2KxHFYzdit5mFO/pFXWvjermNctbp6WHTstlvwOCy09wfZfbyXeSVOllYpmnSvWskByoXp05ctTZnwqTmqA60DDAaj/NOVy9jSUMYzh4eP+27tC+o13X8cwcl3D4VHdXjp+0ljXrFLn4b6u9fbWDnXq8scY6GhsgCXzUx9mfIZByvncFKd638iqf4+VK048nKPXS+h/OUrLSwod+tL/I2GdhekDdUbTe4rcln1vph0J69JsiMNB5xqZp6TV6+IWtndqrmFuO0WFpS5CUbibF1cPuqs83xgohVA2gF4OpE8KB2FZQWKZDPSSIN8otxjJxyLpyTUNLTadq1OHpSxxekSyGhsP7uerqEQl339WT776/1csrxSv1NMZu28Iq5aPYdnD3cipaR9IESV16EvH6k5YCmlEslbTDgsppTE6/7Wfj798Gucs6iUe29ck9GeKq9yZ7H7RC8b65QehQK7hV5/mG51ZHJpwfD/neZgn1c7w5dXezl3URlvtg/RoS5mro25OKHWn29pKGNvc1/GmfraZyodQ3WKRnID0bwSJ/NKXOw/2c+e5j6uXDW8GW0k/m7rInZetxK7xYzNYmLwwkvpKFGce5u2iIvLRfA9fwMojnkwGGEgGOGl471cs2bOmPNJZ84vZcUcL7969SQweiQvhGBOkfJ/Tx8YmL6ucy6YeU5ejeTXqZH86nnK1VlLyOS7VHO6LCov4O7Ll3LVOE+SdMwmweUrq/nTGx209gWyJl3zCe1ky1RGmV5dA4mehPFwwdIKHr5zM3aLiXMXlfHNd6/LOh9oxRwvHYMhjnb6CEfjVHgd+qpDml4eiUmkRI3kU+Wal0/0EotL7r1xTdZyxKpCB6809dI1FNK7prWBcZpcU5LB8RaqwcBfj3UjhCKNaD0Ozx3t4jtPH+X9/7Ob10/26/Xnf7tFyblkk2y6h0IpzWqjkbxKWo0ayWtB2pWrxneerplXxHXrlCjd67AwsGAxnbd/AIBWT5k+ACy0+RxAOVZ84RhHVclltMatZArsFh6+czPvXDsn5cI9Etpdyfyy1GSyJjvmMvk6I528ELBuXjGfuXIZN21U2sjPW1xOhcc+I6Sa08FkEtx5/kL9JD4drlpdTTAS53DH0Jg6AXONVuUwopO3mZlfpqzYc8U4HYnGqppC/vzprfzPe88csRZcG7P7tLqqVJXXod9paXXZQbX5SYnkU0som3v82C2mEUc3V3od+iInG+uUypBil02J5H1KLiVTMlGb5z4QjDK/zI3LZmF5tZdil5XHD7TzwAvHAWUQ3Ilun35Rq/I6Mo74lVLS4wtnvGvIhtVswq3O4HFYzfpoiNU1hfqguImgVU91LlYaz9o2na8PAAupJaOaxPK6uqDHWEZyJ+O0mfn6zet44R8vHLUfANB7FOanrdSmlXPncrRBftcaZsAXiuG2KUvUvX9Lotrjhg01XL9+7rSU+M0WNtYrkyE7BkMzQq7ROg8zVdgkJ17rSt3s+8Jlp3UsjGW6pxYdPqU6+UqvHbtFacbqUctSNadjzxDJN/coC5uPZKd2AfA6LHoZoraIi8eR3elq89z7/BHdTpNJsHlRGb97rU2xyWLi1eY+AuEYtSUuTCZFdsi0fwcCSsdopruGkfA6rXppqlZocNVp3m1rHc1a6Wlyoly7qGpOfm9zP0Iw4YvKWI+hDXXFvHSih+q0C7aWZ8nlkLIZGcm7spRvGQ5+fJhNQo92RxvBmg9okXymCptkJw/TcywUu21UFzr0me/abX2x25aI5COpkXwsLvVyupHWSNXQHOSGumK9Vl9bxKXHFxrR6WrjKJIX9tAWRzmjvpgLl1awp7mPph6/7oC15HY63b6R56pnY31tMWcvUMon19UW84VrVtB4Vt24XiMdjzqkT7NzKBTVyyW1i6om7WkVQePtLB8v7zpjHn/65NZho5e1xGsuI/mZ5+TD0SlZpPvtihZVjSehlisKnVasZpE5kg8nmqGmk+XVXiIxpTJFW5Wq2G3TE69a5K5p8snbmnv8uoSRDS2S31ifaOIpdlnp9SmJ19IRnG5hBid/wZIKKjx2PnbxYtbVFnGi28/RziFqSxSZIbuTVz7PeCP5/2pczz+8YymgBBXbN9ef9qptXodSHtk5GNLr57VoXruolql3OEc6h4bp5NNJPiReZ5y3TF+Y2eD02FBXzNduWsOFS/I/l2EyCbXrNeGEXm3qJRyNpyRep5Plc7w8+UYHxS6rHi2WuKz6hSg5ktd+H4rEiMUlA8GoPt0yGyvmeplb5EzJNRW5bAwEo1gGQ3oBQia0xGfySOCqQgd/3XExgD5NNBKTeiRfVmCn1x8hEounVH9pSd7xaPJThSLXRIjGJA0VHg61D9LaF2BxpYdQNI7ZJHT5Ucrx6/GTSSLxamjyY8YXimWVawzGjxBCr1qYCaQ7+bt/+TqRWJzLV1VhMYlpH0yn6d3JFRglbru+mlVyJO9QI/lgNE6fWqZYM0okX13o5Lm7L0zZpiXJe3zhESPrUreNsgJb1nktK+cUYjEJonGZIteAUhNflbReghbJj1eumQo8DiXXEI7FuXBpBYfaB1MieYfFpFdYwfDa9enEpSdeDU1+zBhyzdubco9dX1y5tS/AofZBjnX76PGFpz2Kh4QUkurkrXoJZSiaOZJv7lFHGI/i5DORPElxpJLGj128mPtu3ZA1P+G0mfWLlLYYfbYKJq0mPx8S9B6HhVA0jpRKB6wQ0KbOEgpF49iTeiUgt07ebjFhEkbidVwYcs3bm/KkSP7Pbyrdm1LCq019067Hg9KU5rFbUro3i902ApEYgXAsUV1jMSUi+Uhcn/g4mlyTieSehpHkk/oyd4qWn4n1tUVYzUJvzdd7EYZSG6J6fGG8DsukLxgzEZIdeHWhgwqPPW8jeSEEbpvFKKEcD0Oh2IRG9BrMDso9drp9YWJxydOHOpTZ8aEoh9oHJxQVny4mk+CB952ZshRkieqEe/xhPZJ3WM2JSD4ao7nHj8dumdAk0eSehvE0J2Xi7y9q4PJV1brzLssSyXcNhUZM8k4nyQ683GOnujAx+jmoRvIOqxmb2QSCcY1PmAqcNrPRDDUe/OHolC7tZ5DflHvsxOKSph4/uw53cdWaOXgcFqSc/qSrxvraYqqTFuzQdPJeX1if5263mPTqGiWSD1BT4ppQqWfxGCP5sVBWYGeTWuIIiUhea8DS6BnnSIOpJHlcQoXXwZwih74co7KerrKfPQ4L9aWuMU8hnSrcdktOZ8rPKCcfj0v84Zgh17yN2VBXjM1s4p3/9Ry+cIwLlpTrunIu5JpMJI82yBrJZxhhPFaKUiL5yXW8DnUsRCZNPh8qayBVrikrsCmRfF9QnROkRPKgXAAbpmiRm/HgsplzWl0zo5y8pmsZide3LyvnFvLTD2xSE5kmNi8q05OfTmt+HM5aYrTXnxbJWxKRfHNPYMLyUoHdgkVrjJqC6DpTrXy3L0TJaUpDk4Um1xQ6lbLV6kIHgUiM/kCEkKrJA3y7cT33XLk8l6YCqpM36uTHhrajpnKRboP8Z31tMY99dAudQyEK7Ba9DjxXck06uibvC+vdrQ5VJwZlDdlAJDahpCsoybwil41oPD4lJaPlaWWq8bgyt6YszyJ5rTRUk8ra+oMEo3G903fRGBclmWpcNou++louGPUIEUJ8XwjRIYTYl7StRAjxuBDisPq9eGrNVNAWDDEieYPSArs+W12P5PNEril0WjEJxclniuS1KY+nswhLscs67u7TsVKWVKYKyhrAcZk/XdGaJq/lD5Jr+5M1+XzBZTPnfZ38D4F3pG27G3hSStkAPKn+POVoY4aNxKtBMosqCrCYxJimBU4HJrXjUtPkLSaBxWzS7Xv+aDfzSpxsqJ14bDSnyDlqI9VESY/ke9S5NSV5U12jROqac9dyBd2+EKFoPG+OAw2XzZLTOvlRvaWU8hkhRH3a5muBrerjB4Cngbsm0a4UfvjcMf56vIfbNilmGHKNQTIOq5k7zlvAmnnZW/ynm2K3Mg5YSbgqsZQ9KWewbV3NsGFW4+ErN64+bRuzUe6xMxiKEgjHcNrMeqVNWZ5E8jaLiVK3TW/gKnMnbmhuggAAIABJREFUyj7zMZJ3280zsk6+UkrZBiClbBNCZF30UQhxB3AHQG3t8BV2xkK3L8z/7TulryZjyDUG6WhDsPKFEjWSL3Hb9MjSkTQJ8fr1pzdKYrwrXo2HRBlliMFgVJ+yWZInmjzA/37oHD2C9zqVRHS3L0wwDyN552xPvEop7wfuB9i4cePwxTnHwPJqL3EJrzT1AhgllAZ5T7HbyrEuHwfbBvVBYVazQAjYWFd8WotmTDXaaIOvPf4mj6hL4JlNYsTFTaab5BHNQghKC2x0D4UI5mMkb7MQjsaHDX2bLibqLduFENVqFF8NdEymUeloddDaijWGJm+Q75S47fxhv5Jg/bdtqwDFGX3gvIUTWpZwOtEi+UdePcn5i8u58/yFlBXY8nqJyFK3XUm85mEknzxuuNA5c5z8b4DtwJfU77+eNIsyUFviwm0zs791AMAYa2CQ95S4leh9Q12xvkQlwN2X55eslAnNyVd5HXztprVTVsUzmZQW2Dg1ECQWl3kXyWvjhgPh2ITGWJwuYymh/AnwArBECNEihHgfinO/RAhxGLhE/XnqjDQJllV7icYVtcdlRPIGeU5tiQub2cTO61aeVoI1F1R47Lz3nPn8920bZoSDB2U8Q6s6iTLfInktKM1V8nUs1TXvzvKriybZlhFZVu1l94lenFZzzmdRGBiMxg0b5nHRssq8mL8+XoQQfPbq3HeKjoeyAhu9fmUJQEeedD5raE16uSqjzK+9MQJaV6ORdDWYCZjVVawMpofkCZlTvZ7reNHXec3R/JoZ4+S15GuBoccbGBikkdyNa8+3SD7H67zOmLB4SaUHkzAieQMDg+GU5XEkv7zay1Of2pqzEtQZ4zGdNjPzy9yGkzcwMBhG8hjkfNPkHVZzTlenmlEe87NXr9BHrBoYGBho5LMmn2tmlJM/f3F+N5EYGBjkhmRNPt8i+Vxj7A0DA4MZj8Nq1mdaGZF8KoaTNzAwmBVourwRyadi7A0DA4NZgSbZ5FvHa64xnLyBgcGsQEu+5tvsmlxj7A0DA4NZQVmBEclnwnDyBgYGs4IKjwOLSRiRfBozqoTSwMDAIBvbN9dzRn0JlhwszJHPGHvDwMBgVlDitnFuQ1muzcg7DCdvYGBgMIsxnLyBgYHBLEZIOaG1tSf2ZkJ0Aicm+OdlQNckmjNdzES7Z6LNMDPtnok2g2H3dFIGuKWUE5rrMq1O/nQQQuyWUm7MtR3jZSbaPRNthplp90y0GQy7p5PTtdmQawwMDAxmMYaTNzAwMJjFzCQnf3+uDZggM9HumWgzzEy7Z6LNYNg9nZyWzTNGkzcwMDAwGD8zKZI3MDAwMBgnhpM3MDAwmMXMCCcvhHiHEOKQEOKIEOLuXNuTCSHEPCHEU0KIg0KI/UKIj6rbPy+EOCmE2KN+XZFrW9MRQhwXQryu2rdb3VYihHhcCHFY/V6cazs1hBBLkvbnHiHEgBDiY/m4r4UQ3xdCdAgh9iVty7pvhRD/qB7nh4QQl+XG6qx2f0UI8YYQ4jUhxK+EEEXq9nohRCBpv9+XRzZnPSbyfF//LMnm40KIPer28e9rKWVefwFm4CiwALABe4HlubYrg53VwHr1sQd4E1gOfB74VK7tG8X240BZ2rZ/B+5WH98NfDnXdo5wfJwC6vJxXwPnAeuBfaPtW/V42QvYgfnqcW/OI7svBSzq4y8n2V2f/Lw829cZj4l839dpv/8P4LMT3dczIZI/EzgipXxLShkGfgpcm2ObhiGlbJNSvqI+HgQOAnNza9VpcS3wgPr4AeCdObRlJC4CjkopJ9pJPaVIKZ8BetI2Z9u31wI/lVKGpJTHgCMox/+0k8luKeUfpZRR9ce/ADXTbtgIZNnX2cjrfa0hhBDAu4CfTPT1Z4KTnws0J/3cQp47TyFEPbAOeFHd9GH1Fvf7+SR7JCGBPwohXhZC3KFuq5RStoFyAQMqcmbdyNxM6gmQ7/sasu/bmXSsvxd4LOnn+UKIV4UQfxZCbMmVUVnIdEzMlH29BWiXUh5O2jaufT0TnLzIsC1v6z6FEAXAL4GPSSkHgO8AC4G1QBvKrVe+cY6Ucj1wOfAhIcR5uTZoLAghbMA1wC/UTTNhX4/EjDjWhRA7gCjwkLqpDaiVUq4DPgH8WAjhzZV9aWQ7JmbEvgbeTWoQM+59PROcfAswL+nnGqA1R7aMiBDCiuLgH5JSPgIgpWyXUsaklHHgu+TolnAkpJSt6vcO4FcoNrYLIaoB1O8dubMwK5cDr0gp22Fm7GuVbPs27491IcR24CqgUaoisSp5dKuPX0bRtxfnzsoEIxwTM2FfW4BtwM+0bRPZ1zPByb8ENAgh5quR283Ab3Js0zBU7ex7wEEp5VeTtlcnPe06YF/63+YSIYRbCOHRHqMk1/ah7OPt6tO2A7/OjYUjkhLl5Pu+TiLbvv0NcLMQwi6EmA80AH/NgX0ZEUK8A7gLuEZK6U/aXi6EMKuPF6DY/VZurExlhGMir/e1ysXAG1LKFm3DhPZ1LrLJE8g+X4FSrXIU2JFre7LYeC7K7d5rwB716wrgR8Dr6vbfANW5tjXN7gUoVQZ7gf3a/gVKgSeBw+r3klzbmma3C+gGCpO25d2+RrkItQERlOjxfSPtW2CHepwfAi7PM7uPoOjY2vF9n/rc69VjZy/wCnB1Htmc9ZjI532tbv8hcGfac8e9r42xBgYGBgazmJkg1xgYGBgYTBDDyRsYGBjMYgwnb2BgYDCLsUznm5WVlcn6+vrpfEsDAwODGc/LL7/cJSe4xuu0Ovn6+np27949nW9pYGBgMOMRQkx4bIch1xgYGBjMYgwnP4Uc7/IRjMRybYaBgcHbGMPJTxGRWJzL//NZfvxiU65NmXzWrQMhhn+tW5drywwMDNIYVZMXQjiAZ1DmLluAh6WUnxNClKDMVKhHmUf+Lill79SZOrPwh2MEIjG6hkK5NmXyOftsOHAAwuHENpsNNm/OnU0Gs4ZIJEJLSwvBYDDXpkw7DoeDmpoarFbrpL3mWBKvIeBCKeWQOoBrlxDiMZTBOU9KKb8klNWa7kaZa2EAukwTmI1yzT33wA9+wIDNRau3nKVdJ8BsVrYbGJwmLS0teDwe6uvrUUZCvT2QUtLd3U1LSwvz58+ftNcdVa6RCkPqj1b1SzJzFpXICYGw4txnpSZfXQ233873Nl3PttvuJW6zw+23Q1VVri0zmAUEg0FKS0vfVg4eQAhBaWnppN/BjEmTF0KY1TUGO4DHpZQvMsZFJYQQdwghdgshdnd2dk6W3XmPFsH7w7PQyQPccw+nPKX4bU763IVGFG8wqbzdHLzGVHzuMTl5qcxjXosyc/lMIcTKsb6BlPJ+KeVGKeXG8vIJ1fLPSDQnH5itTr66mt4lymHQ1fg3RhRvYJCnjKu6RkrZBzwNvIOZsahEzgiGUzX5/a393PCd52eV0++rWwRA13ven2NLDN625KjS64orrqCvr2/Y9s9//vPce++9APzwhz+ktTWxDkl9fT1dXV1TalcmRnXy6pD6IvWxE3WQPTNjUYmcHQTpkfyrTX3sPtHLyb7AlL7vdNKrLuncZXPn1hCDty9nn61UdiUzDZVev//97ykqKhrxOelOPleMJZKvBp4SQryGskrT41LKR4EvAZcIIQ4Dl6g/5x85OggCadU1/nA05ftsoNcfAaBrcBaWiRrMDO65B0xpbmwSKr3+/d//nW984xsAfPzjH+fCCy8E4Mknn+TWW29Nicp37tzJkiVLuPjiizl06BAADz/8MLt376axsZG1a9cSCCjB3Te/+U3Wr1/PqlWreOONN07LxrEyluqa16SU66SUq6WUK6WUX1S3d0spL5JSNqjfe6be3Alwzz10u4u46P3f4VBZnbJtGsr9AmlyjS80uxKxUkr6/EqdfLfPcPIGOUKt9NIDOZttUiq9zjvvPJ599lkAdu/ezdDQEJFIhF27drFlyxb9eS+//DI//elPefXVV3nkkUd46aWXALjhhhvYuHEjDz30EHv27MHpdAJQVlbGK6+8wgc/+EFd1plqZn/Ha3U1+xs/wNHSeeytXjxpB8FoBNPkmtkWyQ+FokTjyqpiXYPhUZ5tYDCFJEfzkxTAbdiwgZdffpnBwUHsdjtnn302u3fv5tlnn01x8s8++yzXXXcdLpcLr9fLNddcM+Lrbtu2TX/948ePn7adY2H2O3mg9ZobAehyFU5b0066XOMLp0b0OjN0RECfKtWAEckb5BgtmjeZJi2As1qt1NfX84Mf/IDNmzf///bOOzyyq777nzO9j7o0alu13ev1et29xmbdcAVsXIBgwEBMCSVxCMQsSSDvAyFASCE4vC8EU0IcMGCH6oK94F7X9trbq7TqfYqm3/ePe8/VndGMNNKqjOT7fR49Gt0p9+jMvb/zPd9fY/v27Tz66KMcPnyY9evX57x2OmGPTqcTAKvVSjo9P4TvDWHkTyrqVm7AVzFvSTtjyaz2W2PyiSJMXvMZ5HTaXQQlAoY0qUYI6IuMM/lEOsOOrz3Gw6/3LNTQTLwRsXMnXHjhrBK4iy66iK9+9atcdNFFbN++nbvvvpstW7bkGPWLLrqIn//854yNjREOh/nf//1f/Tm/3084HJ618cwUS9bIf+RHL/ClX+8F4OSQ6vQYWNY2b0k7ksEn0lkyWUVn8hM0+Z076fdWcP6H/5O/ufRPSVmsi6JEgHS6tlR6chyvPSMJDvdF2dM5slBDG8ci3SWZmAFCIdi1a1YJ3Pbt2+nq6uK8886jvr4el8uVI9UAbN26lZtvvpktW7Zwww035Dz/3ve+lzvuuCPH8boQmNemIfOJV0+OcLQ/xmeBDi1sceD8N+VcBM8fGySeynJhW82sn99YziCeyhg0+TwjHwpx73s+TZerlnvOvJa99Sv5frAdV5knF0mn6+o6H08e7kdRFIQQ9ITVlOyRsdRkb58fmIXUTJwCduzYQSo1fh0fOHBAf2zU0++66y7uuuuuCe+/4YYbuOGGGwq+Z9u2bTz22GOzOt5iWLJMPpbIcKQvQiar0KkZ+f5IroPw6w8dYOf9e3KOJdIZ7t51mET61KJgjElPY6mMrsVHE7lyTSar8F+1mzm//VX+7qG7ebZ5I8++589O6dzzgaGoOpdtdT7iqay+U+kZLSMjrznkvnnuO3j7u/9RPbYIdkkmTMwmlqyRjybTJNJZjg9E6R5RDU9+2d/+SIJjA7mNPZ4+MsiXf7OPxw+eWmaasfrkWDKjG/d8Jv/Y/l5OhpO8uzrJm4++AEC3xX1K554PSLlmVa0PGI+V7x1Vf4+Wg5HXHHL761fwcmgNGafLLKRm4g2HJWnk05ks8ZTq+Hzy8ADprEKV18FgNEk2O+7iHIgkURQ42BPRj/VpxqpzZPqV4DJZhVRGc7imcpl8LC+UUuKHTx+nzu/ksk9/gLrN6wDoHi3/OtrDsSR+l436oAsYj7CRcs3oWJmEiu7cScTpJWOx0huoNln8IoGiKFO/aAliLv7vJWnkYwYDu+uAWvnytKYgmayiywiZrMKgpivv7xn3gEu23z0yfUfJF3/5Ord991kgV5MfS2aIasY9msfkXzwxzKUb6rE3N+J87PdUeR2LwsgPxVJUehxUe9XIpT4tVl4y+bKQawBCISItywHovPm2BWPxv3utmycOzX/dksUIl8vFwMDAG87Qy3ryLpdrVj93STpeY4ZY9Ce1G+v05iC7DvQxEE1Q6XUwFFNZPMABg5GXTL5rePqG9mBvmMN96q5gLJnBahFksorK5BO5oZSgfqmRRJoK93gXmIaAi54Z7CLmG0OxJJUeO7V+Ne5XMvnecnK8aoiGmqFvjO53vHvBxvCNhw9S53dywerZd/IvNTQ3N9PR0cEbqTS5hOwMNZtYkkY+YjCkkjmf1qwWE+qPJFldl6vP7++eyOQ7Z8Dkh6IpXaYYS2Wo9NjpjyQZHUuR1GQcoyYvwyt9rvGvoSHoWhRMfjiWosrroEpj8jLrtUdq8vHyMfKRrBrX3CWcCzaGRCqzNBvIzAHsdvusdkZ6o2NpyjWaNNJUoTowKz12Wqs8gKrDG383VbhzmLw08l0zYNPDsSRjqQzJdFYz8loSVnQ8qsdo5OVi5HOOG/n6gEuPUClnSCZvt1qo8Nj1eZNjjyUzun9ioSGd3p0z2J3NFhLpLIl0ecyHiTcWlqSRl+GKp7cEAWiqdFPtkwZXNUbSKJ23qpqukTgjekVF1SB3jcSnrQnKiJPReIp4MqOz3AHDriFqcLxG4upjr8PA5AMu+iPJUw7hnGsMx1JUaItYtdfBQDTBWDJDOJ6mIaBqiuUi2YS1ee6awe5sthBPZZaekTeTzRYFlqiRV2/qzZpE0xh0U+lxIMR4rLxk8hesrgbgQK/K5vsjCawWQTKdZTBaeuGteCqjR9SMjqUYS40beXlOt92a4y/QmXyOXKNKCtKBOW+Yxg2bTGeJJNL6TqXG56Q/nNT1+LZ6NayyHMIo05lxBj2T3dlsIZHOklhqcs0ClfGeEd7AC9LSNPIaWz5dM/JNlW6sFkGVx6Gz6oFoAptFsG1ZFaDq8ulMlsFYkrY61UhNxygYC3aNTDDy6jlr/c6cEMpoEbkGKF2yma2Ldxo37PCYumhVelWH8cpaH3u7RvWGKG11fmD+mXw2q/C3D7zGod5x+c1YEM5k8rMMLdnsWEWILFo9l3JNNltMC9IsY0kaeal7L6/x8P4LVnDt6Y0AVPscusEdiCSp8jpornTjc9o40BNmUIu42dysyjydw2M8+Fo3X/rN3inPKQt2AQyPpYinsuOavMbka3wOYsmMLgMV0uQbtLjzkp2vs3Xxajds0mLjeIUWZmi10vfnn9GlLAm5oEm55sLVNYQTaR5+Xe0AKZn8fBv5/miC7z15jIf3jneiDCfUMYSCLnrDiQXxE6QzWdJZZek5XkMhut9/B2/+4N1869wb562M94ygXd9HKxv5i6s+SdzmKN8FaZaxJI28ZMhep43PX7uBra2VAFR7nbrB7Y8kqfY5EUKwpt7Hvu6wrsfLSJyukTjf2nWY/9h1hJdODE16TqORl2GYPpcNh9WSw+TTWUWPtIkYxikRCqjO4u68XYSiKPzN/Xt48nBerLV28Q64A3T6tfC8mVy8Wnbo98++nsvf/00i3gC873188Lcn+PwDuaUfZEmDSo/K5M9bpUpeD7x8EoA1Uq6JGxKi5mG7HNcqf0bixt2SalhX1/lQlGnskGYR8vteckweOHLbh8larNx97o0MeYPlazS16/sPq8/ivtMuZVfb2RMWpBMDMe74wQu8Vg7F9WYRS9TIqze20aEJKpOXkS79kQQ1mjN2bUOAAz1h+jRjvLbej8Nq4fXOUXa3q8167951eNJzGuUaGefutltxO6z6OWVMudTlCzH5gNuGy26ZYIyOD8S456njPJRfwjcUIvK+D/COd/8jt930dzlsajiW5E9/8Hzphm3nTl5oXEfC7qS9MoTyuc9xsCesV/GUkA5muVOp8jrY2BigP5LEYbPQUqlGMuUw+XnYLkufSNgQvinnWEpI+YvnfEBmXy85Jg+0C3XnGXZ6+dZ7d5Yni5fYuZMhTwCAh1afk7MgPXGon2v/7XF++1o3Tx4aWKgRzgmWpJGPJdO47Basltxi/jU+57hcE03o2Zpr630Mx1K83jkKQJ3fSX3QyS9f6URRYHtbDQ++3qMnOhWCkcnL1H633YrbbtWfq/WpN4TMyI0WcLwKIWgIuCb4A57QGHy+BKIoCp8761aOVDVxsGYZvf7x1P1dB/r43Ws9pdfhCYXYs+p0ANrffitDgWqiyQzDeeeUi2GNbzzu/EItyac+4CSgJXflOF61HcdJfy1dfpX5z/Z2edzIGyKYpJHXdhfGchWvdoyQngf5RkZKpbPKvJxvPtExNIZVwPV9r3OPe5W+iy1LhEIMbT0HgEfWXUC6tg5QfTl/9uOXqPU7sYjyiQqbLSxJIx9JpCeweFBD/cLxNIl0hgFNrgFY06CyPCmF1PidhIJuokk1oelrN52Ow2rhO48fzfm8bFbhheOqjCOZvNUi9IQgl0Nl8jISs8avLioy6zWiMXqP3ZrzuTJWfiCS0BcWmRKfXxPmN3u6+cX+Id6S6gLg6Xd9RGdTL51QdyHtQ7FSpo2RWIp2i8rC2694K+2DMe1/y40y6h4Zw2oR+s4E0DM56/0uXHYrTpsl18hr2+VPXXcnt9z6JVIu96zrt7LyZzgx0bmtO9M153D7YIxr/+1xfvVq16ydvxgkk4dx6WapoH0wRkPQzQe/8CESGWWinFhmGNqkyoNDFod+7x4biDIYTfLB7SsIuO2mkV8MiCUzOTq3hDTq7YMxYsmMHju/tl418s8dG8Rlt+B1WGnUHKAXramlzu9ie1sNzx7N7VX+6P5ebvjWk7zWOcJQNInbbqXS49DlEcnkJSTzlVm4kXgan9OGJW/H0RB0cbQ/ynX/9gTX/evj9IbjPHlY3ULmZ5L+8WAflR47//ypt+BPJ3j67Mv056Qf4cRgaUbeqEW2p2364jAcS+XkDHSNxKn3O3N2Smctr8JhtVAXUP/HYKGbZedOjlQ2cryykXtPu2wCi48m0rzaMXM9NF5IrtFYfX3Ahd9p03dIck4O9xbfnc0WjDkPRoO/FNA+NEZLlZv1oQA+p43njqn3yA+fPq437SknDClW2up8OKwWXfp8RbvmNjdXFL5u87HIwjGXpJGPJtJ4HNYJx2XUzP27OwGo8aoGqdrnpMbnIJ7KUqM5Y0NatuzFa2sBWFPv51h/lKTBeXa0PwqoVSzVgl12Am5brpHXxuGwWQhqMoZk8tFEGq9z4jhlQpTMoP34j19iOJbCbhUTYs8P90ZZXefD0dzEto3NPNOtMtV4KsNrmvzUXrKRV19fH3DSMRSjQ9Pi01klp1REz2hcjwKScDusfOH6jbz3fDUdvdDNEq+po9+rOsH/5eL3MFZVm/P89586ztu/9UROLf7pQMo1xrHKx36XjVCFS+8tIH+3D819WKXRsJd7ktt00T4Yo6XSg9UiOKO1guePDaEoCt967LB+n5UThmJJWqo8nL+6mgdf70FRFF7uGMZlt9BW5yvNyC+ycMylaeST6YJMfmNjgGXVHn787AkAnckDrNUkG8m2NzYG8DttXNQ2buTTWUU37DAeR39sIMpwLEmFx0HAZdd1SbfDojN5r8OqS0gyxDNSZJxrG/y47Bb+321n8Y4zW3j6iMqOLlhdM9HI90X0mu7nrKzmcF+UvnCC1zpHSGcVqr2Okpn8ns4RGoMuTmsK0jE0lrM4GB3LXSNxQsGJNe9vObuVs1eoeQcBt33CrkPG0d/as5tei4vvP3Us5/kTg1FSGWXGuq4u18QnyjVep42mCre+cMnvrtQF8FSQSE3B5GeLGc4zw4ynMvSGE7RoJUO2Latif0+YZ44OcnJ4rKzqF0kMRVNUeOxcubGBE4MxXusc5ZWOETY1BrFZLaUZ+Z07GfQEueFdX2Fv7XL1WBmHYy5NI58oLNcIIbj6tJCegVptcByu0SQbqTNffVqI53deqr9GOu6MdW5kpMax/qhay8VrJ+i2I0vWuwxM3uOw6Y9lslYknsZfYJxv39rMSzsv57xV1Xzi0jYcNgtr6/2srPHlXIDDsSQD0SQra70AnLtSdWg+c3RA1+OvOi1Ez2iipMiOPSdH2NgUpLnSQ/tgLIflSuexoih0j0xk8vkodLPIKJ23ff7DnL+qmu8/dZxMNlcGgnHH7nRRzPHqsFmwWy20Vqn/l6Io+rk6SmHyp2g84+kpmPxsMcN5Zphy0W6uVBf8bcsrURT4ym/3AeVVv0hCrbnk4IqNDdgsgvt3n+S1zhFO03b5Abd96kztUIif3faXvNC8gYdXn1Pe+QEsUSMfS6bxFpBrAK7eHNIfy+gaGNflJZMXQuC0jX/GqlofFgEHDUZeVqo8NhDTa7kEDGWDjZq812nVpRnJ5FW5pnAhULkgNFa4+eebt7Dzmg0E3XaiyYweoXG4L6qPDWBTYwCvw8q9z7Xz9JEBmircnLlMlUc6pnC+RhNpjvRH2dQYpKXKQzSZYc/JEeq0RW9Yr8uTJpbMEJqBkZcGtanSzbvPXcbJ4TEe2z+euCQXzZkyebmQRfKMvFxIW6o8hBNphmMpPfu1JxyfWkI5ReNpZPKJQkxeizz61jk38NkrPqYemwkz1D6n3xPk9yu3zfxzSoTcBUkmv6WlAqtF8KJGMGCKSJUF2HnEtJpSlV4HF6yu4YdPnyCeyurZ8QFXaY7X+5rPBGBP/aqyZvFQgpEXQrQIIR4VQuwVQrwmhPiEdrxKCPGQEOKg9rty7odbGqKJDJ4C0TUAG0IBVtaozNco18gIm1qfo+D7XHYry6u9HDB0kZI1548NRPWqjEG3Lec90sh7HDZ9TFE9uqa4kTfiLaeFuLCthoD22ZKpHtEib6SRt1kt3HnFWh4/1M/De3s5o7VCvwGnkmz2dY+iKKpM1aIxs8FoktOaVIYjmbw0xFMx+YDLNiFTtmMohs0iqPc7uWxDPXV+Jz94+rj+/CkzeW3xTGayusE3LqSthrnoGo4jBCgKE/IAJkAznhGHm1+vvUA9No0b28jkC+6otMijR1efzb2bL2MwUD0zZhgKMfT+D3HrO7/E7Td+Xk9omyuGKXd6Mi/C67SxIaTGoa/Xfk/Kiudo5/F//3CEz/3i1QnHxzO1VSJ29eaQvvuT/jpJToyBBicGYjlBF693jrK3fwyXkmFPw6qyZvFQGpNPA3+hKMp64Fzgo0KIDcBngEcURWkDHtH+LgtEk2l8BRyaoDL0d57TSludL2chWNfgV/VobUUvhLZ6n17ILJ3J0huO43PaGI6l9E5JAVcek3eMM3npDJbGyMgyS4F03Eqmcbgvit0q9O0ywPsuWMF3bttGjc/B5Rsbxg3bwORGXhrY5iq3vjAA+jZ8Jx2jAAAgAElEQVRWnlMy4FKYfDiRzmm3eHJ4jFCFC5tVlU9uObuVXQf6ODEQYyyZ0c8xY03eYEDlQhhJpPVks9bqcSPfOTLG+gbVEE3pfNWM8JfffDsfeetnOVbbOq0bO4fJF8t63bmTXl8VWYuV3686a0bMMJ7K8N7Vb+VgdSuKsDA8xxmoHYMxNaLKEEord443nqk2vpiUFWuL576aZbzYuFY9Ngus+JmjAzy2f2LDEUlUqrQkvis2NGC3CvwuG8urVeIXdNtJZ5WckuDfePgAf/KdZ/Qcm/te7MBhtfDebY2cDNYzdOdnT2m8c40pjbyiKF2KoryoPQ4De4Em4HrgHu1l9wBvnatBThexRAbPJMbz9gtX8OCnLso55nHYePKzO7hsQ33R98kIm3gqQ084QVaBczRHIzBRrnHkavJ2qwWH1aKHUE4m1xSCXECkQ+twX4Tl1V5s1tyv8c3r6nnurku57vRGanwO3HYrJwYnN2TGLFbjorGpUWPyUfV5yeRlIbWiY3XbUZTcmPWOoTGaK8YXkHec2YyiwCP7enJq9Ugj/+f37uYbDx+Y9DxGGI18JDHRyEvGubdrlHA8rTuJO4Zi3L/7JNf+6+M5i5IRx//s0/z3pkvV11c2TMsQTcnkAUIheoOqk/+hS26cETP8w4E+Xu6JcXVKjWoZuemdc8owO4bGaKp054QAf+iilXz1HaezpSWXHBREKET2fe/jgzfu5KZ3/gOPtZ0zK6w4kc7m+GUkpJGXNZeCHjvXnd7Epevr9f9BEimj07h7NE4ineWeJ48xFE3y85dOsmN9HRduWQ7Aa+nZbdc325iWJi+EWA6cATwD1CuK0gXqQgDUFXnPh4QQzwshnp+Pdl7JdJZkJltUk9fGhBCi6PPFsKbeT1aBI31RvQesrNsCaHLNuJF32nKjawA8TqteiTKSSOdku06FQB6TP9IX0Z2u+ZD/nxCC1irPlHLNcFTeAHb8Lru+pV1e48XvtOk3SNeIKnPU+ac28pC7Xe8YitFkWECaK91UeOwc6InkVIjsCydQFIWH9vbw4Gt5ZRwmQTyHyavnjRjCVL1OGzU+h7713tJSgd0qaB8c40fPnODVkyP0RwvvIr7+8hBZi/o5nVe+dVqGqBQmH0mkiQkbjmyaP7gbZ1QCQfo8rrlelZRG3vP+aX/GdNA+FMshBKD6kG48s9lgLCdv6L7rTz5Oe7CBQCLKHdd+mts23cKWLzw4sXzHNBBPZYgk0hP6QUiiIqunAnztptP5p5u36H/n75ZhnHR8/6njfOLe3UTiaT56yWo2Nqo7wT1lXuumZCMvhPAB9wGfVBRltNT3KYrybUVRtimKsq22tnbqN5wipAGdDkMuFTIC52BvWO8ydPaKKuR6YZRr3HYrQghdopE7C6/DRjSRIZHOkMooOXVrpoJ+44ylSWWyHB+I6Xr8ZGip8kzpeB2KpfA4rLqzWbLe5ko3Fd5xZ1T3SJwanxOHbfJLJ/9mSaTVcDujURBCsKbOz8GesL5DaKly0x9JMBxLEY6nOdwXyYnAmQzG+HrpfI0mMvgMElpLlYeXO1THYGOFm6YKN6+eHOZ5LYmnUG2b9sEY9+/u5PYz6xGKQuclV5Q0HolECUy+V9vJXH3mMsbS2Rk1/T45PIbbbmXZak0qcfmn/RmlQlEUTgzGcqQ9I+R9MJUT80cHwtRk4/z6nk+w3JKgPZohlc7ym1PIRI6nsnpvZSPy5ZpC0K9bgz+pP5Jgc3OQkbEUfzjQx11Xr2dTU5BKr4OmCjd7ThY28ol0hku/vosHX+ue8f8yGyjJyAsh7KgG/keKovxMO9wjhAhpz4eA3mLvn09IKaRQWYNTxYoaLzaL4PWuUZ15Lqv20qjFjFdoyVAwHh3jymPyboeVsVTaUESt+I4jH/KzR+Mp2gdjpLNKSUZeMvnJOl0Na6FlEsuqPdQHnLi0LF6dyY/Gp9TjYbx42Z0/eZlvPnqIk0NjKAo0V+YahbZ6H/t7wrpP4LSmIH3hBMe1nUcinS05zt94U4/maPLjc9xa5SGVUechFHTRUuXhiUMDethroR4C+7QewNec10ZtwEVnuvTvDEpj8r0aW7z29BB+p42fvXhyWucANcGrSdsdwdzWYOkNqwuxLBeRj4L1i/LQPhjjkX293HLOchq2bOC3f3EJv7/zYi5eW8fTRwYKXq9PHxmYsiKsjJbKl2yGorlyTSHkk5NkOstQLMWl6+u57vRGbjmrhfect0x//aamgJ5EmI9DvREO9UbY2xUu+Px8oZToGgF8B9irKMrXDU89ANymPb4NuH/2hzd9yMgVTxHH66nAYbNw5rJKHtvXR+dwHK/DSsBlY3mNargqPQ79IpEyjTG6BlSjHk1kdKZpZJlTwXgByvDJYnKNEcuqPcSSmUlr1A/FkrpxALjz8rV8851b9fPKyITukTG9vd9k2NJSwaevXIvXaeMff7efrz64Hxjvuyuxpt5POJ5md/swQbedlkoPfZEExwfGk86MuQmTYSyV1Ru16HJNPJ2zW5KOaCHUCCG56Pg12awYkwd1V9NY4Z52r9jcOPnJjXxThYf3XrCcX73axZPTZPMnh8dorHDr10l+YbnZxOtdqmGT0TT5KFi/KA8/f0ldyG7dsQF27dIlsHNWVtE5Ei+Yw/D5+/fwtQcn99PIhLNwXjLWUCyF12GddBeab+Rlu9Aan5N/ufUMvnzD5hypd1NjkKP90QnnAtinGXdjo6CFQClM/gLgT4A3CyF2az9XAV8GLhNCHAQu0/5ecBgzHOcCl22oZ39PmGePDhKqcCOE0D3zRrnGZVen1mOIrlH/thFLpg1lhktfjNx2KzaLWtpAslt57skgHYy7CkQcSMjoIInlNV62La/S/69hgyZfCpN32Cx85OLV/PSO8zhvZTW/flXdsuZruFICe+rwAKGgi1q/k2Q6m1PD5kB3aUY+nszokR6RRFrfshuvBSkv1Pqc2K0WWqrU8Vx3eiMOq6Ugk28fiuFxWKnStueyJEKpSKQy+mI/lVxT53fy0UtWs6zaw+d+sWdaZRBODo3RVOHG47Bit4o5ZfKyYuu6IkYemLLY156TI6ys8U5Y+M9Zofq5njqi1muSCVXZrMLxgdiU/5ecs3x/wHAsSaW3OIuHiUZe6vHGYnxGyEx5SbqM2N8jjfzClrIoJbrmcUVRhKIomxVF2aL9/FpRlAFFUXYoitKm/R6c6rPmA7E5lGsALt+gso3Xu0Z1Y7djfR3b22rwu2zjTF7KNY5cJu/RmLzMevU5S2fyQgj9xmkfjOF32nLYdzGsa/DTXOme1Jk1nMfkjaj02BmKpYgm0mqj7gIlDSYb89+/bRMOq1r6OX+BkA1GIok0DZqRB3jhxBD1ASfNlW4OlFhEbCyV0d8fjqcNczyRyctxrNAWySs2NlAfdOoOdSM6hsZoqfQghKCxwkXnyNi0mrwn0ll9p1CMyfeFEzisFio8dlx2K1+4fhNH+qPc90Jpss1YMsNANElzpUo8SkrPPwXs7RqludKdE2iQD+MY0pnshDk71BdhdQG5p63OR5XXwTNHBvnmo4c484sPEUmk6Q0ntMiZyf+vcSafa+QH8yTJQvC7bAgxLjNNZeRlIEFXgYVfynzRRcDkyw6pTLZoqJtkyIUKlM0GWqs9enas1OLfvK6eH9x+DhaL0G/mfLlGGhqP08ZYalyuKVSgbDIE3XZG42nd6VVKlJAQgss21PPHQ/36Ticf+Uw+55weB6PxFMe1WPvGiumFjK2q9fGZt6zjyk0NE8I9q31OPfM4FHRRq2Uc7zk5wrJqL2vq/TlZxpNhLJXB71KbroTjqXFJrKCRV7+7SzfU853btrG9rYZQwF2YyQ/GdMYfCrqJp7J6yGkpiKcyuB2qfFGsmXdvOEGt36l/nxe11eC2WyftYWCEzL6W381cl8x9vWtUT3gqhqBWvyidyXL+l3/Pj59t159LptXAgUJG3mIRnL28igdf7+ZrD+5nNJ5mf3dYl/AKhUcaMa7JT5RrpmLyFovA77Tpc2fs6lYIchciSzxksop+/n2apDXTgnuzhUVp5K/8xh/498cOFXwuVoC9zTYu36jG0ocKGDubVS1VLB2u0nBKlqxq8umCXaFKQcBl0+Wa1iKRDYVw2YZ6kuksfzw4UbLJZBVG4ym9nV8+Kj1qzLvcCZzRMv3k5vdfuELX+PMh6wI1BNzUaDdTKqOwrMpDW72PI33RkpptjCUzuOxW/C47kUS6oHRXH3DhcVhZpiVG2a0WdqyvV5u1BF0T/BaKoqjx/Zp236jd1IUkm1hyYtgeqOzdabOoRr6oJh/PMSTFxpM2ZPMaIbN2m7Q8hKDbPiHjeLYQS6Y52h8tqsdLBFyqsewaidMbTrC7fdxhemwgSiar6B278nHuyirC8bReZuRAT1gnGZMZeUVRijL5oWiy6DVuRNBjnyDXVBdZHIJuO267VScHf/2zV7npP55mKJrU/SxR08hPD4qicGwgxjOGNGNj4oKMWpkLx6vEFRtVyUYainzILx5Uze7HHzxXr2bp01iCdIpNJ04eVIY2rMk1rUXOXwhnL68i6LbzYAHJRk3jLh51IBeqX77SSUuVe1rnLQVSlzcyeVDnd02dn2QmyzNHB/nKb/dNyk7jmvbtd9oYjRsWUsMcWy2C//nT87jjTasmvD8UVDtyGQ31cCxFJJHWfQlNRYz8aDzFWX//MA+8PLG8bjylLj5Ou7Woxt47mqA+kMsW6wNOvZWkxNcfOsBV//LHCe+XTFLKBxVzyOT3d4dRFEpi8iNjKb0vgTFK6pAmwRVi8gCXbWzgzGWV/Of7zsJtt6pGflBl8skiC518TiKSb+RLkGuM4wbVyAdcNp205UOX8LT5390+zMvtw/xQK9dhswi9tPhCYdEZ+URajYE9qNWQefboIGd84SF9S6+ztznS5AE2NQX56R3ncfVpjQWff9vWJi41ZM6et6paz6g7o7WSRDrLE1pLvuk6iANuO0d6IyTS2aIxyoVgs1rYsb6O3+3p1p1mEjI80pgkYkRQYz8HeyN6m7/ZhDTyDUEXQbcdu1Wdq1ZNrgG47bvP8u+PHeaRvcX9CmPSyLtsROLFd0syxjkfDUGXHjInIQ2UnGsph+Qb+Y7BMaLJTEG/h2TyLrulaNOQ3nBiQoJZQ2Aik//Vq10c649OkCs7h9VuXfX+SZq2zBJkSKBMBiqGoNvO6FiajkHZjWt8zqSRLxYd1lTh5r4Pn8/GxiBt9T4O9kR0Jg8Tm+dIGOfXKNekMmoW7LSNfCRRVKqRaNSc8dmswlFNUvqmpjRsbAyUv+O13CBv3O7ROCNjKZ441E8mq/DcMXUrGE1mEIKcjkxzgW3Lq4qGYv3lFeu4aVtLwecubKvBahE8qlVfnO5iFHDZ9VIB05FrQA2LDLjtvOe7z3LMUBd/ODZ5/LDxxrhgDoz8JevqeNOaWk5vrsBiEfoWfXm1h9V1Plx2i15Gob9I8TJFUSNp3A4rPpeNcDw17QVfhoYas2878opwVXkdOG2WnF6xgN4o5pmjgxMkm3gqg9OmJpoVYvLxlFq3py7PmDQE3fSMxnWDfrQ/yvGBGFll3MgNRZOkMllODqmhrdLnMZdG/vWuEfxO24RIqXzIngKSwXeOjOlNdw72RmiudBctJGhEW52fAz3hnJ1AMckmUSBXAsaLkxUjMkYY564/nMzpZVwIjUE3nSNx/f+TDYgqPXZaq72LIoSyrBBLjH+Jh3rDvKplm8nU4lgijcdundBSr1wQdNvZ2lpBIp3F47BOaDZeyvslpmvkGyvc/OD2c8hks9z5k5f143q6dxEjX2E45/mrZt/IN1W4uef9Z+s7BnlTLavy4nZY+dXHt/PbT27HabPovQDykUhnURQ1PtvvtBOOp3VD4C9REpOVNY2x8nqMvOZ4Vbfnbl0ekZBGvi+c4Eh/bjhdIp3FZS/O5KXuW5cn1zQEnKQyCoPaImwsyyx3G9d983E+ee9uOobHchzi0lleLEBhpkikM/zxYD8bGgNTOv2DWv2ifd3qzlFRxmWlQ72FI2sKYU29j95wgv3dYb0tZ1EjnzYy+fHX6LvVkpm8+t5SmXyfNj6AT122BoB1DQF8TqvJ5KcLY2u3/d0RXtFS1F/TjH00mZ60OFk54OK1apmfmcTyy6xXISYmFpWC1XU+PrB9Jc8fH9JLHYzfAMUcr+qNsSEU0JON5hK1fidBt103+qtqffhddmp8zqIVKmWddl2uSaT1BSFQYsKZjLgxRti0D8UIuu05n9FY4ZoQMiebtwM8cyQ3mngqJi8ddBPkmrxFx1hZcSiWJJ3J0j44xq9e6WL3ieGc60Ea2LDHX1K99l++0skPnjo2cVLy8O1dRzg+EOPDF0/0aeRDZr3uOTmq542cGIyRySoc6YuwuoRsbRiX8xLpLJu00tfFwigL1S8C9MQy+VlTjXtUKzfcFy7FyKvfk+zDfNn6eu540ypuObsFt91mGvnpwhhzuutAL/2RJEG3nb3dYVKZLN0j8Uljd8sBsm/sdMoMS8j/rTHonrJ+TDFcozVO+Y2WoDS+lS1swP0uG36njUvWzX3tIYAbtjbzoYtWTjhe6y9u5GVJg3G5Js0Th/rVvp0lRFTIz7dahM7KQdWRZfikRGPQzYnBsZyaOt2jcaq9Dmr9Tp45OpDz+kQ6i3NSJh/Xz2+ElKh6RuOMJTM8dWSAra1qKezhWFJn+KA6HI3F3/SknkAV/Z4gHQHtuytSr/27jx/lS7/ZN2lhtGP9Uf710UNcfVpIJyqTQS6M3aNxztIS69oHY3QMxUiks3pU1VSQvR4Ag5GfHpO/78WTbAgF9OSlyRB020lmVN9MJJGeUq6Ri+sTh/rxOqzU+p185i3ruH5LE16nlWiRqKv5wuIz8hqTt1kEv9+nbl/fvrWJZDrL7vZhnjg8wPa22ZcUZhMbQgHq/M6ZMXntxsk3PNPBsmovpzUF+eUraiTIUCyJTYsPLgSLRfDrT2znz97cNuNzTgdXbw7x0UtWTzhekpE3hFA+e3RQX1BLgdUiqPM7c5h8x1BM1+MlLlpTS38kwb/9fjyMt3c0Tn3AxTkrqibUXYmnspMy+aJyjWTyo3GePjpAMp3lbWc0AarENqDtVN57/nKEIKeOkV7awB3gfTf+LRd++D+5+IPf5oWm9QXLJJ8YjBFLZnjq8MCE5yS+9+QxLAI+f+2Goq8xwki2trZW4rBZaB+M6UETpco1jUGX7jw/zcDkE+kMd/7k5Zw+vXKRslsF4YRKXg70qLLuDVqN+1LHLXMUpmLyIc3I7+sOs6LWmyNjuR1WFGWSPgLzgEVo5NUvcUNjgFRGwW4VvONM1cn5jYcPkExnuWZz4aiXcoEQgr+8Yi3vPrd12u+VF+B09fh8XL05xMsdI7QPxhiKqc2NJ9NYW6o8RcPI5gu1fmdRx6tMOHHZ1XpCoLLbUhinEQ1Bly6PjMZTWox87oJ6zeYQbz+jiX9+5IBuFLtH49QHnJy7spqe0UROJEgincFl1+Lk85j8WDLDL3Z34nFYqfbmGpNanxOLUOWap48MYLcKLtfCd4diSQa1gltXbmpg152XcN3p49e9zMvovf5GXq9fyQXHdjPi9vGdt31sQplko7RVKMRWomtkjNYqz5S9BCTy/UctlW5ODMb4w8E+XHbLlCGYEkIIfUHYoEX0hONpDvZE+OkLHTkRV9KY1vqcegjlfS92YLMIrt9Sml2Q45YRQFMaeUMW94qa3IXLm9cNbiGwCI28OllntKjb1rUNftY2+PE4rDxxaIDGoEt/rpzxjm0t3HzW9I18YLaM/GmqZPOrV7u0kgZzr7WfKmp9TgZjyYLNoXPkGud4CYlty6eXuLWyxsezxwb5n+fa+cA9z5PJKnpehIQQgi++dRMtVR6+8ju1aXXPaIKGoIt1mhxw3MAuExqTd9mtxA1MPpXJ8pEfvcCLJ4b4yo2bJzjhbVYLtX4n3SNxXjg2xGlNQd3wD8dS+oJX43PQWu3JySaWhuq57deQsVh51+7fsOPoCzzpb55QullmkvqdNh7e21PUWTsYTU7LJxNw59YMaqnycLQ/yq9f7ebN6+pKiqyROKO1gpU1Xl06GY2n9TaRxp2XZPI1fifhuNqZ7BcvneTitbVTyi4SUn75j12HAXJyNwrBZbdSo7UNXVGTGxIqM+8XUpdffEZe0+S3aNrk5ma1ebDMvrvqtFDZRtbMBhqDLmwWoTOamaKlysPpLRX88pVOvT9tuaPG70RR0BmsEfE8uQbUSCBjM/ZS8NdXreOMlgo+fd8rPHdskK/fvEUv1GaE12nj0vX1vN45SjyVYSCqxrlLIzioVS/MZhWSmWxBJv/I3h4e3d/H3123sejusyHg4sRgjFdOjrBteRUWi6BCK/0s5yF/BwDjRv7pHtUAru87xoUrKhmOZ3i9c5T93WFu/95zRBJpvTXkree00hdOsLtjeMLnAQxEklSXaCiNYwBVXmyt8rCvO0x/JFE0x6QY/urKddz34fOxWgQ+pxoiK2UuYzirkcmH42m6R+P0jCamtaPb0lLB565er4dsTsXkYdxpv3KCkVcXMtPITwOSyZ+lxamfr3Vmkg6ZqzWn4lJFXcDF03+9g0umKUMUwjWnhdhzcpR93eFFw+ShcA9YKde47VY9w3U6erxEtc/JDz9wDp+8tI1v3LwlRwLJx/pQgEQ6y3PHBlEUVeoZN/KyWYpqdHQmb3BsysqFN2wtrhXXB1y8cHyIZDqr90+t8KilnwciSawWUTDQQB579eQIHruFZZtWcf7H3wPA44f6+dqD+3lkXy/PHh3Qdx3vOW8ZVovg4SKSzUA0Sc00mLzPacMiVH283u/Sd59uu3XaTnyX3aoHBvg1x7q8DoxF5XQm73OSzGT18M1SSnJLCCH4wPaV/PB29TrIz18oBBlhM4HJa5n3C1mkrLxjDQsgkshozas9PPPZHbr2eOvZrQTcdrYsAqnmVFHqtnMqXLU5xP/59V6GY8Xr1pQTJKPqK6DLj8s1FrbVVnL7hSu4rkQNNh92q4VPXrpmytfJ3eOj+9TQxvqAk4DLjtUi9AYV0tGqM3mDA65jaIwqr2NSB3xD0EVak0+2aUZeNnEJRG1UehwFd66ynnsinWV9YxDLrl3UAWvrj/KT59v1zMyXTgzTH0lQ5XXQXOlhVa23YFG0VCbLyFiKqgK7hmKQVVMr3HYsFqFnDe9YPz2pJh9+Vx6THzbKNer81vjVBeHldjW0emVNaU5eI85fXcP5JSb/yZpGy/ONvObHWsgiZYvOyMeS482vjSF/Ups3UTqaKtxsba3gxRPDJSWJLDQkoyrI5FPjjlev08bOa0qLADkVrK7zYbcKPUmpzu/CYhFUeux6eKORyUujqygKQggtcmfyKCnp5FxZ49WlkkqPnY6hMXxOW9HCWaCy+d5wgvWh8fvigtU1fPeJo3oW8Usnhskqil6HqVgugly0qn3Tu06Cbrtu3Nc3BLBZBDeWGOVSDH6Xmuxms6jj7BmNk8kqWC1CX1QlEXqlYxi33TqhLtBs45azWmkMTiy9LG2V6XidBiKJ9JzWpXmj4WpNC14Mck3NJHKNUZOfLzhsFlbX+fUMVxnyWOlx6EYxnjIweW1s0vC3D8ZonsKBLkstSKkG1O9qOJZiIJqc1OjKXe6GUFA/dmGbKm/etK2F7W017G4f5lh/lGWymYrfWXCnJKNvJltUCuEvr1jLRy5Ww2Fbqz3s/pvLpx3xlA+/y8ZoPEWvll+Qziq6E1oyebnre6VjhBU13pJKcp8K1jb4+WCB3A7peM3vNzufWHRGPppIT7sGu4niuGZzCJ/TVnLM8kJCRs5MqsnPUR+BYpCSjd0q9AbRlV4HA9HCTF4ey2QVTg6PTYjBz4cMzzvL4PxVm7iojtfJHKGSVRqZ/IWra/n4jjY+vqONM1oqiSTSdI7EadWap9T6nPSHkxOSd2QbvOk4XgGu2dzIeZrfDGanBHhAY/J94YT+ebJgXD6TH4gmWTENPX624dFDKE25pmTEkpk5a+33RkR9wMWLOy+bcfbsfCM/Vv7rDx0gEk/r4XquaUbTnCqkAZVSDUCVx6Hr2pLJq1UoNSafyhBLpklllCmT2rYtr+LOy9fkBBRUeBwk0lk6h8d405riDsyg245FqDVUJBw2C3+u1VY5o3Xcf2Vk8mOpDNFkJscgD85QrpkLSMdrIpVhc3MFTx0Z0HMb4qksDpslpwxFfsTLfEI6XheySNniuLMNMOWa2cdiMfCgMk3J5DNZhe8/dYyfv9TBWDKD02aZ9/BZGcpqzFat8jn0ekCSyUtHqDwmy+42T8HkHTYLH3tzWw6xkf6TRDo7qXyyPhTgrOVVRXc3K2q8OtuXzehri/g9ZirXzAX8LnUnE01m2NyiSlEyjDKRVq8DY1G6/IiX+YR0vC5kCOWis5axRKakkCYTSxO1fid7tbC43e3Det2do/3ReZdqYFyuqTcUF6vyOBiKqRUgdSZvH2fy8VRGT8WfyvFaCMZIqKpJmPVfXL520popQgjOaK3gsf19tFaphlDKHP2RRI5xHIwmsFlEycXe5hJ+lw35b62p8+OyW/SCcfFUVst6Hh/nQhp5m9WCw2YxQying0gibco1b2DU+Bw6y9xlKL374onheXW6SlR4HGxbVpnjGK30OshkFU1S0Jh8nibfPhRTK4nOwMgbneSFEqGMmMrheNmGerqG43rGZjEmPxBJUuktHK453wgYWHpdwEljcLw3r2TyvjJh8qA6X2OmJl86oklTrnkjo1ZLV4+nMjx2oI91DX49i3KhtNeffji3qmOV1phiIJrQyxg4c6JrMrQPjlHvd007IxdyG1/UnKJG/q5zlvGuc5bpfxc18tFkWUg1gJ7RDOp4G4IuvZF5QmPyVovA61BbLi505JjXsbDlhhePGKshljAdr29k1GkhhT98+vrd61MAAAsCSURBVDivdIxwzeaQnkm50AXUJGTC0FAsmcPkXRqTj6eyaoz8DCuJGnMaZru+f6XHgdUiCjD5xKwl4Z0qjHp7rc9JKOjWHa+Syauvsy+o01XC47CajtdSkUxnSWay+MwQyjcsrtykNnj++1/tBdQGLDLCZSE0+UKQoZSD0VRRJq9Wt5xZkbkKgyY/3ZDGqWC1CKq8jgnVPqdbnGwuIZm8zSKo9DhorHDRMxonncnqmjyovZUvWXfq5T9OFaqRN+WakqD37DSZ/BsWAZed//rgOfz9L/dysDfMhlCADaEgv3utZ0E0+UKQcspQNI/Ja92RwvE0XSNjM3K6ghpz73FYSWWyOfr0bKG2QNarWpysXIy8+j/X+JxYLIJQ0E1WUTtsqV241Hn+p5u3LOQwdXgctgVl8lNeIUKI7wLXAL2KomzSjlUB9wLLgWPATYqiDM3dMFVID7Wpyb+x4bRZ+eJbN+l/yzDG8pFrNCYfS5LVwkCcdouuv+/vDpNVmDLbdTJUehyks9k5yeTMz3pNpDOEE+my0eRluW3pP2gIqr+7R+Mk0ln9+XKBx2Gla2RumqqXglLkmu8BV+Yd+wzwiKIobcAj2t9zDpk1ZjJ5E0aUm1zjcdhw2S0MGpi8mgyl3m4/f+kkFgEXtc28nWKFxz5lZM1Mkd+BazwRqrw0eRlKLX0Fg5Ek8VRGn+dygcdpW9CyBlNaS0VR/iCEWJ53+HrgYu3xPcBjwF/N4rhyEE9l6B6J6028zbIGJoxoqnBT5XXMiXQxU1R5HFrZAQcOmwUhhM7ku0bibG+r0WvdzASXbahnrtqG1vjUrGJZSG2gjBKhAHwOG0KMM/lqvYRBQu2nO89Zz1PB67AuaIGymd4V9YqidAEoitIlhJhT78bnfrGHx/b38U83nw6YTN5ELoQQ/OD2s8sm+gPUWPmhaBKf06ZrxE5DZvGpVmIspRTyTFHrd5LKKIyMpajwjNfhKRdN3mIRXLu5US90Jhef/jJl8m6HdWmXGhZCfAj4EEBr6/Tb3YGanv3TFzo4pnWwMTV5E/nY2Bic+kXziCqvg8FYklq/U/cVSCPvc9q4fEPDZG9fUEiGvL87zK9e7eL1TjXDeK7koZngX249Q3/ssquF6wYiyTJl8jaiybS+M5pvzNRa9gghQhqLDwG9xV6oKMq3gW8DbNu2bUYbTJk6/vyxQWB2KtmZMDGXqPI62NsV5lh/VF+AbFYLPqeNazaHysZ/UAiyA9en7t1NbzhBc6Wbs1dU6Y0xyhHVPjXsM57K4CxDJp9V1EznhQgOmKm1fAC4Dfiy9vv+WRtRAYwbeTWAx2Nq8ibKHJUe1ejYLCKngcn//Ol5tFafWhP2uYZk8p0jcb54/Ub+5LzlCzugElCtxfaXJ5MfL1K2EEZ+yiVPCPFj4ClgrRCiQwhxO6pxv0wIcRC4TPt7zhD02GmqcHNSK0JkMnkT5Q4ZRvmB7StzOpZtaAyU/fVbH3BiswjesqmBd5+7bOo3lAGqfU69fk25afKeBe4OVUp0za1Fntoxy2OZFOtDfk4Oj2G1iBwHlgkT5YiL1tSyvyfMJ3a0LfRQpg2/y84DH7uQlbVz31FptlDjc7DrgEoCy43JL3R3qEVjLaVk43VYF82FZ+KNiy0tFXzznVvLWnufDBsaA2WTXFYKqr1Oknrt/vIya17HwjL58pqNSbBeGvky3+qaMGFi/mEM75zv7mBTwW3Q5BcCi8bIy9R108ibMGEiH8Zs3HKLrqnxOTh3ZZUu28w3Fo3FbKn04HVYTSNvwoSJCagpYya/us7Pf3/ovAU7/6KxmBaLYNvyKrOkgQkTJiagpoyZ/EJj0Rh5gH9/11ZMn6sJEybyYayrs5gcxvOBRWXkTanGhAkThVDhcWARkFUwQ6zzYM6GCRMmFj1kRyswmXw+TCNvwoSJJQFZQM1k8rkwZ8OECRNLAjJW3mTyuTCNvAkTJpYEZKx8uYVQLjRMI2/ChIklARlhY4ZQ5sKcDRMmTCwJbG4OsrLGi8NqmjUjzJhEEyZMLAm8fWszb996am0VlyLMJc+ECRMmljBMI2/ChAkTSximkTdhwoSJJQyhKDPqrT2zkwnRBxyf4dtrgP5ZHM58YTGOezGOGRbnuBfjmMEc93yiBvAqilI7kzfPq5E/FQghnlcUZdtCj2O6WIzjXoxjhsU57sU4ZjDHPZ841TGbco0JEyZMLGGYRt6ECRMmljAWk5H/9kIPYIZYjONejGOGxTnuxThmMMc9nzilMS8aTd6ECRMmTEwfi4nJmzBhwoSJacI08iZMmDCxhLEojLwQ4kohxH4hxCEhxGcWejyFIIRoEUI8KoTYK4R4TQjxCe343wohTgohdms/Vy30WPMhhDgmhHhVG9/z2rEqIcRDQoiD2u/KhR6nhBBirWE+dwshRoUQnyzHuRZCfFcI0SuE2GM4VnRuhRCf1a7z/UKIKxZm1EXH/Y9CiH1CiFeEED8XQlRox5cLIcYM8353GY256DVR5nN9r2HMx4QQu7Xj059rRVHK+gewAoeBlYADeBnYsNDjKjDOELBVe+wHDgAbgL8F7lzo8U0x9mNATd6xrwCf0R5/BviHhR7nJNdHN7CsHOcauAjYCuyZam616+VlwAms0K57axmN+3LApj3+B8O4lxtfV2ZzXfCaKPe5znv+a8DnZzrXi4HJnw0cUhTliKIoSeC/gesXeEwToChKl6IoL2qPw8BeoGlhR3VKuB64R3t8D/DWBRzLZNgBHFYUZaaZ1HMKRVH+AAzmHS42t9cD/60oSkJRlKPAIdTrf95RaNyKojyoKEpa+/NpoKxKPhaZ62Io67mWEEII4CbgxzP9/MVg5JuAdsPfHZS58RRCLAfOAJ7RDn1M2+J+t5xkDwMU4EEhxAtCiA9px+oVRekCdQED6hZsdJPjFnJvgHKfayg+t4vpWn8/8BvD3yuEEC8JIXYJIbYv1KCKoNA1sVjmejvQoyjKQcOxac31YjDyosCxso37FEL4gPuATyqKMgp8C1gFbAG6ULde5YYLFEXZCrwF+KgQ4qKFHlApEEI4gOuAn2iHFsNcT4ZFca0LIe4C0sCPtENdQKuiKGcAfw78lxAisFDjy0Oxa2JRzDVwK7kkZtpzvRiMfAfQYvi7GehcoLFMCiGEHdXA/0hRlJ8BKIrSoyhKRlGULPB/WaAt4WRQFKVT+90L/Bx1jD1CiBCA9rt34UZYFG8BXlQUpQcWx1xrKDa3ZX+tCyFuA64B3qVoIrEmeQxoj19A1bfXLNwoxzHJNbEY5toGvB24Vx6byVwvBiP/HNAmhFihMbdbgAcWeEwToGln3wH2KorydcPxkOFlbwP25L93ISGE8Aoh/PIxqnNtD+oc36a97Dbg/oUZ4aTIYTnlPtcGFJvbB4BbhBBOIcQKoA14dgHGVxBCiCuBvwKuUxQlZjheK4Swao9Xoo77yMKMMheTXBNlPdcaLgX2KYrSIQ/MaK4Xwps8A+/zVajRKoeBuxZ6PEXGeCHqdu8VYLf2cxXwA+BV7fgDQGihx5o37pWoUQYvA6/J+QWqgUeAg9rvqoUea964PcAAEDQcK7u5Rl2EuoAUKnu8fbK5Be7SrvP9wFvKbNyHUHVseX3frb32Bu3aeRl4Ebi2jMZc9Joo57nWjn8PuCPvtdOea7OsgQkTJkwsYSwGucaECRMmTMwQppE3YcKEiSUM08ibMGHCxBKGaeRNmDBhYgnDNPImTJgwsYRhGnkTJkyYWMIwjbwJEyZMLGH8f53ufKXyLb/lAAAAAElFTkSuQmCC\n",
      "text/plain": [
       "<Figure size 432x288 with 2 Axes>"
      ]
     },
     "metadata": {
      "needs_background": "light"
     },
     "output_type": "display_data"
    }
   ],
   "source": [
    "# Peaks detection\n",
    "\n",
    "x = np.array(df['avg_interest'])\n",
    "#peaks, _ = find_peaks(x, distance=20)\n",
    "peaks2, _ = find_peaks(x, prominence=4)      \n",
    "peaks3, _ = find_peaks(x, width=2)\n",
    "#peaks4, _ = find_peaks(x, threshold=2)  \n",
    "\n",
    "# print the peaks\n",
    "print('Peaks are: %s' % (peaks2))\n",
    "\n",
    "# visualize and compare peaks detectors\n",
    "#plt.subplot(2, 1, 1)\n",
    "#plt.plot(peaks, x[peaks], \"xr\"); plt.plot(x); plt.legend(['distance']) # ko\n",
    "plt.subplot(2, 1, 1)\n",
    "plt.plot(peaks2, x[peaks2], \"or\"); plt.plot(x); plt.legend(['prominence']) # BEST !\n",
    "plt.subplot(2, 1, 2)\n",
    "plt.plot(peaks3, x[peaks3], \"vr\"); plt.plot(x); plt.legend(['width'])  # BEST !\n",
    "#plt.subplot(2, 1, 2)\n",
    "#plt.plot(peaks4, x[peaks4], \"or\"); plt.plot(x); plt.legend(['threshold']) # ko\n",
    "\n",
    "plt.show()"
   ]
  },
  {
   "cell_type": "code",
   "execution_count": 93,
   "metadata": {},
   "outputs": [
    {
     "ename": "NameError",
     "evalue": "name 'time_series' is not defined",
     "output_type": "error",
     "traceback": [
      "\u001b[0;31m---------------------------------------------------------------------------\u001b[0m",
      "\u001b[0;31mNameError\u001b[0m                                 Traceback (most recent call last)",
      "\u001b[0;32m<ipython-input-93-83a52622b57a>\u001b[0m in \u001b[0;36m<module>\u001b[0;34m\u001b[0m\n\u001b[1;32m      2\u001b[0m \u001b[0mfig\u001b[0m \u001b[0;34m=\u001b[0m \u001b[0mgo\u001b[0m\u001b[0;34m.\u001b[0m\u001b[0mFigure\u001b[0m\u001b[0;34m(\u001b[0m\u001b[0;34m)\u001b[0m\u001b[0;34m\u001b[0m\u001b[0;34m\u001b[0m\u001b[0m\n\u001b[1;32m      3\u001b[0m fig.add_trace(go.Scatter(\n\u001b[0;32m----> 4\u001b[0;31m     \u001b[0my\u001b[0m\u001b[0;34m=\u001b[0m\u001b[0mtime_series\u001b[0m\u001b[0;34m,\u001b[0m\u001b[0;34m\u001b[0m\u001b[0;34m\u001b[0m\u001b[0m\n\u001b[0m\u001b[1;32m      5\u001b[0m     \u001b[0mmode\u001b[0m\u001b[0;34m=\u001b[0m\u001b[0;34m'lines+markers'\u001b[0m\u001b[0;34m,\u001b[0m\u001b[0;34m\u001b[0m\u001b[0;34m\u001b[0m\u001b[0m\n\u001b[1;32m      6\u001b[0m     \u001b[0mname\u001b[0m\u001b[0;34m=\u001b[0m\u001b[0;34m'Original Plot'\u001b[0m\u001b[0;34m\u001b[0m\u001b[0;34m\u001b[0m\u001b[0m\n",
      "\u001b[0;31mNameError\u001b[0m: name 'time_series' is not defined"
     ]
    }
   ],
   "source": [
    "# Visualize peaks with plotly\n",
    "fig = go.Figure()\n",
    "fig.add_trace(go.Scatter(\n",
    "    y=time_series,\n",
    "    mode='lines+markers',\n",
    "    name='Original Plot'\n",
    "))\n",
    "\n",
    "fig.add_trace(go.Scatter(\n",
    "    x=peaks2,\n",
    "    y=[time_series[j] for j in peaks2],\n",
    "    mode='markers',\n",
    "    marker=dict(size=8, color='red', symbol='circle'),\n",
    "    name='Detected Peaks'\n",
    "))\n",
    "\n",
    "fig.show()"
   ]
  },
  {
   "cell_type": "code",
   "execution_count": 95,
   "metadata": {},
   "outputs": [
    {
     "data": {
      "text/html": [
       "<div>\n",
       "<style scoped>\n",
       "    .dataframe tbody tr th:only-of-type {\n",
       "        vertical-align: middle;\n",
       "    }\n",
       "\n",
       "    .dataframe tbody tr th {\n",
       "        vertical-align: top;\n",
       "    }\n",
       "\n",
       "    .dataframe thead th {\n",
       "        text-align: right;\n",
       "    }\n",
       "</style>\n",
       "<table border=\"1\" class=\"dataframe\">\n",
       "  <thead>\n",
       "    <tr style=\"text-align: right;\">\n",
       "      <th></th>\n",
       "      <th>date</th>\n",
       "      <th>ahorro corriente</th>\n",
       "      <th>ahorro energia</th>\n",
       "      <th>energia solar</th>\n",
       "      <th>placas solares</th>\n",
       "      <th>energia fotovoltaica</th>\n",
       "      <th>energia solar fotovoltaica</th>\n",
       "      <th>placa energia solar</th>\n",
       "      <th>year</th>\n",
       "      <th>month</th>\n",
       "      <th>day</th>\n",
       "      <th>hour</th>\n",
       "      <th>geo_location</th>\n",
       "      <th>min_interest</th>\n",
       "      <th>max_interest</th>\n",
       "      <th>avg_interest</th>\n",
       "      <th>is_peak</th>\n",
       "    </tr>\n",
       "  </thead>\n",
       "  <tbody>\n",
       "    <tr>\n",
       "      <th>9</th>\n",
       "      <td>2021-06-01 09:00:00</td>\n",
       "      <td>4</td>\n",
       "      <td>12</td>\n",
       "      <td>75</td>\n",
       "      <td>65</td>\n",
       "      <td>4</td>\n",
       "      <td>2</td>\n",
       "      <td>36</td>\n",
       "      <td>2021</td>\n",
       "      <td>6</td>\n",
       "      <td>1</td>\n",
       "      <td>9</td>\n",
       "      <td>ES</td>\n",
       "      <td>2</td>\n",
       "      <td>75</td>\n",
       "      <td>28.285714</td>\n",
       "      <td>1</td>\n",
       "    </tr>\n",
       "    <tr>\n",
       "      <th>12</th>\n",
       "      <td>2021-06-01 12:00:00</td>\n",
       "      <td>1</td>\n",
       "      <td>12</td>\n",
       "      <td>76</td>\n",
       "      <td>75</td>\n",
       "      <td>4</td>\n",
       "      <td>3</td>\n",
       "      <td>16</td>\n",
       "      <td>2021</td>\n",
       "      <td>6</td>\n",
       "      <td>1</td>\n",
       "      <td>12</td>\n",
       "      <td>ES</td>\n",
       "      <td>1</td>\n",
       "      <td>76</td>\n",
       "      <td>26.714286</td>\n",
       "      <td>1</td>\n",
       "    </tr>\n",
       "    <tr>\n",
       "      <th>15</th>\n",
       "      <td>2021-06-01 15:00:00</td>\n",
       "      <td>2</td>\n",
       "      <td>12</td>\n",
       "      <td>59</td>\n",
       "      <td>67</td>\n",
       "      <td>4</td>\n",
       "      <td>1</td>\n",
       "      <td>40</td>\n",
       "      <td>2021</td>\n",
       "      <td>6</td>\n",
       "      <td>1</td>\n",
       "      <td>15</td>\n",
       "      <td>ES</td>\n",
       "      <td>1</td>\n",
       "      <td>67</td>\n",
       "      <td>26.428571</td>\n",
       "      <td>1</td>\n",
       "    </tr>\n",
       "    <tr>\n",
       "      <th>23</th>\n",
       "      <td>2021-06-01 23:00:00</td>\n",
       "      <td>3</td>\n",
       "      <td>17</td>\n",
       "      <td>39</td>\n",
       "      <td>59</td>\n",
       "      <td>3</td>\n",
       "      <td>2</td>\n",
       "      <td>57</td>\n",
       "      <td>2021</td>\n",
       "      <td>6</td>\n",
       "      <td>1</td>\n",
       "      <td>23</td>\n",
       "      <td>ES</td>\n",
       "      <td>2</td>\n",
       "      <td>59</td>\n",
       "      <td>25.714286</td>\n",
       "      <td>1</td>\n",
       "    </tr>\n",
       "    <tr>\n",
       "      <th>25</th>\n",
       "      <td>2021-06-02 01:00:00</td>\n",
       "      <td>0</td>\n",
       "      <td>0</td>\n",
       "      <td>57</td>\n",
       "      <td>43</td>\n",
       "      <td>10</td>\n",
       "      <td>7</td>\n",
       "      <td>100</td>\n",
       "      <td>2021</td>\n",
       "      <td>6</td>\n",
       "      <td>2</td>\n",
       "      <td>1</td>\n",
       "      <td>ES</td>\n",
       "      <td>0</td>\n",
       "      <td>100</td>\n",
       "      <td>31.000000</td>\n",
       "      <td>1</td>\n",
       "    </tr>\n",
       "    <tr>\n",
       "      <th>27</th>\n",
       "      <td>2021-06-02 03:00:00</td>\n",
       "      <td>10</td>\n",
       "      <td>0</td>\n",
       "      <td>31</td>\n",
       "      <td>68</td>\n",
       "      <td>6</td>\n",
       "      <td>0</td>\n",
       "      <td>89</td>\n",
       "      <td>2021</td>\n",
       "      <td>6</td>\n",
       "      <td>2</td>\n",
       "      <td>3</td>\n",
       "      <td>ES</td>\n",
       "      <td>0</td>\n",
       "      <td>89</td>\n",
       "      <td>29.142857</td>\n",
       "      <td>1</td>\n",
       "    </tr>\n",
       "    <tr>\n",
       "      <th>31</th>\n",
       "      <td>2021-06-02 07:00:00</td>\n",
       "      <td>2</td>\n",
       "      <td>15</td>\n",
       "      <td>89</td>\n",
       "      <td>69</td>\n",
       "      <td>4</td>\n",
       "      <td>2</td>\n",
       "      <td>9</td>\n",
       "      <td>2021</td>\n",
       "      <td>6</td>\n",
       "      <td>2</td>\n",
       "      <td>7</td>\n",
       "      <td>ES</td>\n",
       "      <td>2</td>\n",
       "      <td>89</td>\n",
       "      <td>27.142857</td>\n",
       "      <td>1</td>\n",
       "    </tr>\n",
       "    <tr>\n",
       "      <th>40</th>\n",
       "      <td>2021-06-02 16:00:00</td>\n",
       "      <td>0</td>\n",
       "      <td>11</td>\n",
       "      <td>66</td>\n",
       "      <td>65</td>\n",
       "      <td>4</td>\n",
       "      <td>2</td>\n",
       "      <td>14</td>\n",
       "      <td>2021</td>\n",
       "      <td>6</td>\n",
       "      <td>2</td>\n",
       "      <td>16</td>\n",
       "      <td>ES</td>\n",
       "      <td>0</td>\n",
       "      <td>66</td>\n",
       "      <td>23.142857</td>\n",
       "      <td>1</td>\n",
       "    </tr>\n",
       "    <tr>\n",
       "      <th>50</th>\n",
       "      <td>2021-06-03 02:00:00</td>\n",
       "      <td>0</td>\n",
       "      <td>14</td>\n",
       "      <td>56</td>\n",
       "      <td>74</td>\n",
       "      <td>12</td>\n",
       "      <td>8</td>\n",
       "      <td>0</td>\n",
       "      <td>2021</td>\n",
       "      <td>6</td>\n",
       "      <td>3</td>\n",
       "      <td>2</td>\n",
       "      <td>ES</td>\n",
       "      <td>0</td>\n",
       "      <td>74</td>\n",
       "      <td>23.428571</td>\n",
       "      <td>1</td>\n",
       "    </tr>\n",
       "    <tr>\n",
       "      <th>52</th>\n",
       "      <td>2021-06-03 04:00:00</td>\n",
       "      <td>0</td>\n",
       "      <td>0</td>\n",
       "      <td>43</td>\n",
       "      <td>73</td>\n",
       "      <td>3</td>\n",
       "      <td>3</td>\n",
       "      <td>42</td>\n",
       "      <td>2021</td>\n",
       "      <td>6</td>\n",
       "      <td>3</td>\n",
       "      <td>4</td>\n",
       "      <td>ES</td>\n",
       "      <td>0</td>\n",
       "      <td>73</td>\n",
       "      <td>23.428571</td>\n",
       "      <td>1</td>\n",
       "    </tr>\n",
       "    <tr>\n",
       "      <th>56</th>\n",
       "      <td>2021-06-03 08:00:00</td>\n",
       "      <td>5</td>\n",
       "      <td>14</td>\n",
       "      <td>80</td>\n",
       "      <td>69</td>\n",
       "      <td>8</td>\n",
       "      <td>4</td>\n",
       "      <td>31</td>\n",
       "      <td>2021</td>\n",
       "      <td>6</td>\n",
       "      <td>3</td>\n",
       "      <td>8</td>\n",
       "      <td>ES</td>\n",
       "      <td>4</td>\n",
       "      <td>80</td>\n",
       "      <td>30.142857</td>\n",
       "      <td>1</td>\n",
       "    </tr>\n",
       "    <tr>\n",
       "      <th>59</th>\n",
       "      <td>2021-06-03 11:00:00</td>\n",
       "      <td>0</td>\n",
       "      <td>15</td>\n",
       "      <td>66</td>\n",
       "      <td>68</td>\n",
       "      <td>4</td>\n",
       "      <td>2</td>\n",
       "      <td>37</td>\n",
       "      <td>2021</td>\n",
       "      <td>6</td>\n",
       "      <td>3</td>\n",
       "      <td>11</td>\n",
       "      <td>ES</td>\n",
       "      <td>0</td>\n",
       "      <td>68</td>\n",
       "      <td>27.428571</td>\n",
       "      <td>1</td>\n",
       "    </tr>\n",
       "    <tr>\n",
       "      <th>63</th>\n",
       "      <td>2021-06-03 15:00:00</td>\n",
       "      <td>4</td>\n",
       "      <td>8</td>\n",
       "      <td>63</td>\n",
       "      <td>70</td>\n",
       "      <td>4</td>\n",
       "      <td>2</td>\n",
       "      <td>7</td>\n",
       "      <td>2021</td>\n",
       "      <td>6</td>\n",
       "      <td>3</td>\n",
       "      <td>15</td>\n",
       "      <td>ES</td>\n",
       "      <td>2</td>\n",
       "      <td>70</td>\n",
       "      <td>22.571429</td>\n",
       "      <td>1</td>\n",
       "    </tr>\n",
       "    <tr>\n",
       "      <th>67</th>\n",
       "      <td>2021-06-03 19:00:00</td>\n",
       "      <td>0</td>\n",
       "      <td>12</td>\n",
       "      <td>44</td>\n",
       "      <td>66</td>\n",
       "      <td>2</td>\n",
       "      <td>1</td>\n",
       "      <td>29</td>\n",
       "      <td>2021</td>\n",
       "      <td>6</td>\n",
       "      <td>3</td>\n",
       "      <td>19</td>\n",
       "      <td>ES</td>\n",
       "      <td>0</td>\n",
       "      <td>66</td>\n",
       "      <td>22.000000</td>\n",
       "      <td>1</td>\n",
       "    </tr>\n",
       "    <tr>\n",
       "      <th>76</th>\n",
       "      <td>2021-06-04 04:00:00</td>\n",
       "      <td>0</td>\n",
       "      <td>5</td>\n",
       "      <td>49</td>\n",
       "      <td>66</td>\n",
       "      <td>5</td>\n",
       "      <td>3</td>\n",
       "      <td>39</td>\n",
       "      <td>2021</td>\n",
       "      <td>6</td>\n",
       "      <td>4</td>\n",
       "      <td>4</td>\n",
       "      <td>ES</td>\n",
       "      <td>0</td>\n",
       "      <td>66</td>\n",
       "      <td>23.857143</td>\n",
       "      <td>1</td>\n",
       "    </tr>\n",
       "    <tr>\n",
       "      <th>79</th>\n",
       "      <td>2021-06-04 07:00:00</td>\n",
       "      <td>2</td>\n",
       "      <td>11</td>\n",
       "      <td>78</td>\n",
       "      <td>59</td>\n",
       "      <td>6</td>\n",
       "      <td>4</td>\n",
       "      <td>26</td>\n",
       "      <td>2021</td>\n",
       "      <td>6</td>\n",
       "      <td>4</td>\n",
       "      <td>7</td>\n",
       "      <td>ES</td>\n",
       "      <td>2</td>\n",
       "      <td>78</td>\n",
       "      <td>26.571429</td>\n",
       "      <td>1</td>\n",
       "    </tr>\n",
       "    <tr>\n",
       "      <th>82</th>\n",
       "      <td>2021-06-04 10:00:00</td>\n",
       "      <td>1</td>\n",
       "      <td>11</td>\n",
       "      <td>53</td>\n",
       "      <td>58</td>\n",
       "      <td>3</td>\n",
       "      <td>2</td>\n",
       "      <td>30</td>\n",
       "      <td>2021</td>\n",
       "      <td>6</td>\n",
       "      <td>4</td>\n",
       "      <td>10</td>\n",
       "      <td>ES</td>\n",
       "      <td>1</td>\n",
       "      <td>58</td>\n",
       "      <td>22.571429</td>\n",
       "      <td>1</td>\n",
       "    </tr>\n",
       "    <tr>\n",
       "      <th>89</th>\n",
       "      <td>2021-06-04 17:00:00</td>\n",
       "      <td>1</td>\n",
       "      <td>9</td>\n",
       "      <td>44</td>\n",
       "      <td>61</td>\n",
       "      <td>2</td>\n",
       "      <td>2</td>\n",
       "      <td>25</td>\n",
       "      <td>2021</td>\n",
       "      <td>6</td>\n",
       "      <td>4</td>\n",
       "      <td>17</td>\n",
       "      <td>ES</td>\n",
       "      <td>1</td>\n",
       "      <td>61</td>\n",
       "      <td>20.571429</td>\n",
       "      <td>1</td>\n",
       "    </tr>\n",
       "    <tr>\n",
       "      <th>93</th>\n",
       "      <td>2021-06-04 21:00:00</td>\n",
       "      <td>1</td>\n",
       "      <td>9</td>\n",
       "      <td>35</td>\n",
       "      <td>43</td>\n",
       "      <td>4</td>\n",
       "      <td>3</td>\n",
       "      <td>28</td>\n",
       "      <td>2021</td>\n",
       "      <td>6</td>\n",
       "      <td>4</td>\n",
       "      <td>21</td>\n",
       "      <td>ES</td>\n",
       "      <td>1</td>\n",
       "      <td>43</td>\n",
       "      <td>17.571429</td>\n",
       "      <td>1</td>\n",
       "    </tr>\n",
       "    <tr>\n",
       "      <th>97</th>\n",
       "      <td>2021-06-05 01:00:00</td>\n",
       "      <td>0</td>\n",
       "      <td>0</td>\n",
       "      <td>33</td>\n",
       "      <td>73</td>\n",
       "      <td>0</td>\n",
       "      <td>0</td>\n",
       "      <td>73</td>\n",
       "      <td>2021</td>\n",
       "      <td>6</td>\n",
       "      <td>5</td>\n",
       "      <td>1</td>\n",
       "      <td>ES</td>\n",
       "      <td>0</td>\n",
       "      <td>73</td>\n",
       "      <td>25.571429</td>\n",
       "      <td>1</td>\n",
       "    </tr>\n",
       "    <tr>\n",
       "      <th>102</th>\n",
       "      <td>2021-06-05 06:00:00</td>\n",
       "      <td>2</td>\n",
       "      <td>8</td>\n",
       "      <td>42</td>\n",
       "      <td>69</td>\n",
       "      <td>5</td>\n",
       "      <td>4</td>\n",
       "      <td>17</td>\n",
       "      <td>2021</td>\n",
       "      <td>6</td>\n",
       "      <td>5</td>\n",
       "      <td>6</td>\n",
       "      <td>ES</td>\n",
       "      <td>2</td>\n",
       "      <td>69</td>\n",
       "      <td>21.000000</td>\n",
       "      <td>1</td>\n",
       "    </tr>\n",
       "    <tr>\n",
       "      <th>107</th>\n",
       "      <td>2021-06-05 11:00:00</td>\n",
       "      <td>0</td>\n",
       "      <td>2</td>\n",
       "      <td>48</td>\n",
       "      <td>51</td>\n",
       "      <td>2</td>\n",
       "      <td>2</td>\n",
       "      <td>18</td>\n",
       "      <td>2021</td>\n",
       "      <td>6</td>\n",
       "      <td>5</td>\n",
       "      <td>11</td>\n",
       "      <td>ES</td>\n",
       "      <td>0</td>\n",
       "      <td>51</td>\n",
       "      <td>17.571429</td>\n",
       "      <td>1</td>\n",
       "    </tr>\n",
       "    <tr>\n",
       "      <th>112</th>\n",
       "      <td>2021-06-05 16:00:00</td>\n",
       "      <td>1</td>\n",
       "      <td>8</td>\n",
       "      <td>45</td>\n",
       "      <td>52</td>\n",
       "      <td>3</td>\n",
       "      <td>2</td>\n",
       "      <td>35</td>\n",
       "      <td>2021</td>\n",
       "      <td>6</td>\n",
       "      <td>5</td>\n",
       "      <td>16</td>\n",
       "      <td>ES</td>\n",
       "      <td>1</td>\n",
       "      <td>52</td>\n",
       "      <td>20.857143</td>\n",
       "      <td>1</td>\n",
       "    </tr>\n",
       "    <tr>\n",
       "      <th>127</th>\n",
       "      <td>2021-06-06 07:00:00</td>\n",
       "      <td>0</td>\n",
       "      <td>8</td>\n",
       "      <td>60</td>\n",
       "      <td>79</td>\n",
       "      <td>4</td>\n",
       "      <td>2</td>\n",
       "      <td>13</td>\n",
       "      <td>2021</td>\n",
       "      <td>6</td>\n",
       "      <td>6</td>\n",
       "      <td>7</td>\n",
       "      <td>ES</td>\n",
       "      <td>0</td>\n",
       "      <td>79</td>\n",
       "      <td>23.714286</td>\n",
       "      <td>1</td>\n",
       "    </tr>\n",
       "    <tr>\n",
       "      <th>132</th>\n",
       "      <td>2021-06-06 12:00:00</td>\n",
       "      <td>0</td>\n",
       "      <td>13</td>\n",
       "      <td>47</td>\n",
       "      <td>52</td>\n",
       "      <td>3</td>\n",
       "      <td>2</td>\n",
       "      <td>10</td>\n",
       "      <td>2021</td>\n",
       "      <td>6</td>\n",
       "      <td>6</td>\n",
       "      <td>12</td>\n",
       "      <td>ES</td>\n",
       "      <td>0</td>\n",
       "      <td>52</td>\n",
       "      <td>18.142857</td>\n",
       "      <td>1</td>\n",
       "    </tr>\n",
       "    <tr>\n",
       "      <th>136</th>\n",
       "      <td>2021-06-06 16:00:00</td>\n",
       "      <td>0</td>\n",
       "      <td>5</td>\n",
       "      <td>47</td>\n",
       "      <td>62</td>\n",
       "      <td>2</td>\n",
       "      <td>1</td>\n",
       "      <td>25</td>\n",
       "      <td>2021</td>\n",
       "      <td>6</td>\n",
       "      <td>6</td>\n",
       "      <td>16</td>\n",
       "      <td>ES</td>\n",
       "      <td>0</td>\n",
       "      <td>62</td>\n",
       "      <td>20.285714</td>\n",
       "      <td>1</td>\n",
       "    </tr>\n",
       "    <tr>\n",
       "      <th>144</th>\n",
       "      <td>2021-06-07 00:00:00</td>\n",
       "      <td>0</td>\n",
       "      <td>0</td>\n",
       "      <td>42</td>\n",
       "      <td>62</td>\n",
       "      <td>4</td>\n",
       "      <td>2</td>\n",
       "      <td>0</td>\n",
       "      <td>2021</td>\n",
       "      <td>6</td>\n",
       "      <td>7</td>\n",
       "      <td>0</td>\n",
       "      <td>ES</td>\n",
       "      <td>0</td>\n",
       "      <td>62</td>\n",
       "      <td>15.714286</td>\n",
       "      <td>1</td>\n",
       "    </tr>\n",
       "    <tr>\n",
       "      <th>147</th>\n",
       "      <td>2021-06-07 03:00:00</td>\n",
       "      <td>0</td>\n",
       "      <td>0</td>\n",
       "      <td>56</td>\n",
       "      <td>89</td>\n",
       "      <td>0</td>\n",
       "      <td>0</td>\n",
       "      <td>0</td>\n",
       "      <td>2021</td>\n",
       "      <td>6</td>\n",
       "      <td>7</td>\n",
       "      <td>3</td>\n",
       "      <td>ES</td>\n",
       "      <td>0</td>\n",
       "      <td>89</td>\n",
       "      <td>20.714286</td>\n",
       "      <td>1</td>\n",
       "    </tr>\n",
       "    <tr>\n",
       "      <th>151</th>\n",
       "      <td>2021-06-07 07:00:00</td>\n",
       "      <td>0</td>\n",
       "      <td>10</td>\n",
       "      <td>77</td>\n",
       "      <td>52</td>\n",
       "      <td>6</td>\n",
       "      <td>3</td>\n",
       "      <td>17</td>\n",
       "      <td>2021</td>\n",
       "      <td>6</td>\n",
       "      <td>7</td>\n",
       "      <td>7</td>\n",
       "      <td>ES</td>\n",
       "      <td>0</td>\n",
       "      <td>77</td>\n",
       "      <td>23.571429</td>\n",
       "      <td>1</td>\n",
       "    </tr>\n",
       "    <tr>\n",
       "      <th>161</th>\n",
       "      <td>2021-06-07 17:00:00</td>\n",
       "      <td>0</td>\n",
       "      <td>6</td>\n",
       "      <td>65</td>\n",
       "      <td>58</td>\n",
       "      <td>5</td>\n",
       "      <td>2</td>\n",
       "      <td>15</td>\n",
       "      <td>2021</td>\n",
       "      <td>6</td>\n",
       "      <td>7</td>\n",
       "      <td>17</td>\n",
       "      <td>ES</td>\n",
       "      <td>0</td>\n",
       "      <td>65</td>\n",
       "      <td>21.571429</td>\n",
       "      <td>1</td>\n",
       "    </tr>\n",
       "    <tr>\n",
       "      <th>166</th>\n",
       "      <td>2021-06-07 22:00:00</td>\n",
       "      <td>0</td>\n",
       "      <td>8</td>\n",
       "      <td>43</td>\n",
       "      <td>41</td>\n",
       "      <td>2</td>\n",
       "      <td>1</td>\n",
       "      <td>42</td>\n",
       "      <td>2021</td>\n",
       "      <td>6</td>\n",
       "      <td>7</td>\n",
       "      <td>22</td>\n",
       "      <td>ES</td>\n",
       "      <td>0</td>\n",
       "      <td>43</td>\n",
       "      <td>19.571429</td>\n",
       "      <td>1</td>\n",
       "    </tr>\n",
       "  </tbody>\n",
       "</table>\n",
       "</div>"
      ],
      "text/plain": [
       "                   date  ahorro corriente  ahorro energia  energia solar  \\\n",
       "9   2021-06-01 09:00:00                 4              12             75   \n",
       "12  2021-06-01 12:00:00                 1              12             76   \n",
       "15  2021-06-01 15:00:00                 2              12             59   \n",
       "23  2021-06-01 23:00:00                 3              17             39   \n",
       "25  2021-06-02 01:00:00                 0               0             57   \n",
       "27  2021-06-02 03:00:00                10               0             31   \n",
       "31  2021-06-02 07:00:00                 2              15             89   \n",
       "40  2021-06-02 16:00:00                 0              11             66   \n",
       "50  2021-06-03 02:00:00                 0              14             56   \n",
       "52  2021-06-03 04:00:00                 0               0             43   \n",
       "56  2021-06-03 08:00:00                 5              14             80   \n",
       "59  2021-06-03 11:00:00                 0              15             66   \n",
       "63  2021-06-03 15:00:00                 4               8             63   \n",
       "67  2021-06-03 19:00:00                 0              12             44   \n",
       "76  2021-06-04 04:00:00                 0               5             49   \n",
       "79  2021-06-04 07:00:00                 2              11             78   \n",
       "82  2021-06-04 10:00:00                 1              11             53   \n",
       "89  2021-06-04 17:00:00                 1               9             44   \n",
       "93  2021-06-04 21:00:00                 1               9             35   \n",
       "97  2021-06-05 01:00:00                 0               0             33   \n",
       "102 2021-06-05 06:00:00                 2               8             42   \n",
       "107 2021-06-05 11:00:00                 0               2             48   \n",
       "112 2021-06-05 16:00:00                 1               8             45   \n",
       "127 2021-06-06 07:00:00                 0               8             60   \n",
       "132 2021-06-06 12:00:00                 0              13             47   \n",
       "136 2021-06-06 16:00:00                 0               5             47   \n",
       "144 2021-06-07 00:00:00                 0               0             42   \n",
       "147 2021-06-07 03:00:00                 0               0             56   \n",
       "151 2021-06-07 07:00:00                 0              10             77   \n",
       "161 2021-06-07 17:00:00                 0               6             65   \n",
       "166 2021-06-07 22:00:00                 0               8             43   \n",
       "\n",
       "     placas solares  energia fotovoltaica  energia solar fotovoltaica  \\\n",
       "9                65                     4                           2   \n",
       "12               75                     4                           3   \n",
       "15               67                     4                           1   \n",
       "23               59                     3                           2   \n",
       "25               43                    10                           7   \n",
       "27               68                     6                           0   \n",
       "31               69                     4                           2   \n",
       "40               65                     4                           2   \n",
       "50               74                    12                           8   \n",
       "52               73                     3                           3   \n",
       "56               69                     8                           4   \n",
       "59               68                     4                           2   \n",
       "63               70                     4                           2   \n",
       "67               66                     2                           1   \n",
       "76               66                     5                           3   \n",
       "79               59                     6                           4   \n",
       "82               58                     3                           2   \n",
       "89               61                     2                           2   \n",
       "93               43                     4                           3   \n",
       "97               73                     0                           0   \n",
       "102              69                     5                           4   \n",
       "107              51                     2                           2   \n",
       "112              52                     3                           2   \n",
       "127              79                     4                           2   \n",
       "132              52                     3                           2   \n",
       "136              62                     2                           1   \n",
       "144              62                     4                           2   \n",
       "147              89                     0                           0   \n",
       "151              52                     6                           3   \n",
       "161              58                     5                           2   \n",
       "166              41                     2                           1   \n",
       "\n",
       "     placa energia solar  year  month  day  hour geo_location  min_interest  \\\n",
       "9                     36  2021      6    1     9           ES             2   \n",
       "12                    16  2021      6    1    12           ES             1   \n",
       "15                    40  2021      6    1    15           ES             1   \n",
       "23                    57  2021      6    1    23           ES             2   \n",
       "25                   100  2021      6    2     1           ES             0   \n",
       "27                    89  2021      6    2     3           ES             0   \n",
       "31                     9  2021      6    2     7           ES             2   \n",
       "40                    14  2021      6    2    16           ES             0   \n",
       "50                     0  2021      6    3     2           ES             0   \n",
       "52                    42  2021      6    3     4           ES             0   \n",
       "56                    31  2021      6    3     8           ES             4   \n",
       "59                    37  2021      6    3    11           ES             0   \n",
       "63                     7  2021      6    3    15           ES             2   \n",
       "67                    29  2021      6    3    19           ES             0   \n",
       "76                    39  2021      6    4     4           ES             0   \n",
       "79                    26  2021      6    4     7           ES             2   \n",
       "82                    30  2021      6    4    10           ES             1   \n",
       "89                    25  2021      6    4    17           ES             1   \n",
       "93                    28  2021      6    4    21           ES             1   \n",
       "97                    73  2021      6    5     1           ES             0   \n",
       "102                   17  2021      6    5     6           ES             2   \n",
       "107                   18  2021      6    5    11           ES             0   \n",
       "112                   35  2021      6    5    16           ES             1   \n",
       "127                   13  2021      6    6     7           ES             0   \n",
       "132                   10  2021      6    6    12           ES             0   \n",
       "136                   25  2021      6    6    16           ES             0   \n",
       "144                    0  2021      6    7     0           ES             0   \n",
       "147                    0  2021      6    7     3           ES             0   \n",
       "151                   17  2021      6    7     7           ES             0   \n",
       "161                   15  2021      6    7    17           ES             0   \n",
       "166                   42  2021      6    7    22           ES             0   \n",
       "\n",
       "     max_interest  avg_interest  is_peak  \n",
       "9              75     28.285714        1  \n",
       "12             76     26.714286        1  \n",
       "15             67     26.428571        1  \n",
       "23             59     25.714286        1  \n",
       "25            100     31.000000        1  \n",
       "27             89     29.142857        1  \n",
       "31             89     27.142857        1  \n",
       "40             66     23.142857        1  \n",
       "50             74     23.428571        1  \n",
       "52             73     23.428571        1  \n",
       "56             80     30.142857        1  \n",
       "59             68     27.428571        1  \n",
       "63             70     22.571429        1  \n",
       "67             66     22.000000        1  \n",
       "76             66     23.857143        1  \n",
       "79             78     26.571429        1  \n",
       "82             58     22.571429        1  \n",
       "89             61     20.571429        1  \n",
       "93             43     17.571429        1  \n",
       "97             73     25.571429        1  \n",
       "102            69     21.000000        1  \n",
       "107            51     17.571429        1  \n",
       "112            52     20.857143        1  \n",
       "127            79     23.714286        1  \n",
       "132            52     18.142857        1  \n",
       "136            62     20.285714        1  \n",
       "144            62     15.714286        1  \n",
       "147            89     20.714286        1  \n",
       "151            77     23.571429        1  \n",
       "161            65     21.571429        1  \n",
       "166            43     19.571429        1  "
      ]
     },
     "execution_count": 95,
     "metadata": {},
     "output_type": "execute_result"
    }
   ],
   "source": [
    "# Mark registry as a peak 1 = true or not 0 = false\n",
    "df['is_peak'] = 0\n",
    "for i in peaks2:\n",
    "    df.loc[i,['is_peak']] = 1\n",
    "\n",
    "filter = df['is_peak'] == 1 # check updates\n",
    "df[filter]"
   ]
  },
  {
   "cell_type": "markdown",
   "metadata": {},
   "source": [
    "## Logistic Regression for is_peak prediction"
   ]
  },
  {
   "cell_type": "code",
   "execution_count": 96,
   "metadata": {},
   "outputs": [
    {
     "data": {
      "text/html": [
       "<div>\n",
       "<style scoped>\n",
       "    .dataframe tbody tr th:only-of-type {\n",
       "        vertical-align: middle;\n",
       "    }\n",
       "\n",
       "    .dataframe tbody tr th {\n",
       "        vertical-align: top;\n",
       "    }\n",
       "\n",
       "    .dataframe thead th {\n",
       "        text-align: right;\n",
       "    }\n",
       "</style>\n",
       "<table border=\"1\" class=\"dataframe\">\n",
       "  <thead>\n",
       "    <tr style=\"text-align: right;\">\n",
       "      <th></th>\n",
       "      <th>date</th>\n",
       "      <th>ahorro corriente</th>\n",
       "      <th>ahorro energia</th>\n",
       "      <th>energia solar</th>\n",
       "      <th>placas solares</th>\n",
       "      <th>energia fotovoltaica</th>\n",
       "      <th>energia solar fotovoltaica</th>\n",
       "      <th>placa energia solar</th>\n",
       "      <th>year</th>\n",
       "      <th>month</th>\n",
       "      <th>day</th>\n",
       "      <th>hour</th>\n",
       "      <th>geo_location</th>\n",
       "      <th>min_interest</th>\n",
       "      <th>max_interest</th>\n",
       "      <th>avg_interest</th>\n",
       "      <th>is_peak</th>\n",
       "    </tr>\n",
       "  </thead>\n",
       "  <tbody>\n",
       "    <tr>\n",
       "      <th>0</th>\n",
       "      <td>2021-06-01 00:00:00</td>\n",
       "      <td>0</td>\n",
       "      <td>13</td>\n",
       "      <td>20</td>\n",
       "      <td>37</td>\n",
       "      <td>0</td>\n",
       "      <td>0</td>\n",
       "      <td>0</td>\n",
       "      <td>2021</td>\n",
       "      <td>6</td>\n",
       "      <td>1</td>\n",
       "      <td>0</td>\n",
       "      <td>ES</td>\n",
       "      <td>0</td>\n",
       "      <td>37</td>\n",
       "      <td>10.000000</td>\n",
       "      <td>0</td>\n",
       "    </tr>\n",
       "    <tr>\n",
       "      <th>1</th>\n",
       "      <td>2021-06-01 01:00:00</td>\n",
       "      <td>0</td>\n",
       "      <td>0</td>\n",
       "      <td>12</td>\n",
       "      <td>38</td>\n",
       "      <td>0</td>\n",
       "      <td>0</td>\n",
       "      <td>0</td>\n",
       "      <td>2021</td>\n",
       "      <td>6</td>\n",
       "      <td>1</td>\n",
       "      <td>1</td>\n",
       "      <td>ES</td>\n",
       "      <td>0</td>\n",
       "      <td>38</td>\n",
       "      <td>7.142857</td>\n",
       "      <td>0</td>\n",
       "    </tr>\n",
       "    <tr>\n",
       "      <th>2</th>\n",
       "      <td>2021-06-01 02:00:00</td>\n",
       "      <td>0</td>\n",
       "      <td>14</td>\n",
       "      <td>70</td>\n",
       "      <td>33</td>\n",
       "      <td>4</td>\n",
       "      <td>4</td>\n",
       "      <td>0</td>\n",
       "      <td>2021</td>\n",
       "      <td>6</td>\n",
       "      <td>1</td>\n",
       "      <td>2</td>\n",
       "      <td>ES</td>\n",
       "      <td>0</td>\n",
       "      <td>70</td>\n",
       "      <td>17.857143</td>\n",
       "      <td>0</td>\n",
       "    </tr>\n",
       "    <tr>\n",
       "      <th>3</th>\n",
       "      <td>2021-06-01 03:00:00</td>\n",
       "      <td>0</td>\n",
       "      <td>0</td>\n",
       "      <td>50</td>\n",
       "      <td>47</td>\n",
       "      <td>3</td>\n",
       "      <td>3</td>\n",
       "      <td>0</td>\n",
       "      <td>2021</td>\n",
       "      <td>6</td>\n",
       "      <td>1</td>\n",
       "      <td>3</td>\n",
       "      <td>ES</td>\n",
       "      <td>0</td>\n",
       "      <td>50</td>\n",
       "      <td>14.714286</td>\n",
       "      <td>0</td>\n",
       "    </tr>\n",
       "    <tr>\n",
       "      <th>4</th>\n",
       "      <td>2021-06-01 04:00:00</td>\n",
       "      <td>0</td>\n",
       "      <td>0</td>\n",
       "      <td>54</td>\n",
       "      <td>59</td>\n",
       "      <td>4</td>\n",
       "      <td>4</td>\n",
       "      <td>0</td>\n",
       "      <td>2021</td>\n",
       "      <td>6</td>\n",
       "      <td>1</td>\n",
       "      <td>4</td>\n",
       "      <td>ES</td>\n",
       "      <td>0</td>\n",
       "      <td>59</td>\n",
       "      <td>17.285714</td>\n",
       "      <td>0</td>\n",
       "    </tr>\n",
       "  </tbody>\n",
       "</table>\n",
       "</div>"
      ],
      "text/plain": [
       "                 date  ahorro corriente  ahorro energia  energia solar  \\\n",
       "0 2021-06-01 00:00:00                 0              13             20   \n",
       "1 2021-06-01 01:00:00                 0               0             12   \n",
       "2 2021-06-01 02:00:00                 0              14             70   \n",
       "3 2021-06-01 03:00:00                 0               0             50   \n",
       "4 2021-06-01 04:00:00                 0               0             54   \n",
       "\n",
       "   placas solares  energia fotovoltaica  energia solar fotovoltaica  \\\n",
       "0              37                     0                           0   \n",
       "1              38                     0                           0   \n",
       "2              33                     4                           4   \n",
       "3              47                     3                           3   \n",
       "4              59                     4                           4   \n",
       "\n",
       "   placa energia solar  year  month  day  hour geo_location  min_interest  \\\n",
       "0                    0  2021      6    1     0           ES             0   \n",
       "1                    0  2021      6    1     1           ES             0   \n",
       "2                    0  2021      6    1     2           ES             0   \n",
       "3                    0  2021      6    1     3           ES             0   \n",
       "4                    0  2021      6    1     4           ES             0   \n",
       "\n",
       "   max_interest  avg_interest  is_peak  \n",
       "0            37     10.000000        0  \n",
       "1            38      7.142857        0  \n",
       "2            70     17.857143        0  \n",
       "3            50     14.714286        0  \n",
       "4            59     17.285714        0  "
      ]
     },
     "execution_count": 96,
     "metadata": {},
     "output_type": "execute_result"
    }
   ],
   "source": [
    "# Lets select some features for the modeling. Also we change the target data type to be integer, as it is a requirement by the skitlearn algorithm:\n",
    "# churn_df = df[['placas solares','max_interest', 'avg_interest','is_peak']]\n",
    "# churn is is_peak column\n",
    "df['is_peak'] = df['is_peak'].astype('int')\n",
    "df.head()"
   ]
  },
  {
   "cell_type": "code",
   "execution_count": 188,
   "metadata": {},
   "outputs": [
    {
     "data": {
      "text/plain": [
       "array([[-1.84, -1.85, -1.74],\n",
       "       [-1.76, -1.77, -2.33],\n",
       "       [-2.19,  0.75, -0.11],\n",
       "       [-0.97, -0.82, -0.76],\n",
       "       [ 0.08, -0.11, -0.23]])"
      ]
     },
     "execution_count": 188,
     "metadata": {},
     "output_type": "execute_result"
    }
   ],
   "source": [
    "# Lets define X, and y for our dataset:\n",
    "#X = np.asarray(df[['ahorro energia','energia solar', 'placas solares','avg_interest','max_interest','year','month','day','hour']])\n",
    "X = np.asarray(df[['placas solares','max_interest', 'avg_interest']])\n",
    "#X = np.asarray(df[['energia solar','placas solares','energia fotovoltaica','energia solar fotovoltaica','max_interest','avg_interest']])\n",
    "X[0:5]\n",
    "y = np.asarray(df['is_peak'])\n",
    "y [0:5]\n",
    "\n",
    "# Also, we normalize the dataset:\n",
    "# from sklearn import preprocessing\n",
    "X = preprocessing.StandardScaler().fit(X).transform(X)\n",
    "X[0:5]"
   ]
  },
  {
   "cell_type": "code",
   "execution_count": 189,
   "metadata": {},
   "outputs": [
    {
     "name": "stdout",
     "output_type": "stream",
     "text": [
      "Train set: (100, 3) (100,)\n",
      "Test set: (68, 3) (68,)\n"
     ]
    }
   ],
   "source": [
    "# Train and test Dataset\n",
    "# from sklearn.model_selection import train_test_split\n",
    "X_train, X_test, y_train, y_test = train_test_split( X, y, test_size=0.4, random_state=4)\n",
    "print ('Train set:', X_train.shape,  y_train.shape)\n",
    "print ('Test set:', X_test.shape,  y_test.shape)"
   ]
  },
  {
   "cell_type": "code",
   "execution_count": 190,
   "metadata": {},
   "outputs": [
    {
     "data": {
      "text/plain": [
       "array([0, 0, 0, 0, 0, 0, 0, 1, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 1, 0, 0, 0,\n",
       "       0, 0, 1, 0, 0, 0, 0, 0, 0, 1, 0, 0, 0, 0, 1, 0, 0, 0, 0, 0, 0, 0,\n",
       "       0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 1, 0, 0, 0, 0, 1, 0, 0,\n",
       "       0, 0])"
      ]
     },
     "execution_count": 190,
     "metadata": {},
     "output_type": "execute_result"
    }
   ],
   "source": [
    "# Train the model\n",
    "#from sklearn.linear_model import LogisticRegression\n",
    "#from sklearn.metrics import confusion_matrix\n",
    "LR = LogisticRegression(C=0.01, solver='liblinear').fit(X_train,y_train)\n",
    "LRyhat = LR.predict(X_test)\n",
    "\n",
    "# Now we can predict using our test set:\n",
    "yhat = LR.predict(X_test)\n",
    "yhat\n",
    "\n"
   ]
  },
  {
   "cell_type": "code",
   "execution_count": 191,
   "metadata": {},
   "outputs": [
    {
     "data": {
      "text/plain": [
       "array([[0.53, 0.47],\n",
       "       [0.51, 0.49],\n",
       "       [0.53, 0.47],\n",
       "       [0.55, 0.45],\n",
       "       [0.55, 0.45],\n",
       "       [0.55, 0.45],\n",
       "       [0.63, 0.37],\n",
       "       [0.5 , 0.5 ],\n",
       "       [0.55, 0.45],\n",
       "       [0.64, 0.36],\n",
       "       [0.55, 0.45],\n",
       "       [0.58, 0.42],\n",
       "       [0.55, 0.45],\n",
       "       [0.61, 0.39],\n",
       "       [0.54, 0.46],\n",
       "       [0.58, 0.42],\n",
       "       [0.62, 0.38],\n",
       "       [0.59, 0.41],\n",
       "       [0.45, 0.55],\n",
       "       [0.58, 0.42],\n",
       "       [0.58, 0.42],\n",
       "       [0.51, 0.49],\n",
       "       [0.58, 0.42],\n",
       "       [0.51, 0.49],\n",
       "       [0.48, 0.52],\n",
       "       [0.56, 0.44],\n",
       "       [0.52, 0.48],\n",
       "       [0.57, 0.43],\n",
       "       [0.6 , 0.4 ],\n",
       "       [0.54, 0.46],\n",
       "       [0.59, 0.41],\n",
       "       [0.43, 0.57],\n",
       "       [0.54, 0.46],\n",
       "       [0.65, 0.35],\n",
       "       [0.52, 0.48],\n",
       "       [0.54, 0.46],\n",
       "       [0.47, 0.53],\n",
       "       [0.53, 0.47],\n",
       "       [0.51, 0.49],\n",
       "       [0.54, 0.46],\n",
       "       [0.65, 0.35],\n",
       "       [0.61, 0.39],\n",
       "       [0.56, 0.44],\n",
       "       [0.52, 0.48],\n",
       "       [0.56, 0.44],\n",
       "       [0.6 , 0.4 ],\n",
       "       [0.52, 0.48],\n",
       "       [0.51, 0.49],\n",
       "       [0.54, 0.46],\n",
       "       [0.6 , 0.4 ],\n",
       "       [0.63, 0.37],\n",
       "       [0.6 , 0.4 ],\n",
       "       [0.68, 0.32],\n",
       "       [0.58, 0.42],\n",
       "       [0.5 , 0.5 ],\n",
       "       [0.59, 0.41],\n",
       "       [0.68, 0.32],\n",
       "       [0.53, 0.47],\n",
       "       [0.47, 0.53],\n",
       "       [0.52, 0.48],\n",
       "       [0.58, 0.42],\n",
       "       [0.5 , 0.5 ],\n",
       "       [0.6 , 0.4 ],\n",
       "       [0.48, 0.52],\n",
       "       [0.52, 0.48],\n",
       "       [0.55, 0.45],\n",
       "       [0.5 , 0.5 ],\n",
       "       [0.58, 0.42]])"
      ]
     },
     "execution_count": 191,
     "metadata": {},
     "output_type": "execute_result"
    }
   ],
   "source": [
    "#predict_proba returns estimates for all classes, ordered by the label of classes. So, the first column is the probability of class 0, P(Y=0|X), and second column is probability of class 1, P(Y=1|X):\n",
    "yhat_prob = LR.predict_proba(X_test)\n",
    "yhat_prob"
   ]
  },
  {
   "cell_type": "code",
   "execution_count": 192,
   "metadata": {},
   "outputs": [
    {
     "data": {
      "text/plain": [
       "0.9206349206349206"
      ]
     },
     "execution_count": 192,
     "metadata": {},
     "output_type": "execute_result"
    }
   ],
   "source": [
    "# Evaluation\n",
    "# Jaccard\n",
    "# from sklearn.metrics import jaccard_score\n",
    "jaccard_score(y_test, yhat,pos_label=0)\n"
   ]
  },
  {
   "cell_type": "code",
   "execution_count": 193,
   "metadata": {},
   "outputs": [
    {
     "name": "stdout",
     "output_type": "stream",
     "text": [
      "[[ 5  3]\n",
      " [ 2 58]]\n"
     ]
    }
   ],
   "source": [
    "# Evaluation\n",
    "# Confusion Matrix\n",
    "#from sklearn.metrics import classification_report, confusion_matrix\n",
    "import itertools\n",
    "def plot_confusion_matrix(cm, classes,\n",
    "                          normalize=False,\n",
    "                          title='Confusion matrix',\n",
    "                          cmap=plt.cm.Blues):\n",
    "    \"\"\"\n",
    "    This function prints and plots the confusion matrix.\n",
    "    Normalization can be applied by setting `normalize=True`.\n",
    "    \"\"\"\n",
    "    if normalize:\n",
    "        cm = cm.astype('float') / cm.sum(axis=1)[:, np.newaxis]\n",
    "        print(\"Normalized confusion matrix\")\n",
    "    else:\n",
    "        print('Confusion matrix, without normalization')\n",
    "\n",
    "    print(cm)\n",
    "\n",
    "    plt.imshow(cm, interpolation='nearest', cmap=cmap)\n",
    "    plt.title(title)\n",
    "    plt.colorbar()\n",
    "    tick_marks = np.arange(len(classes))\n",
    "    plt.xticks(tick_marks, classes, rotation=45)\n",
    "    plt.yticks(tick_marks, classes)\n",
    "\n",
    "    fmt = '.2f' if normalize else 'd'\n",
    "    thresh = cm.max() / 2.\n",
    "    for i, j in itertools.product(range(cm.shape[0]), range(cm.shape[1])):\n",
    "        plt.text(j, i, format(cm[i, j], fmt),\n",
    "                 horizontalalignment=\"center\",\n",
    "                 color=\"white\" if cm[i, j] > thresh else \"black\")\n",
    "\n",
    "    plt.tight_layout()\n",
    "    plt.ylabel('True label')\n",
    "    plt.xlabel('Predicted label')\n",
    "print(confusion_matrix(y_test, yhat, labels=[1,0]))"
   ]
  },
  {
   "cell_type": "code",
   "execution_count": 194,
   "metadata": {},
   "outputs": [
    {
     "name": "stdout",
     "output_type": "stream",
     "text": [
      "Confusion matrix, without normalization\n",
      "[[ 5  3]\n",
      " [ 2 58]]\n"
     ]
    },
    {
     "data": {
      "image/png": "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\n",
      "text/plain": [
       "<Figure size 432x288 with 2 Axes>"
      ]
     },
     "metadata": {
      "needs_background": "light"
     },
     "output_type": "display_data"
    }
   ],
   "source": [
    "# Compute confusion matrix\n",
    "cnf_matrix = confusion_matrix(y_test, yhat, labels=[1,0])\n",
    "np.set_printoptions(precision=2)\n",
    "\n",
    "\n",
    "# Plot non-normalized confusion matrix\n",
    "plt.figure()\n",
    "plot_confusion_matrix(cnf_matrix, classes=['is_peak=1','is_peak=0'],normalize= False,  title='Confusion matrix')"
   ]
  },
  {
   "cell_type": "markdown",
   "metadata": {},
   "source": [
    "### Results"
   ]
  },
  {
   "cell_type": "code",
   "execution_count": 197,
   "metadata": {},
   "outputs": [],
   "source": [
    "# With: ['ahorro energia','energia solar', 'placas solares','avg_interest','max_interest','year','month','day','hour']\n",
    "# Results: 2 of 6 is_peak=1 predicted well, 57 of 62 is_peak=0 predicted well --> 0,31% accur\n",
    "\n",
    "# With: ['placas solares','max_interest', 'avg_interest']\n",
    "# Results: 2 of 6 is_peak=1 predicted well, 59 of 62 is_peak=0 predicted well --> 0,40% accur\n",
    "\n",
    "# With: ['placas solares','max_interest', 'avg_interest','year','month','day','hour']\n",
    "# Results: 2 of 6 is_peak=1 predicted well, 58 of 62 is_peak=0 predicted well --> 0,33% accur\n",
    "\n",
    "# With: ['energia solar','placas solares','energia fotovoltaica','energia solar fotovoltaica','max_interest','avg_interest']\n",
    "# Results: 6 of 8 is_peak=1 predicted well, 51 of 60 is_peak=0 predicted well -->0,40 accur prec 1, 0,84 avrg\n",
    "\n",
    "# With ['placas solares', 'max_interest', 'avg_interest']\n",
    "# Results: 5 of 8 is_peak=1 predicted well, 58 of 60 is_peak_=0 predicted well --> 0,67% accur precision in 1 (0,93 avg)\n",
    "\n",
    "# With ['placas solares','energia solar', 'max_interest', 'avg_interest']\n",
    "# Results: 4 of 6 is_peak=1 predicted well, 42 of 46 is_peak_=0 predicted well --> 0,62% accur precision in 1 (0,90 avg)"
   ]
  },
  {
   "cell_type": "code",
   "execution_count": 198,
   "metadata": {},
   "outputs": [
    {
     "name": "stdout",
     "output_type": "stream",
     "text": [
      "              precision    recall  f1-score   support\n",
      "\n",
      "           0       0.95      0.97      0.96        60\n",
      "           1       0.71      0.62      0.67         8\n",
      "\n",
      "    accuracy                           0.93        68\n",
      "   macro avg       0.83      0.80      0.81        68\n",
      "weighted avg       0.92      0.93      0.92        68\n",
      "\n"
     ]
    }
   ],
   "source": [
    "print (classification_report(y_test, yhat))"
   ]
  },
  {
   "cell_type": "code",
   "execution_count": 199,
   "metadata": {},
   "outputs": [
    {
     "data": {
      "text/plain": [
       "0.5859908537562785"
      ]
     },
     "execution_count": 199,
     "metadata": {},
     "output_type": "execute_result"
    }
   ],
   "source": [
    "# Log loss\n",
    "# from sklearn.metrics import log_loss\n",
    "log_loss(y_test, yhat_prob)"
   ]
  },
  {
   "cell_type": "code",
   "execution_count": null,
   "metadata": {},
   "outputs": [],
   "source": []
  },
  {
   "cell_type": "code",
   "execution_count": 200,
   "metadata": {},
   "outputs": [],
   "source": [
    "# TODO --> split N calls of historical interest month by month to get the hourly overall detail and merge into a single csv file"
   ]
  },
  {
   "cell_type": "code",
   "execution_count": null,
   "metadata": {},
   "outputs": [],
   "source": []
  },
  {
   "cell_type": "code",
   "execution_count": null,
   "metadata": {},
   "outputs": [],
   "source": [
    "# TODO --> split N calls of interest_by_region and merge them all by N historical_interest for each region in the same timeframe"
   ]
  },
  {
   "cell_type": "code",
   "execution_count": null,
   "metadata": {},
   "outputs": [],
   "source": []
  }
 ],
 "metadata": {
  "kernelspec": {
   "display_name": "Python 3",
   "language": "python",
   "name": "python3"
  },
  "language_info": {
   "codemirror_mode": {
    "name": "ipython",
    "version": 3
   },
   "file_extension": ".py",
   "mimetype": "text/x-python",
   "name": "python",
   "nbconvert_exporter": "python",
   "pygments_lexer": "ipython3",
   "version": "3.8.5"
  }
 },
 "nbformat": 4,
 "nbformat_minor": 4
}
